"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{533:()=>{function Ce(n){return"function"==typeof n}function Wl(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const wf=Wl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ja(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ar{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ce(r))try{r()}catch(o){e=o instanceof wf?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ZA(o)}catch(s){e=e??[],s instanceof wf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ZA(e);else{if(e instanceof ar){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ja(t,e)}remove(e){const{_finalizers:t}=this;t&&ja(t,e),e instanceof ar&&e._removeParent(this)}}ar.EMPTY=(()=>{const n=new ar;return n.closed=!0,n})();const YA=ar.EMPTY;function XA(n){return n instanceof ar||n&&"closed"in n&&Ce(n.remove)&&Ce(n.add)&&Ce(n.unsubscribe)}function ZA(n){Ce(n)?n():n.unsubscribe()}const ys={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ef={setTimeout(n,e,...t){const{delegate:r}=Ef;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ef;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function JA(n){Ef.setTimeout(()=>{const{onUnhandledError:e}=ys;if(!e)throw n;e(n)})}function Kl(){}const Iq=Ey("C",void 0,void 0);function Ey(n,e,t){return{kind:n,value:e,error:t}}let vs=null;function If(n){if(ys.useDeprecatedSynchronousErrorHandling){const e=!vs;if(e&&(vs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=vs;if(vs=null,t)throw r}}else n()}class Iy extends ar{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,XA(e)&&e.add(this)):this.destination=Mq}static create(e,t,r){return new Ql(e,t,r)}next(e){this.isStopped?Cy(function Cq(n){return Ey("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cy(function xq(n){return Ey("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cy(Iq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dq=Function.prototype.bind;function xy(n,e){return Dq.call(n,e)}class Sq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xf(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xf(r)}else xf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xf(t)}}}class Ql extends Iy{constructor(e,t,r){let i;if(super(),Ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ys.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xy(e.next,o),error:e.error&&xy(e.error,o),complete:e.complete&&xy(e.complete,o)}):i=e}this.destination=new Sq(i)}}function xf(n){ys.useDeprecatedSynchronousErrorHandling?function Tq(n){ys.useDeprecatedSynchronousErrorHandling&&vs&&(vs.errorThrown=!0,vs.error=n)}(n):JA(n)}function Cy(n,e){const{onStoppedNotification:t}=ys;t&&Ef.setTimeout(()=>t(n,e))}const Mq={closed:!0,next:Kl,error:function Aq(n){throw n},complete:Kl},Ty="function"==typeof Symbol&&Symbol.observable||"@@observable";function So(n){return n}function eM(n){return 0===n.length?So:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Nq(n){return n&&n instanceof Iy||function Rq(n){return n&&Ce(n.next)&&Ce(n.error)&&Ce(n.complete)}(n)&&XA(n)}(t)?t:new Ql(t,r,i);return If(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=tM(r))((i,o)=>{const s=new Ql({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ty](){return this}pipe(...t){return eM(t)(this)}toPromise(t){return new(t=tM(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function tM(n){var e;return null!==(e=n??ys.Promise)&&void 0!==e?e:Promise}const Oq=Wl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mt=(()=>{class n extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nM(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Oq}next(t){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?YA:(this.currentObservers=null,o.push(t),new ar(()=>{this.currentObservers=null,ja(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Oe;return t.source=this,t}}return n.create=(e,t)=>new nM(e,t),n})();class nM extends Mt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:YA}}function rM(n){return Ce(n?.lift)}function ot(n){return e=>{if(rM(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(n,e,t,r,i){return new Pq(n,e,t,r,i)}class Pq extends Iy{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Q(n,e){return ot((t,r)=>{let i=0;t.subscribe(st(r,o=>{r.next(n.call(e,o,i++))}))})}function oM(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function bs(n){return this instanceof bs?(this.v=n,this):new bs(n)}function Vq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof bs?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Uq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function aM(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}const Sy=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function cM(n){return Ce(n?.then)}function lM(n){return Ce(n[Ty])}function uM(n){return Symbol.asyncIterator&&Ce(n?.[Symbol.asyncIterator])}function dM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hM=function $q(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fM(n){return Ce(n?.[hM])}function pM(n){return Vq(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield bs(t.read());if(i)return yield bs(void 0);yield yield bs(r)}}finally{t.releaseLock()}})}function mM(n){return Ce(n?.getReader)}function Kn(n){if(n instanceof Oe)return n;if(null!=n){if(lM(n))return function jq(n){return new Oe(e=>{const t=n[Ty]();if(Ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Sy(n))return function Hq(n){return new Oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(cM(n))return function zq(n){return new Oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,JA)})}(n);if(uM(n))return gM(n);if(fM(n))return function Gq(n){return new Oe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(mM(n))return function qq(n){return gM(pM(n))}(n)}throw dM(n)}function gM(n){return new Oe(e=>{(function Wq(n,e){var t,r,i,o;return function Fq(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Uq(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Li(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Lt(n,e,t=1/0){return Ce(e)?Lt((r,i)=>Q((o,s)=>e(r,o,i,s))(Kn(n(r,i))),t):("number"==typeof e&&(t=e),ot((r,i)=>function Kq(n,e,t,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=m=>l<r?p(m):c.push(m),p=m=>{o&&e.next(m),l++;let _=!1;Kn(t(m,u++)).subscribe(st(e,y=>{i?.(y),o?f(y):e.next(y)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){const y=c.shift();s?Li(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Ha(n=1/0){return Lt(So,n)}const ci=new Oe(n=>n.complete());function _M(n){return n&&Ce(n.schedule)}function Ay(n){return n[n.length-1]}function yM(n){return Ce(Ay(n))?n.pop():void 0}function Yl(n){return _M(Ay(n))?n.pop():void 0}function Cf(n,e=0){return ot((t,r)=>{t.subscribe(st(r,i=>Li(r,n,()=>r.next(i),e),()=>Li(r,n,()=>r.complete(),e),i=>Li(r,n,()=>r.error(i),e)))})}function Tf(n,e=0){return ot((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function vM(n,e){if(!n)throw new Error("Iterable cannot be null");return new Oe(t=>{Li(t,e,()=>{const r=n[Symbol.asyncIterator]();Li(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function at(n,e){return e?function n4(n,e){if(null!=n){if(lM(n))return function Xq(n,e){return Kn(n).pipe(Tf(e),Cf(e))}(n,e);if(Sy(n))return function Jq(n,e){return new Oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(cM(n))return function Zq(n,e){return Kn(n).pipe(Tf(e),Cf(e))}(n,e);if(uM(n))return vM(n,e);if(fM(n))return function e4(n,e){return new Oe(t=>{let r;return Li(t,e,()=>{r=n[hM](),Li(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}(n,e);if(mM(n))return function t4(n,e){return vM(pM(n),e)}(n,e)}throw dM(n)}(n,e):Kn(n)}function Df(...n){const e=Yl(n),t=function Yq(n,e){return"number"==typeof Ay(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Kn(r[0]):Ha(t)(at(r,e)):ci}function My(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ql({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function He(n){for(let e in n)if(n[e]===He)return e;throw Error("Could not find renamed property on target object.")}function ky(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ze(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ze).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ry(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const r4=He({__forward_ref__:He});function We(n){return n.__forward_ref__=We,n.toString=function(){return ze(this())},n}function ne(n){return Ny(n)?n():n}function Ny(n){return"function"==typeof n&&n.hasOwnProperty(r4)&&n.__forward_ref__===We}function Oy(n){return n&&!!n.\u0275providers}const Sf="https://g.co/ng/security#xss";class x extends Error{constructor(e,t){super(function Af(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ce(n){return"string"==typeof n?n:null==n?"":String(n)}function Mf(n,e){throw new x(-201,!1)}function Tr(n,e){null==n&&function Ve(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function kf(n){return wM(n,Rf)||wM(n,IM)}function wM(n,e){return n.hasOwnProperty(e)?n[e]:null}function EM(n){return n&&(n.hasOwnProperty(Py)||n.hasOwnProperty(h4))?n[Py]:null}const Rf=He({\u0275prov:He}),Py=He({\u0275inj:He}),IM=He({ngInjectableDef:He}),h4=He({ngInjectorDef:He});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let Fy;function Dr(n){const e=Fy;return Fy=n,e}function xM(n,e,t){const r=kf(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&re.Optional?null:void 0!==e?e:void Mf(ze(n))}const Qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xl={},Ly="__NG_DI_FLAG__",Nf="ngTempTokenPath",m4=/\n/gm,CM="__source";let Zl;function za(n){const e=Zl;return Zl=n,e}function _4(n,e=re.Default){if(void 0===Zl)throw new x(-203,!1);return null===Zl?xM(n,void 0,e):Zl.get(n,e&re.Optional?null:void 0,e)}function C(n,e=re.Default){return(function f4(){return Fy}()||_4)(ne(n),e)}function de(n,e=re.Default){return C(n,Of(e))}function Of(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vy(n){const e=[];for(let t=0;t<n.length;t++){const r=ne(n[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){const a=r[s],c=y4(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(C(i,o))}else e.push(C(r))}return e}function Jl(n,e){return n[Ly]=e,n.prototype[Ly]=e,n}function y4(n){return n[Ly]}function Mo(n){return{toString:n}.toString()}var $r=(()=>(($r=$r||{})[$r.OnPush=0]="OnPush",$r[$r.Default=1]="Default",$r))(),jr=(()=>{return(n=jr||(jr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",jr;var n})();const Vi={},Pe=[],Pf=He({\u0275cmp:He}),Uy=He({\u0275dir:He}),By=He({\u0275pipe:He}),DM=He({\u0275mod:He}),Ui=He({\u0275fac:He}),eu=He({__NG_ELEMENT_ID__:He});let w4=0;function wt(n){return Mo(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===$r.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Pe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||jr.Emulated,id:"c"+w4++,styles:n.styles||Pe,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,s=n.features;return i.inputs=MM(n.inputs,r),i.outputs=MM(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(SM).filter(AM):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Rn).filter(AM):null,i})}function SM(n){return Ue(n)||yn(n)}function AM(n){return null!==n}function Xe(n){return Mo(()=>({type:n.type,bootstrap:n.bootstrap||Pe,declarations:n.declarations||Pe,imports:n.imports||Pe,exports:n.exports||Pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function MM(n,e){if(null==n)return Vi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const H=wt;function Qn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ue(n){return n[Pf]||null}function yn(n){return n[Uy]||null}function Rn(n){return n[By]||null}function lr(n,e){const t=n[DM]||null;if(!t&&!0===e)throw new Error(`Type ${ze(n)} does not have '\u0275mod' property.`);return t}function ur(n){return Array.isArray(n)&&"object"==typeof n[1]}function zr(n){return Array.isArray(n)&&!0===n[1]}function Hy(n){return 0!=(4&n.flags)}function iu(n){return n.componentOffset>-1}function Bf(n){return 1==(1&n.flags)}function Gr(n){return null!==n.template}function x4(n){return 0!=(256&n[2])}function Es(n,e){return n.hasOwnProperty(Ui)?n[Ui]:null}class D4{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function dr(){return FM}function FM(n){return n.type.prototype.ngOnChanges&&(n.setInput=A4),S4}function S4(){const n=VM(this),e=n?.current;if(e){const t=n.previous;if(t===Vi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function A4(n,e,t,r){const i=this.declaredInputs[t],o=VM(n)||function M4(n,e){return n[LM]=e}(n,{previous:Vi,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new D4(c&&c.currentValue,e,a===Vi),n[r]=e}dr.ngInherit=!0;const LM="__ngSimpleChanges__";function VM(n){return n[LM]||null}function en(n){for(;Array.isArray(n);)n=n[0];return n}function $f(n,e){return en(e[n])}function hr(n,e){return en(e[n.index])}function $M(n,e){return n.data[e]}function Ya(n,e){return n[e]}function fr(n,e){const t=e[n];return ur(t)?t:t[0]}function jf(n){return 64==(64&n[2])}function ko(n,e){return null==e?null:n[e]}function jM(n){n[18]=0}function Gy(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const le={lFrame:ZM(null),bindingsEnabled:!0};function zM(){return le.bindingsEnabled}function D(){return le.lFrame.lView}function De(){return le.lFrame.tView}function tn(n){return le.lFrame.contextLView=n,n[8]}function nn(n){return le.lFrame.contextLView=null,n}function rn(){let n=GM();for(;null!==n&&64===n.type;)n=n.parent;return n}function GM(){return le.lFrame.currentTNode}function ui(n,e){const t=le.lFrame;t.currentTNode=n,t.isParent=e}function qy(){return le.lFrame.isParent}function Wy(){le.lFrame.isParent=!1}function On(){const n=le.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Xa(){return le.lFrame.bindingIndex++}function H4(n,e){const t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ky(e)}function Ky(n){le.lFrame.currentDirectiveIndex=n}function QM(){return le.lFrame.currentQueryIndex}function Yy(n){le.lFrame.currentQueryIndex=n}function G4(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function YM(n,e,t){if(t&re.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&re.Host||(i=G4(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=le.lFrame=XM();return r.currentTNode=e,r.lView=n,!0}function Xy(n){const e=XM(),t=n[1];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function XM(){const n=le.lFrame,e=null===n?null:n.child;return null===e?ZM(n):e}function ZM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function JM(){const n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const e1=JM;function Zy(){const n=JM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pn(){return le.lFrame.selectedIndex}function Is(n){le.lFrame.selectedIndex=n}function ct(){const n=le.lFrame;return $M(n.tView,n.selectedIndex)}function Hf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function zf(n,e,t){t1(n,e,3,t)}function Gf(n,e,t,r){(3&n[2])===t&&t1(n,e,t,r)}function Jy(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function t1(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[18]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[18]+=65536),(a<o||-1==o)&&(e5(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function e5(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class su{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function tv(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];r1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function n1(n){return 3===n||4===n||6===n}function r1(n){return 64===n.charCodeAt(0)}function au(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||o1(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function o1(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function s1(n){return-1!==n}function qf(n){return 32767&n}function Wf(n,e){let t=function i5(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let nv=!0;function Kf(n){const e=nv;return nv=n,e}let o5=0;const di={};function Qf(n,e){const t=l1(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,rv(r.data,n),rv(e,null),rv(r.blueprint,null));const i=iv(n,e),o=n.injectorIndex;if(s1(i)){const s=qf(i),a=Wf(i,e),c=a[1].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function rv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function l1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function iv(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=g1(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function ov(n,e,t){!function s5(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(eu)&&(r=t[eu]),null==r&&(r=t[eu]=o5++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function u1(n,e,t){if(t&re.Optional||void 0!==n)return n;Mf()}function d1(n,e,t,r){if(t&re.Optional&&void 0===r&&(r=null),0==(t&(re.Self|re.Host))){const i=n[9],o=Dr(void 0);try{return i?i.get(e,r,t&re.Optional):xM(e,r,t&re.Optional)}finally{Dr(o)}}return u1(r,0,t)}function h1(n,e,t,r=re.Default,i){if(null!==n){if(1024&e[2]){const s=function d5(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=f1(o,s,t,r|re.Self,di);if(a!==di)return a;let c=o.parent;if(!c){const l=s[21];if(l){const u=l.get(t,di,r);if(u!==di)return u}c=g1(s),s=s[15]}o=c}return i}(n,e,t,r,di);if(s!==di)return s}const o=f1(n,e,t,r,di);if(o!==di)return o}return d1(e,t,r,i)}function f1(n,e,t,r,i){const o=function l5(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(eu)?n[eu]:void 0;return"number"==typeof e?e>=0?255&e:u5:e}(t);if("function"==typeof o){if(!YM(e,n,r))return r&re.Host?u1(i,0,r):d1(e,t,r,i);try{const s=o(r);if(null!=s||r&re.Optional)return s;Mf()}finally{e1()}}else if("number"==typeof o){let s=null,a=l1(n,e),c=-1,l=r&re.Host?e[16][6]:null;for((-1===a||r&re.SkipSelf)&&(c=-1===a?iv(n,e):e[a+8],-1!==c&&m1(r,!1)?(s=e[1],a=qf(c),e=Wf(c,e)):a=-1);-1!==a;){const u=e[1];if(p1(o,a,u.data)){const d=c5(a,e,t,s,r,l);if(d!==di)return d}c=e[a+8],-1!==c&&m1(r,e[1].data[a+8]===l)&&p1(o,a,e)?(s=u,a=qf(c),e=Wf(c,e)):a=-1}}return i}function c5(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],u=Yf(a,s,t,null==r?iu(a)&&nv:r!=s&&0!=(3&a.type),i&re.Host&&o===a);return null!==u?xs(e,s,u,a):di}function Yf(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=s[c];if(f&&Gr(f)&&f.type===t)return c}return null}function xs(n,e,t,r){let i=n[t];const o=e.data;if(function t5(n){return n instanceof su}(i)){const s=i;s.resolving&&function i4(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Le(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ce(n)}(o[t]));const a=Kf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Dr(s.injectImpl):null;YM(n,r,re.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function J4(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=FM(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==c&&Dr(c),Kf(a),s.resolving=!1,e1()}}return i}function p1(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function m1(n,e){return!(n&re.Self||n&re.Host&&e)}class Ja{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return h1(this._tNode,this._lView,e,Of(r),t)}}function u5(){return new Ja(rn(),D())}function on(n){return Mo(()=>{const e=n.prototype.constructor,t=e[Ui]||sv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ui]||sv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sv(n){return Ny(n)?()=>{const e=sv(ne(n));return e&&e()}:Es(n)}function g1(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function cu(n){return function a5(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(n1(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(rn(),n)}const tc="__parameters__";function rc(n,e,t){return Mo(()=>{const r=function av(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(tc)?c[tc]:Object.defineProperty(c,tc,{value:[]})[tc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class R{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cs(n,e){n.forEach(t=>Array.isArray(t)?Cs(t,e):e(t))}function y1(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function du(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function pr(n,e,t){let r=ic(n,e);return r>=0?n[1|r]=t:(r=~r,function m5(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function lv(n,e){const t=ic(n,e);if(t>=0)return n[1|t]}function ic(n,e){return function v1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const lt=Jl(rc("Optional"),8),oc=Jl(rc("SkipSelf"),4);var Yn=(()=>((Yn=Yn||{})[Yn.Important=1]="Important",Yn[Yn.DashCase=2]="DashCase",Yn))();const mv=new Map;let L5=0;const _v="__ngContext__";function wn(n,e){ur(e)?(n[_v]=e[20],function U5(n){mv.set(n[20],n)}(e)):n[_v]=e}function vv(n,e){return undefined(n,e)}function mu(n){const e=n[3];return zr(e)?e[3]:e}function bv(n){return U1(n[13])}function wv(n){return U1(n[4])}function U1(n){for(;null!==n&&!zr(n);)n=n[4];return n}function ac(n,e,t,r,i){if(null!=r){let o,s=!1;zr(r)?o=r:ur(r)&&(s=!0,r=r[0]);const a=en(r);0===n&&null!==t?null==i?G1(e,t,a):Ts(e,t,a,i||null,!0):1===n&&null!==t?Ts(e,t,a,i||null,!0):2===n?function Sv(n,e,t){const r=tp(n,e);r&&function oW(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function cW(n,e,t,r,i){const o=t[7];o!==en(t)&&ac(e,n,r,o,i);for(let a=10;a<t.length;a++){const c=t[a];gu(c[1],c,n,e,r,o)}}(e,n,o,t,i)}}function Iv(n,e,t){return n.createElement(e,t)}function $1(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Gy(i,-1)),t.splice(r,1)}function xv(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&$1(i,r),e>0&&(n[t-1][4]=r[4]);const o=Xf(n,10+e);!function X5(n,e){gu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function j1(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&gu(n,e,t,3,null,null),function eW(n){let e=n[13];if(!e)return Cv(n[1],n);for(;e;){let t=null;if(ur(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ur(e)&&Cv(e[1],e),e=e[3];null===e&&(e=n),ur(e)&&Cv(e[1],e),t=e&&e[4]}e=t}}(e)}}function Cv(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function iW(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof su)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function rW(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&zr(e[3])){t!==e[3]&&$1(t,e);const r=e[19];null!==r&&r.detachView(n)}!function B5(n){mv.delete(n[20])}(e)}}function H1(n,e,t){return function z1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===jr.None||o===jr.Emulated)return null}return hr(r,t)}}(n,e.parent,t)}function Ts(n,e,t,r,i){n.insertBefore(e,t,r,i)}function G1(n,e,t){n.appendChild(e,t)}function q1(n,e,t,r,i){null!==r?Ts(n,e,t,r,i):G1(n,e,t)}function tp(n,e){return n.parentNode(e)}function W1(n,e,t){return Q1(n,e,t)}let kv,op,Q1=function K1(n,e,t){return 40&n.type?hr(n,t):null};function np(n,e,t,r){const i=H1(n,r,e),o=e[11],a=W1(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)q1(o,i,t[c],a,!1);else q1(o,i,t,a,!1)}function rp(n,e){if(null!==e){const t=e.type;if(3&t)return hr(e,n);if(4&t)return Dv(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return rp(n,r);{const i=n[e.index];return zr(i)?Dv(-1,i):en(i)}}if(32&t)return vv(e,n)()||en(n[e.index]);{const r=X1(n,e);return null!==r?Array.isArray(r)?r[0]:rp(mu(n[16]),r):rp(n,e.next)}}return null}function X1(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Dv(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return rp(r,i)}return e[7]}function Av(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&wn(en(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Av(n,e,t.child,r,i,o,!1),ac(e,n,i,a,o);else if(32&c){const l=vv(t,r);let u;for(;u=l();)ac(e,n,i,u,o);ac(e,n,i,a,o)}else 16&c?Z1(n,e,r,t,i,o):ac(e,n,i,a,o);t=s?t.projectionNext:t.next}}function gu(n,e,t,r,i,o){Av(t,r,n.firstChild,e,i,o,!1)}function Z1(n,e,t,r,i,o){const s=t[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ac(e,n,i,c[l],o);else Av(n,e,c,s[3],i,o,!0)}function J1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ek(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&tv(n,e,r),null!==i&&J1(n,e,i),null!==o&&function uW(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function ik(n){return function Rv(){if(void 0===op&&(op=null,Qe.trustedTypes))try{op=Qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return op}()?.createScriptURL(n)||n}class Ss{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sf})`}}function mr(n){return n instanceof Ss?n.changingThisBreaksApplicationSecurity:n}function hi(n,e){const t=function bW(n){return n instanceof Ss&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Sf})`)}return t===e}const AW=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Fe=(()=>((Fe=Fe||{})[Fe.NONE=0]="NONE",Fe[Fe.HTML=1]="HTML",Fe[Fe.STYLE=2]="STYLE",Fe[Fe.SCRIPT=3]="SCRIPT",Fe[Fe.URL=4]="URL",Fe[Fe.RESOURCE_URL=5]="RESOURCE_URL",Fe))();function fi(n){const e=yu();return e?e.sanitize(Fe.URL,n)||"":hi(n,"URL")?mr(n):function sp(n){return(n=String(n)).match(AW)?n:"unsafe:"+n}(ce(n))}function hk(n){const e=yu();if(e)return ik(e.sanitize(Fe.RESOURCE_URL,n)||"");if(hi(n,"ResourceURL"))return ik(mr(n));throw new x(904,!1)}function yu(){const n=D();return n&&n[12]}const cp=new R("ENVIRONMENT_INITIALIZER"),pk=new R("INJECTOR",-1),mk=new R("INJECTOR_DEF_TYPES");class gk{get(e,t=Xl){if(t===Xl){const r=new Error(`NullInjectorError: No provider for ${ze(e)}!`);throw r.name="NullInjectorError",r}return t}}function _k(n){return{\u0275providers:n}}function yk(...n){return{\u0275providers:vk(0,n),\u0275fromNgModule:!0}}function vk(n,...e){const t=[],r=new Set;let i;return Cs(e,o=>{const s=o;Fv(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&bk(i,t),t}function bk(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Lv(i,o=>{e.push(o)})}}function Fv(n,e,t,r){if(!(n=ne(n)))return!1;let i=null,o=EM(n);const s=!o&&Ue(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=EM(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Fv(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Cs(o.imports,u=>{Fv(u,e,t,r)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&bk(l,e)}if(!a){const l=Es(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:Pe},{provide:mk,useValue:i,multi:!0},{provide:cp,useValue:()=>C(i),multi:!0})}const c=o.providers;null==c||a||Lv(c,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function Lv(n,e){for(let t of n)Oy(t)&&(t=t.\u0275providers),Array.isArray(t)?Lv(t,e):e(t)}const $W=He({provide:String,useValue:He});function Vv(n){return null!==n&&"object"==typeof n&&$W in n}function As(n){return"function"==typeof n}const Uv=new R("Set Injector scope."),lp={},HW={};let Bv;function up(){return void 0===Bv&&(Bv=new gk),Bv}class pi{}class Ik extends pi{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jv(e,s=>this.processProvider(s)),this.records.set(pk,cc(void 0,this)),i.has("environment")&&this.records.set(pi,cc(void 0,this));const o=this.records.get(Uv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mk.multi,Pe,re.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=za(this),r=Dr(void 0);try{return e()}finally{za(t),Dr(r)}}get(e,t=Xl,r=re.Default){this.assertNotDestroyed(),r=Of(r);const i=za(this),o=Dr(void 0);try{if(!(r&re.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function KW(n){return"function"==typeof n||"object"==typeof n&&n instanceof R}(e)&&kf(e);a=c&&this.injectableDefInScope(c)?cc($v(e),lp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&re.Self?up():this.parent).get(e,t=r&re.Optional&&t===Xl?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Nf]=s[Nf]||[]).unshift(ze(e)),i)throw s;return function v4(n,e,t,r){const i=n[Nf];throw e[CM]&&i.unshift(e[CM]),n.message=function b4(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ze(e);if(Array.isArray(e))i=e.map(ze).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(m4,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Nf]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Dr(o),za(i)}}resolveInjectorInitializers(){const e=za(this),t=Dr(void 0);try{const r=this.get(cp.multi,Pe,re.Self);for(const i of r)i()}finally{za(e),Dr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let t=As(e=ne(e))?e:ne(e&&e.provide);const r=function GW(n){return Vv(n)?cc(void 0,n.useValue):cc(xk(n),lp)}(e);if(As(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=cc(void 0,lp,!0),i.factory=()=>Vy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===lp&&(t.value=HW,t.value=t.factory()),"object"==typeof t.value&&t.value&&function WW(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function $v(n){const e=kf(n),t=null!==e?e.factory:Es(n);if(null!==t)return t;if(n instanceof R)throw new x(204,!1);if(n instanceof Function)return function zW(n){const e=n.length;if(e>0)throw du(e,"?"),new x(204,!1);const t=function u4(n){const e=n&&(n[Rf]||n[IM]);if(e){const t=function d4(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new x(204,!1)}function xk(n,e,t){let r;if(As(n)){const i=ne(n);return Es(i)||$v(i)}if(Vv(n))r=()=>ne(n.useValue);else if(function Ek(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Vy(n.deps||[]));else if(function wk(n){return!(!n||!n.useExisting)}(n))r=()=>C(ne(n.useExisting));else{const i=ne(n&&(n.useClass||n.provide));if(!function qW(n){return!!n.deps}(n))return Es(i)||$v(i);r=()=>new i(...Vy(n.deps))}return r}function cc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jv(n,e){for(const t of n)Array.isArray(t)?jv(t,e):t&&Oy(t)?jv(t.\u0275providers,e):e(t)}class QW{}class Ck{}class XW{resolveComponentFactory(e){throw function YW(n){const e=Error(`No component factory found for ${ze(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let vu=(()=>{class n{}return n.NULL=new XW,n})();function ZW(){return lc(rn(),D())}function lc(n,e){return new ut(hr(n,e))}let ut=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=ZW,n})();function JW(n){return n instanceof ut?n.nativeElement:n}class bu{}let zi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function e8(){const n=D(),t=fr(rn().index,n);return(ur(t)?t:n)[11]}(),n})(),t8=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>null}),n})();class Ro{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Dk=new Ro("15.0.4"),Hv={};function Gv(n){return n.ngOriginalError}class No{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Gv(e);for(;t&&Gv(t);)t=Gv(t);return t||null}}function Gi(n){return n instanceof Function?n():n}function Ak(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const Mk="ng-template";function h8(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==Ak(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function kk(n){return 4===n.type&&n.value!==Mk}function f8(n,e,t){return e===(4!==n.type||t?n.value:Mk)}function p8(n,e,t){let r=4;const i=n.attrs||[],o=function _8(n){for(let e=0;e<n.length;e++)if(n1(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!f8(n,c,t)||""===c&&1===e.length){if(qr(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!h8(n.attrs,l,t)){if(qr(r))return!1;s=!0}continue}const d=m8(8&r?"class":c,i,kk(n),t);if(-1===d){if(qr(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Ak(f,l,0)||2&r&&l!==h){if(qr(r))return!1;s=!0}}}}else{if(!s&&!qr(r)&&!qr(c))return!1;if(s&&qr(c))continue;s=!1,r=c|1&r}}return qr(r)||s}function qr(n){return 0==(1&n)}function m8(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function y8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Rk(n,e,t=!1){for(let r=0;r<e.length;r++)if(p8(n,e[r],t))return!0;return!1}function v8(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Nk(n,e){return n?":not("+e.trim()+")":e}function b8(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!qr(s)&&(e+=Nk(o,i),i=""),r=s,o=o||!qr(r);t++}return""!==i&&(e+=Nk(o,i)),e}const ue={};function U(n){Ok(De(),D(),Pn()+n,!1)}function Ok(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&zf(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Gf(e,o,0,t)}Is(t)}function Vk(n,e=null,t=null,r){const i=Uk(n,e,t,r);return i.resolveInjectorInitializers(),i}function Uk(n,e=null,t=null,r,i=new Set){const o=[t||Pe,yk(n)];return r=r||("object"==typeof n?void 0:ze(n)),new Ik(o,e||up(),r||null,i)}let sn=(()=>{class n{static create(t,r){if(Array.isArray(t))return Vk({name:""},r,t,"");{const i=t.name??"";return Vk({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Xl,n.NULL=new gk,n.\u0275prov=P({token:n,providedIn:"any",factory:()=>C(pk)}),n.__NG_ELEMENT_ID__=-1,n})();function E(n,e=re.Default){const t=D();return null===t?C(n,e):h1(rn(),t,ne(n),e)}function Yv(){throw new Error("invalid")}function qk(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];Yy(i),s.contentQueries(2,e[o],o)}}}function hp(n,e,t,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),jM(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=c||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=o,d[20]=function V5(){return L5++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function hc(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Xv(n,e,t,r,i){const o=GM(),s=qy(),c=n.data[e]=function q8(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(n,e,t,r,i),function j4(){return le.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function ou(){const n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ui(o,!0),o}function wu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Zv(n,e,t){Xy(e);try{const r=n.viewQuery;null!==r&&cb(1,r,t);const i=n.template;null!==i&&Wk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qk(n,e),n.staticViewQueries&&cb(2,n.viewQuery,t);const o=n.components;null!==o&&function H8(n,e){for(let t=0;t<e.length;t++)d6(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Zy()}}function fp(n,e,t,r){const i=e[2];if(128!=(128&i)){Xy(e);try{jM(e),function WM(n){return le.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Wk(n,e,t,2,r);const s=3==(3&i);if(s){const l=n.preOrderCheckHooks;null!==l&&zf(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Gf(e,l,0,null),Jy(e,0)}if(function l6(n){for(let e=bv(n);null!==e;e=wv(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&Gy(o,1),i[2]|=512}}}(e),function c6(n){for(let e=bv(n);null!==e;e=wv(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];jf(r)&&fp(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&qk(n,e),s){const l=n.contentCheckHooks;null!==l&&zf(e,l)}else{const l=n.contentHooks;null!==l&&Gf(e,l,1),Jy(e,1)}!function $8(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Is(~i);else{const o=i,s=t[++r],a=t[++r];H4(s,o),a(2,e[o])}}}finally{Is(-1)}}(n,e);const a=n.components;null!==a&&function j8(n,e){for(let t=0;t<e.length;t++)u6(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&cb(2,c,r),s){const l=n.viewCheckHooks;null!==l&&zf(e,l)}else{const l=n.viewHooks;null!==l&&Gf(e,l,2),Jy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Gy(e[3],-1))}finally{Zy()}}}function Wk(n,e,t,r,i){const o=Pn(),s=2&r;try{Is(-1),s&&e.length>22&&Ok(n,e,22,!1),t(r,i)}finally{Is(o)}}function Jv(n,e,t){if(Hy(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function eb(n,e,t){!zM()||(function Z8(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;iu(t)&&function o6(n,e,t){const r=hr(e,n),i=Kk(t),o=n[10],s=pp(n,hp(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Qf(t,e),wn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=xs(e,n,a,t);wn(l,e),null!==s&&s6(0,a-i,l,c,0,s),Gr(c)&&(fr(t.index,e)[8]=xs(e,n,a,t))}}(n,e,t,hr(t,e)),64==(64&t.flags)&&eR(n,e,t))}function tb(n,e,t=hr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function Kk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=nb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function nb(n,e,t,r,i,o,s,a,c,l){const u=22+r,d=u+i,h=function z8(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ue);return t}(u,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Qk(n,e,t,r){const i=nR(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&rR(n).push(r,i.length-1))}function Yk(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?Xk(t,e,i,o):r.hasOwnProperty(i)&&Xk(t,e,r[i],o)}return t}function Xk(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function gr(n,e,t,r,i,o,s,a){const c=hr(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(lb(n,t,u,r,i),iu(e)&&Zk(t,e.index)):3&e.type&&(r=function K8(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function Zk(n,e){const t=fr(e,n);16&t[2]||(t[2]|=32)}function rb(n,e,t,r){let i=!1;if(zM()){const o=null===r?null:{"":-1},s=function e6(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Rk(e,s.selectors,!1))if(r||(r=[]),Gr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),ib(n,e,a.length)}else r.unshift(s),ib(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&(i=!0,Jk(n,e,t,a,o,c)),o&&function t6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new x(-301,!1);r.push(e[i],o)}}}(t,r,o)}return t.mergedAttrs=au(t.mergedAttrs,t.attrs),i}function Jk(n,e,t,r,i,o){for(let l=0;l<r.length;l++)ov(Qf(t,e),n,r[l].type);!function r6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=wu(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=au(t.mergedAttrs,u.hostAttrs),i6(n,t,e,c,u),n6(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),c++}!function W8(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],h=t?t.get(d):null,p=h?h.outputs:null;c=Yk(d.inputs,u,c,h?h.inputs:null),l=Yk(d.outputs,u,l,p);const m=null===c||null===s||kk(e)?null:a6(c,u,s);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function eR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function z4(){return le.lFrame.currentDirectiveIndex}();try{Is(o);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];Ky(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&J8(c,l)}}finally{Is(-1),Ky(s)}}function J8(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ib(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function n6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Gr(e)&&(t[""]=n)}}function i6(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Es(i.type)),s=new su(o,Gr(i),E);n.blueprint[r]=s,t[r]=s,function Y8(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function X8(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,wu(n,t,i.hostVars,ue),i)}function mi(n,e,t,r,i,o){const s=hr(n,e);!function ob(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?ce(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function s6(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const l=s[c++],u=s[c++],d=s[c++];null!==a?r.setInput(t,d,l,u):t[u]=d}}}function a6(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function tR(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function u6(n,e){const t=fr(e,n);if(jf(t)){const r=t[1];48&t[2]?fp(r,t,r.template,t[8]):t[5]>0&&sb(t)}}function sb(n){for(let r=bv(n);null!==r;r=wv(r))for(let i=10;i<r.length;i++){const o=r[i];if(jf(o))if(512&o[2]){const s=o[1];fp(s,o,s.template,o[8])}else o[5]>0&&sb(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=fr(t[r],n);jf(i)&&i[5]>0&&sb(i)}}function d6(n,e){const t=fr(e,n),r=t[1];(function h6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Zv(r,t,t[8])}function pp(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function ab(n){for(;n;){n[2]|=32;const e=mu(n);if(x4(n)&&!e)return n;n=e}return null}function mp(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{fp(n,e,n.template,t)}catch(s){throw r&&oR(e,s),s}finally{i.end&&i.end()}}function cb(n,e,t){Yy(0),e(n,t)}function nR(n){return n[7]||(n[7]=[])}function rR(n){return n.cleanup||(n.cleanup=[])}function oR(n,e){const t=n[9],r=t?t.get(No,null):null;r&&r.handleError(e)}function lb(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=e[s],l=n.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function gp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Ry(i,a):2==o&&(r=Ry(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function _p(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(en(o)),zr(o))for(let a=10;a<o.length;a++){const c=o[a],l=c[1].firstChild;null!==l&&_p(c[1],c,l,r)}const s=t.type;if(8&s)_p(n,e,t.child,r);else if(32&s){const a=vv(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=X1(e,t);if(Array.isArray(a))r.push(...a);else{const c=mu(e[16]);_p(c[1],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Eu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return _p(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(zr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(xv(e,r),Xf(t,r))}this._attachedToViewContainer=!1}j1(this._lView[1],this._lView)}onDestroy(e){Qk(this._lView[1],this._lView,null,e)}markForCheck(){ab(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){mp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function J5(n,e){gu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class f6 extends Eu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;mp(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class sR extends vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ue(e);return new Iu(t,this.ngModule)}}function aR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class m6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Of(r);const i=this.injector.get(e,Hv,r);return i!==Hv||t===Hv?i:this.parentInjector.get(e,t,r)}}class Iu extends Ck{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function w8(n){return n.map(b8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return aR(this.componentDef.inputs)}get outputs(){return aR(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof pi?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new m6(e,o):e,a=s.get(bu,null);if(null===a)throw new x(407,!1);const c=s.get(t8,null),l=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function G8(n,e,t){return n.selectRootElement(e,t===jr.ShadowDom)}(l,r,this.componentDef.encapsulation):Iv(l,u,function p6(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=nb(0,null,null,1,0,null,null,null,null,null),p=hp(null,f,null,h,null,null,a,l,c,s,null);let m,_;Xy(p);try{const y=this.componentDef;let I,v=null;y.findHostDirectiveDefs?(I=[],v=new Map,y.findHostDirectiveDefs(y,I,v),I.push(y)):I=[y];const T=function _6(n,e){const t=n[1];return n[22]=e,hc(t,22,2,"#host",null)}(p,d),$=function y6(n,e,t,r,i,o,s,a){const c=i[1];!function v6(n,e,t,r){for(const i of n)e.mergedAttrs=au(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(gp(e,e.mergedAttrs,!0),null!==t&&ek(r,t,e))}(r,n,e,s);const l=o.createRenderer(e,t),u=hp(i,Kk(t),null,t.onPush?32:16,i[n.index],n,o,l,a||null,null,null);return c.firstCreatePass&&ib(c,n,r.length-1),pp(i,u),i[n.index]=u}(T,d,y,I,p,a,l);_=$M(f,22),d&&function w6(n,e,t,r){if(r)tv(n,t,["ng-version",Dk.full]);else{const{attrs:i,classes:o}=function E8(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!qr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&tv(n,t,i),o&&o.length>0&&J1(n,t,o.join(" "))}}(l,y,d,r),void 0!==t&&function E6(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(_,this.ngContentSelectors,t),m=function b6(n,e,t,r,i,o){const s=rn(),a=i[1],c=hr(s,i);Jk(a,i,s,t,null,r);for(let u=0;u<t.length;u++)wn(xs(i,a,s.directiveStart+u,s),i);eR(a,i,s),c&&wn(c,i);const l=xs(i,a,s.directiveStart+s.componentOffset,s);if(n[8]=i[8]=l,null!==o)for(const u of o)u(l,e);return Jv(a,s,n),l}($,y,I,v,p,[I6]),Zv(f,p,null)}finally{Zy()}return new g6(this.componentType,m,lc(_,p),p,_)}}class g6 extends QW{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new f6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;lb(o[1],o,i,e,t),Zk(o,this._tNode.index)}}get injector(){return new Ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function I6(){const n=rn();Hf(D()[1],n)}function Ne(n){let e=function cR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Gr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=ub(n.inputs),s.declaredInputs=ub(n.declaredInputs),s.outputs=ub(n.outputs);const a=i.hostBindings;a&&D6(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&C6(n,c),l&&T6(n,l),ky(n.inputs,i.inputs),ky(n.declaredInputs,i.declaredInputs),ky(n.outputs,i.outputs),Gr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ne&&(t=!1)}}e=Object.getPrototypeOf(e)}!function x6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=au(i.hostAttrs,t=au(t,i.hostAttrs))}}(r)}function ub(n){return n===Vi?{}:n===Pe?[]:n}function C6(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function T6(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function D6(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let yp=null;function Ms(){if(!yp){const n=Qe.Symbol;if(n&&n.iterator)yp=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(yp=r)}}}return yp}function xu(n){return!!db(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ms()in n)}function db(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gi(n,e,t){return n[e]=t}function En(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Zn(n,e,t,r){const i=D();return En(i,Xa(),e)&&(De(),mi(ct(),i,n,e,t,r)),Zn}function pc(n,e,t,r){return En(n,Xa(),t)?e+ce(t)+r:ue}function pe(n,e,t,r,i,o,s,a){const c=D(),l=De(),u=n+22,d=l.firstCreatePass?function L6(n,e,t,r,i,o,s,a,c){const l=e.consts,u=hc(e,n,4,s||null,ko(l,a));rb(e,t,u,ko(l,c)),Hf(e,u);const d=u.tViews=nb(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,o,s):l.data[u];ui(d,!1);const h=c[11].createComment("");np(l,c,h,d),wn(h,c),pp(c,c[u]=tR(h,c,h,d)),Bf(d)&&eb(l,c,d),null!=s&&tb(c,d,a)}function bp(n){return Ya(function $4(){return le.lFrame.contextLView}(),22+n)}function j(n,e,t){const r=D();return En(r,Xa(),e)&&gr(De(),ct(),r,n,e,r[11],t,!1),j}function hb(n,e,t,r,i){const s=i?"class":"style";lb(n,t,e.inputs[s],s,r)}function k(n,e,t,r){const i=D(),o=De(),s=22+n,a=i[11],c=i[s]=Iv(a,e,function Z4(){return le.lFrame.currentNamespace}()),l=o.firstCreatePass?function U6(n,e,t,r,i,o,s){const a=e.consts,l=hc(e,n,2,i,ko(a,o));return rb(e,t,l,ko(a,s)),null!==l.attrs&&gp(l,l.attrs,!1),null!==l.mergedAttrs&&gp(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,0,e,t,r):o.data[s];return ui(l,!0),ek(a,c,l),32!=(32&l.flags)&&np(o,i,c,l),0===function F4(){return le.lFrame.elementDepthCount}()&&wn(c,i),function L4(){le.lFrame.elementDepthCount++}(),Bf(l)&&(eb(o,i,l),Jv(o,l,i)),null!==r&&tb(i,l),k}function N(){let n=rn();qy()?Wy():(n=n.parent,ui(n,!1));const e=n;!function V4(){le.lFrame.elementDepthCount--}();const t=De();return t.firstCreatePass&&(Hf(t,n),Hy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function n5(n){return 0!=(8&n.flags)}(e)&&hb(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function r5(n){return 0!=(16&n.flags)}(e)&&hb(t,e,D(),e.stylesWithoutHost,!1),N}function me(n,e,t,r){return k(n,e,t,r),N(),me}function Wr(){return D()}function Tu(n){return!!n&&"function"==typeof n.then}function ER(n){return!!n&&"function"==typeof n.subscribe}const mb=ER;function ke(n,e,t,r){const i=D(),o=De(),s=rn();return function xR(n,e,t,r,i,o,s){const a=Bf(r),l=n.firstCreatePass&&rR(n),u=e[8],d=nR(e);let h=!0;if(3&r.type||s){const m=hr(r,e),_=s?s(m):m,y=d.length,I=s?T=>s(en(T[r.index])):r.index;let v=null;if(!s&&a&&(v=function $6(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=TR(r,e,u,o,!1);const T=t.listen(_,i,o);d.push(o,T),l&&l.push(i,I,y,y+1)}}else o=TR(r,e,u,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let _=0;_<m;_+=2){const $=e[p[_]][p[_+1]].subscribe(o),V=d.length;d.push(o,$),l&&l.push(i,r.index,V,-(V+1))}}}(o,i,i[11],s,n,e,r),ke}function CR(n,e,t,r){try{return!1!==t(r)}catch(i){return oR(n,i),!1}}function TR(n,e,t,r,i){return function o(s){if(s===Function)return r;ab(n.componentOffset>-1?fr(n.index,e):e);let c=CR(e,0,r,s),l=o.__ngNextListenerFn__;for(;l;)c=CR(e,0,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Ee(n=1){return function q4(n){return(le.lFrame.contextLView=function W4(n,e){for(;n>0;)e=e[15],n--;return e}(n,le.lFrame.contextLView))[8]}(n)}function j6(n,e){let t=null;const r=function g8(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Rk(n,o,!0):v8(r,o))return i}else t=i}return t}function Rs(n){const e=D()[16][6];if(!e.projection){const r=e.projection=du(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?j6(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function It(n,e=0,t){const r=D(),i=De(),o=hc(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),Wy(),32!=(32&o.flags)&&function aW(n,e,t){Z1(e[11],0,e,t,H1(n,t,e),W1(t.parent||e[6],t,e))}(i,r,o)}function Du(n,e,t){return Ec(n,"",e,"",t),Du}function Ec(n,e,t,r,i){const o=D(),s=pc(o,e,t,r);return s!==ue&&gr(De(),ct(),o,n,s,o[11],i,!1),Ec}function wp(n,e){return n<<17|e<<2}function Oo(n){return n>>17&32767}function gb(n){return 2|n}function Ns(n){return(131068&n)>>2}function _b(n,e){return-131069&n|e<<2}function yb(n){return 1|n}function PR(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Oo(o):Ns(o),c=!1;for(;0!==a&&(!1===c||s);){const u=n[a+1];K6(n[a],e)&&(c=!0,n[a+1]=r?yb(u):gb(u)),a=r?Oo(u):Ns(u)}c&&(n[t+1]=r?gb(o):yb(o))}function K6(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ic(n,e)>=0}function vb(n,e,t){return Kr(n,e,t,!1),vb}function In(n,e){return Kr(n,e,null,!0),In}function Kr(n,e,t,r){const i=D(),o=De(),s=function ji(n){const e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function HR(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Pn()],s=function jR(n,e){return e>=n.expandoStartIndex}(n,t);(function WR(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function rK(n,e,t,r){const i=function Qy(n){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Su(t=bb(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=bb(i,n,e,t,r),null===o){let c=function iK(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ns(r))return n[Oo(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=bb(null,n,e,c[1],r),c=Su(c,e.attrs,r),function oK(n,e,t,r){n[Oo(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function sK(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Su(r,n[o].hostAttrs,t);return Su(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function q6(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oo(s),c=Ns(s);n[r]=t;let u,l=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||ic(d,u)>0)&&(l=!0)}else u=t;if(i)if(0!==c){const h=Oo(n[a+1]);n[r+1]=wp(h,a),0!==h&&(n[h+1]=_b(n[h+1],r)),n[a+1]=function z6(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=wp(a,0),0!==a&&(n[a+1]=_b(n[a+1],r)),a=r;else n[r+1]=wp(c,0),0===a?a=r:n[c+1]=_b(n[c+1],r),c=r;l&&(n[r+1]=gb(n[r+1])),PR(n,u,r,!0),PR(n,u,r,!1),function W6(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ic(o,e)>=0&&(t[r+1]=yb(t[r+1]))}(e,u,n,r,o),s=wp(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==ue&&En(i,s,e)&&function GR(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function G6(n){return 1==(1&n)}(l)?qR(c,e,t,i,Ns(l),s):void 0;Ep(u)||(Ep(o)||function H6(n){return 2==(2&n)}(l)&&(o=qR(c,null,t,i,a,s)),function lW(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Yn.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),n.setStyle(t,r,i,o))}}(r,s,$f(Pn(),t),i,o))}(o,o.data[Pn()],i,i[11],n,i[s+1]=function lK(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ze(mr(n)))),n}(e,t),r,s)}function bb(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Su(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Su(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),pr(n,s,!!t||e[++o]))}return void 0===n?null:n}function qR(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[i+1];h===ue&&(h=d?Pe:void 0);let f=d?lv(h,r):u===r?h:void 0;if(l&&!Ep(f)&&(f=lv(c,r)),Ep(f)&&(a=f,s))return a;const p=n[i+1];i=s?Oo(p):Ns(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=lv(c,r))}return a}function Ep(n){return void 0!==n}function ee(n,e=""){const t=D(),r=De(),i=n+22,o=r.firstCreatePass?hc(r,i,1,e,null):r.data[i],s=t[i]=function Ev(n,e){return n.createText(e)}(t[11],e);np(r,t,s,o),ui(o,!1)}function Po(n){return Wi("",n,""),Po}function Wi(n,e,t){const r=D(),i=pc(r,n,e,t);return i!==ue&&function qi(n,e,t){const r=$f(e,n);!function B1(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Pn(),i),Wi}function Au(n,e,t){const r=D();return En(r,Xa(),e)&&gr(De(),ct(),r,n,e,r[11],t,!0),Au}const Cc="en-US";let pN=Cc;function Ib(n,e,t,r,i){if(n=ne(n),Array.isArray(n))for(let o=0;o<n.length;o++)Ib(n[o],e,t,r,i);else{const o=De(),s=D();let a=As(n)?n:ne(n.provide),c=xk(n);const l=rn(),u=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(As(n)||!n.multi){const f=new su(c,i,E),p=Cb(a,e,i?u:u+h,d);-1===p?(ov(Qf(l,s),o,a),xb(o,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=Cb(a,e,u+h,d),p=Cb(a,e,u,u+h),m=f>=0&&t[f],_=p>=0&&t[p];if(i&&!_||!i&&!m){ov(Qf(l,s),o,a);const y=function D7(n,e,t,r,i){const o=new su(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,UN(o,i,r&&!t),o}(i?T7:C7,t.length,i,r,c);!i&&_&&(t[p].providerFactory=y),xb(o,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(y),s.push(y)}else xb(o,n,f>-1?f:p,UN(t[i?p:f],c,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function xb(n,e,t,r){const i=As(e),o=function jW(n){return!!n.useClass}(e);if(i||o){const c=(o?ne(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function UN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function C7(n,e,t,r){return Tb(this.multi,[])}function T7(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=xs(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),Tb(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Tb(i,o);return o}function Tb(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ge(n,e=[]){return t=>{t.providersResolver=(r,i)=>function x7(n,e,t){const r=De();if(r.firstCreatePass){const i=Gr(n);Ib(t,r.data,r.blueprint,i,!0),Ib(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Tc{}class BN{}class $N extends Tc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sR(this);const r=lr(e);this._bootstrapComponents=Gi(r.bootstrap),this._r3Injector=Uk(e,t,[{provide:Tc,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],ze(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Db extends BN{constructor(e){super(),this.moduleType=e}create(e){return new $N(this.moduleType,e)}}class A7 extends Tc{constructor(e,t,r){super(),this.componentFactoryResolver=new sR(this),this.instance=null;const i=new Ik([...e,{provide:Tc,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],t||up(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Dp(n,e,t=null){return new A7(n,e,t).injector}let M7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=vk(0,t.type),i=r.length>0?Dp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(C(pi))}),n})();function Jn(n){n.getStandaloneInjector=e=>e.get(M7).getOrCreateStandaloneInjector(n)}function Pu(n,e,t){const r=On()+n,i=D();return i[r]===ue?gi(i,r,t?e.call(t):e()):function Cu(n,e){return n[e]}(i,r)}function Dc(n,e,t,r){return KN(D(),On(),n,e,t,r)}function KN(n,e,t,r,i,o){const s=e+t;return En(n,s,i)?gi(n,s+1,o?r.call(o,i):r(i)):function Fu(n,e){const t=n[e];return t===ue?void 0:t}(n,s+1)}function Sc(n,e){const t=De();let r;const i=n+22;t.firstCreatePass?(r=function W7(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Es(r.type)),s=Dr(E);try{const a=Kf(!1),c=o();return Kf(a),function V6(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,c),c}finally{Dr(s)}}function Ac(n,e,t){const r=n+22,i=D(),o=Ya(i,r);return function Lu(n,e){return n[1].data[e].pure}(i,r)?KN(i,On(),e,o.transform,t,o):o.transform(t)}function Ab(n){return e=>{setTimeout(n,void 0,e)}}const qe=class Z7 extends Mt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Ab(o),i&&(i=Ab(i)),s&&(s=Ab(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof ar&&e.add(a),a}};function J7(){return this._results[Ms()]()}class Mb{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ms(),r=Mb.prototype;r[t]||(r[t]=J7)}get changes(){return this._changes||(this._changes=new qe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ar(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function f5(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=n9,n})();const e9=Ki,t9=class extends e9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=hp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),Zv(r,i,e),new Eu(i)}};function n9(){return Sp(rn(),D())}function Sp(n,e){return 4&n.type?new t9(e,n,lc(n,e)):null}let Yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=r9,n})();function r9(){return tO(rn(),D())}const i9=Yr,JN=class extends i9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new Ja(this._hostTNode,this._hostLView)}get parentInjector(){const e=iv(this._hostTNode,this._hostLView);if(s1(e)){const t=Wf(e,this._hostLView),r=qf(e);return new Ja(t[1].data[r+8],t)}return new Ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=eO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function uu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const c=s?e:new Iu(Ue(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const h=(s?l:this.parentInjector).get(pi,null);h&&(o=h)}const u=c.create(l,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function P4(n){return zr(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new JN(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function tW(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],y1(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function nW(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=Dv(o,s),c=r[11],l=tp(c,s[7]);return null!==l&&function Z5(n,e,t,r,i,o){r[0]=i,r[6]=e,gu(n,r,t,1,i,o)}(i,s[6],c,r,l,a),e.attachToViewContainerRef(),y1(kb(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=eO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=xv(this._lContainer,t);r&&(Xf(kb(this._lContainer),t),j1(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=xv(this._lContainer,t);return r&&null!=Xf(kb(this._lContainer),t)?new Eu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function eO(n){return n[8]}function kb(n){return n[8]||(n[8]=[])}function tO(n,e){let t;const r=e[n.index];if(zr(r))t=r;else{let i;if(8&n.type)i=en(r);else{const o=e[11];i=o.createComment("");const s=hr(n,e);Ts(o,tp(o,s),i,function sW(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=tR(r,e,i,n),pp(e,t)}return new JN(t,n,e)}class Rb{constructor(e){this.queryList=e,this.matches=null}clone(){return new Rb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Nb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==sO(e,t).matches&&this.queries[t].setDirty()}}class nO{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Ob{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Ob(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Pb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Pb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,o9(t,o)),this.matchTNodeWithReadOption(e,t,Yf(t,e,o,!1,!1))}else r===Ki?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ut||i===Yr||i===Ki&&4&t.type)this.addMatch(t.index,-2);else{const o=Yf(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function o9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function a9(n,e,t,r){return-1===t?function s9(n,e){return 11&n.type?lc(n,e):4&n.type?Sp(n,e):null}(e,n):-2===t?function c9(n,e,t){return t===ut?lc(e,n):t===Ki?Sp(e,n):t===Yr?tO(e,n):void 0}(n,e,r):xs(n,n[1],t,e)}function rO(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:a9(e,o[l],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Fb(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=rO(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Fb(h[1],h,l,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Fb(f[1],f,l,r)}}}}}return r}function xn(n){const e=D(),t=De(),r=QM();Yy(r+1);const i=sO(t,r);if(n.dirty&&function O4(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Fb(t,e,r,[]):rO(t,e,i,r);n.reset(o,JW),n.notifyOnChanges()}return!0}return!1}function Fo(n,e,t){const r=De();r.firstCreatePass&&(oO(r,new nO(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),iO(r,D(),e)}function Qi(n,e,t,r){const i=De();if(i.firstCreatePass){const o=rn();oO(i,new nO(e,t,r),o.index),function u9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}iO(i,D(),t)}function Cn(){return function l9(n,e){return n[19].queries[e].queryList}(D(),QM())}function iO(n,e,t){const r=new Mb(4==(4&t));Qk(n,e,r,r.destroy),null===e[19]&&(e[19]=new Nb),e[19].queries.push(new Rb(r))}function oO(n,e,t){null===n.queries&&(n.queries=new Ob),n.queries.track(new Pb(e,t))}function sO(n,e){return n.queries.getByIndex(e)}function aO(n,e){return Sp(n,e)}function Mp(...n){}const Uu=new R("Application Initializer");let kp=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Mp,this.reject=Mp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Tu(o))t.push(o);else if(mb(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(C(Uu,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bu=new R("AppId",{providedIn:"root",factory:function TO(){return`${$b()}${$b()}${$b()}`}});function $b(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DO=new R("Platform Initializer"),Lo=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jb=new R("appBootstrapListener"),$u=new R("AnimationModuleType");let M9=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vi=new R("LocaleId",{providedIn:"root",factory:()=>de(vi,re.Optional|re.SkipSelf)||function k9(){return typeof $localize<"u"&&$localize.locale||Cc}()});class N9{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let SO=(()=>{class n{compileModuleSync(t){return new Db(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Gi(lr(t).declarations).reduce((s,a)=>{const c=Ue(a);return c&&s.push(new Iu(c)),s},[]);return new N9(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F9=(()=>Promise.resolve(0))();function Hb(n){typeof Zone>"u"?F9.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function L9(){let n=Qe.requestAnimationFrame,e=Qe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function B9(n){const e=()=>{!function U9(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Gb(n),n.isCheckStableRunning=!0,zb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Gb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return kO(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),RO(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return kO(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),RO(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Gb(n),zb(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ve.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(ve.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,V9,Mp,Mp);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const V9={};function zb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Gb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function RO(n){n._nesting--,zb(n)}class $9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const NO=new R(""),Rp=new R("");let Kb,qb=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kb||(function j9(n){Kb=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ve.assertNotInAngularZone(),Hb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hb(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(C(ve),C(Wb),C(Rp))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Wb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Kb?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Vo=null;const Qb=new R("PlatformDestroyListeners");class PO{constructor(e,t){this.name=e,this.token=t}}function W9(n){const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function q9(n=[]){if(Vo)return Vo;const e=function LO(n=[],e){return sn.create({name:e,providers:[{provide:Uv,useValue:"platform"},{provide:Qb,useValue:new Set([()=>Vo=null])},...n]})}(n);return Vo=e,function FO(n){const e=n.get(DO,null);e&&e.forEach(t=>t())}(e),e}(r),o=function BO(n,e){let t;return t="noop"===n?new $9:("zone.js"===n?void 0:n)||new ve(e),t}("zone.js",function UO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return o.run(()=>{const a=Dp([{provide:ve,useValue:o},...t||[]],i,"Environment Injector"),c=a.get(No,null);let l;o.runOutsideAngular(()=>{l=o.onError.subscribe({next:h=>{c.handleError(h)}})});const u=()=>a.destroy(),d=i.get(Qb);return d.add(u),a.onDestroy(()=>{l.unsubscribe(),d.delete(u)}),function $O(n,e,t){try{const r=t();return Tu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(c,o,()=>{const h=a.get(kp);return h.runInitializers(),h.donePromise.then(()=>{!function mN(n){Tr(n,"Expected localeId to be defined"),"string"==typeof n&&(pN=n.toLowerCase().replace(/_/g,"-"))}(a.get(vi,Cc)||Cc);const p=a.get(Rc);return void 0!==e&&p.bootstrap(e),p})})})}let Rc=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Oe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Oe(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),Hb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=Df(o,s.pipe(function bM(n={}){const{connector:e=(()=>new Mt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return ot((m,_)=>{l++,!d&&!u&&h();const y=c=c??e();_.add(()=>{l--,0===l&&!d&&!u&&(a=My(p,i))}),y.subscribe(_),!s&&l>0&&(s=new Ql({next:I=>y.next(I),error:I=>{d=!0,h(),a=My(f,t,I),y.error(I)},complete:()=>{u=!0,h(),a=My(f,r),y.complete()}}),Kn(m).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Ck;if(!this._injector.get(kp).done)throw!i&&function Ga(n){const e=Ue(n)||yn(n)||Rn(n);return null!==e&&e.standalone}(t),new x(405,false);let s;s=i?t:this._injector.get(vu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function z9(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Tc),l=s.create(sn.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(NO,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Np(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Np(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(jb,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Np(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(C(ve),C(pi),C(No))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Np(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let ju=(()=>{class n{}return n.__NG_ELEMENT_ID__=X9,n})();function X9(n){return function Z9(n,e,t){if(iu(n)&&!t){const r=fr(n.index,e);return new Eu(r,r)}return 47&n.type?new Eu(e[16],e):null}(rn(),D(),16==(16&n))}class WO{constructor(){}supports(e){return xu(e)}create(e){return new iQ(e)}}const rQ=(n,e)=>e;class iQ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rQ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<QO(r,i,o)?t:r,a=QO(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!xu(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function O6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ms()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new oQ(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new KO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oQ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class KO{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new sQ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QO(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class YO{constructor(){}supports(e){return e instanceof Map||db(e)}create(){return new aQ}}class aQ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||db(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new cQ(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class cQ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XO(){return new Fp([new WO])}let Fp=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||XO()),deps:[[n,new oc,new lt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new x(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:XO}),n})();function ZO(){return new Hu([new YO])}let Hu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ZO()),deps:[[n,new oc,new lt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new x(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:ZO}),n})(),dQ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(C(Rc))},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({}),n})();function Nc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let t0=null;function bi(){return t0}class pQ{}const $e=new R("DocumentToken");let n0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return function mQ(){return C(JO)}()},providedIn:"platform"}),n})();const gQ=new R("Location Initialized");let JO=(()=>{class n extends n0{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bi().getBaseHref(this._doc)}onPopState(t){const r=bi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=bi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){eP()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){eP()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(C($e))},n.\u0275prov=P({token:n,factory:function(){return function _Q(){return new JO(C($e))}()},providedIn:"platform"}),n})();function eP(){return!!window.history.pushState}function r0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function tP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xi(n){return n&&"?"!==n[0]?"?"+n:n}let Fs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return de(rP)},providedIn:"root"}),n})();const nP=new R("appBaseHref");let rP=(()=>{class n extends Fs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return r0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Xi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Xi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(n0),C(nP,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yQ=(()=>{class n extends Fs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=r0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Xi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Xi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(n0),C(nP,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),o0=(()=>{class n{constructor(t){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function wQ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(tP(iP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xi(r))}normalize(t){return n.stripTrailingSlash(function bQ(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,iP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Xi,n.joinWithSlash=r0,n.stripTrailingSlash=tP,n.\u0275fac=function(t){return new(t||n)(C(Fs))},n.\u0275prov=P({token:n,factory:function(){return function vQ(){return new o0(C(Fs))}()},providedIn:"root"}),n})();function iP(n){return n.replace(/\/index.html$/,"")}function fP(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let m0=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(xu(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ze(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(E(Fp),E(Hu),E(ut),E(zi))},n.\u0275dir=H({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class oY{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let g0=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new oY(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),gP(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{gP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(Yr),E(Ki),E(Fp))},n.\u0275dir=H({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function gP(n,e){n.context.$implicit=e.item}let Jr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new aY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(Yr),E(Ki))},n.\u0275dir=H({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class aY{constructor(){this.$implicit=null,this.ngIf=null}}function _P(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ze(e)}'.`)}class _0{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let qp=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=H({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),yP=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new _0(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(E(Yr),E(Ki),E(qp,9))},n.\u0275dir=H({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),bP=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(i,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(E(Yr))},n.\u0275dir=H({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[dr]}),n})();class dY{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class hY{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const fY=new hY,pY=new dY;let qu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Tu(t))return fY;if(ER(t))return pY;throw function ei(n,e){return new x(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(E(ju,16))},n.\u0275pipe=Qn({name:"async",type:n,pure:!1,standalone:!0}),n})(),Vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({}),n})();const EP="browser";function b0(n){return n===EP}let FY=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>new LY(C($e),window)}),n})();class LY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function VY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=IP(this.window.history)||IP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function IP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xP{}class dX extends pQ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I0 extends dX{static makeCurrent(){!function fQ(n){t0||(t0=n)}(new I0)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hX(){return Ku=Ku||document.querySelector("base"),Ku?Ku.getAttribute("href"):null}();return null==t?null:function fX(n){Kp=Kp||document.createElement("a"),Kp.setAttribute("href",n);const e=Kp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fP(document.cookie,e)}}let Kp,Ku=null;const MP=new R("TRANSITION_ID"),mX=[{provide:Uu,useFactory:function pX(n,e,t){return()=>{t.get(kp).donePromise.then(()=>{const r=bi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[MP,$e,sn],multi:!0}];let _X=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Qp=new R("EventManagerPlugins");let Yp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(Qp),C(ve))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class kP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=bi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let RP=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Qu=(()=>{class n extends RP{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(NP),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(NP))}}return n.\u0275fac=function(t){return new(t||n)(C($e))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function NP(n){bi().remove(n)}const x0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},C0=/%COMP%/g;function T0(n,e){return e.flat(100).map(t=>t.replace(C0,n))}function FP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xp=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new D0(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case jr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new IX(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case jr.ShadowDom:return new xX(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=T0(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(C(Yp),C(Qu),C(Bu))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class D0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(x0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(VP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(VP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=x0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=x0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(t,r,i&Yn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Yn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,FP(r)):this.eventManager.addEventListener(e,t,FP(r))}}function VP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class IX extends D0{constructor(e,t,r,i){super(e),this.component=r;const o=T0(i+"-"+r.id,r.styles);t.addStyles(o),this.contentAttr=function bX(n){return"_ngcontent-%COMP%".replace(C0,n)}(i+"-"+r.id),this.hostAttr=function wX(n){return"_nghost-%COMP%".replace(C0,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class xX extends D0{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=T0(i.id,i.styles);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let CX=(()=>{class n extends kP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(C($e))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const UP=["alt","control","meta","shift"],TX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DX={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let SX=(()=>{class n extends kP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),UP.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=TX[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),UP.forEach(s=>{s!==i&&(0,DX[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(C($e))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function BP(n){return{appProviders:[...HP,...n?.providers??[]],platformProviders:NX}}const NX=[{provide:Lo,useValue:EP},{provide:DO,useValue:function MX(){I0.makeCurrent()},multi:!0},{provide:$e,useFactory:function RX(){return function pW(n){kv=n}(document),document},deps:[]}],$P=new R(""),jP=[{provide:Rp,useClass:class gX{addToWindow(e){Qe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qe.getAllAngularRootElements=()=>e.getAllRootElements(),Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(r=>{const i=Qe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?bi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:NO,useClass:qb,deps:[ve,Wb,Rp]},{provide:qb,useClass:qb,deps:[ve,Wb,Rp]}],HP=[{provide:Uv,useValue:"root"},{provide:No,useFactory:function kX(){return new No},deps:[]},{provide:Qp,useClass:CX,multi:!0,deps:[$e,ve,Lo]},{provide:Qp,useClass:SX,multi:!0,deps:[$e]},{provide:Xp,useClass:Xp,deps:[Yp,Qu,Bu]},{provide:bu,useExisting:Xp},{provide:RP,useExisting:Qu},{provide:Qu,useClass:Qu,deps:[$e]},{provide:Yp,useClass:Yp,deps:[Qp,ve]},{provide:xP,useClass:_X,deps:[]},[]];let OX=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Bu,useValue:t.appId},{provide:MP,useExisting:Bu},mX]}}}return n.\u0275fac=function(t){return new(t||n)(C($P,12))},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[...HP,...jP],imports:[Vn,dQ]}),n})(),zP=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(C($e))},n.\u0275prov=P({token:n,factory:function(t){let r=null;return r=t?new t:function FX(){return new zP(C($e))}(),r},providedIn:"root"}),n})();function q(...n){return at(n,Yl(n))}typeof window<"u"&&window;class Nr extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Zp=Wl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:zX}=Array,{getPrototypeOf:GX,prototype:qX,keys:WX}=Object;function KP(n){if(1===n.length){const e=n[0];if(zX(e))return{args:e,keys:null};if(function KX(n){return n&&"object"==typeof n&&GX(n)===qX}(e)){const t=WX(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:QX}=Array;function k0(n){return Q(e=>function YX(n,e){return QX(e)?n(...e):n(e)}(n,e))}function QP(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function R0(...n){const e=Yl(n),t=yM(n),{args:r,keys:i}=KP(n);if(0===r.length)return at([],e);const o=new Oe(function XX(n,e,t=So){return r=>{YP(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)YP(e,()=>{const l=at(n[c],e);let u=!1;l.subscribe(st(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>QP(i,s):So));return t?o.pipe(k0(t)):o}function YP(n,e,t){n?Li(t,n,e):e()}function Oc(...n){return function ZX(){return Ha(1)}()(at(n,Yl(n)))}function Jp(n){return new Oe(e=>{Kn(n()).subscribe(e)})}function Ls(n,e){const t=Ce(n)?n:()=>n,r=i=>i.error(t());return new Oe(e?i=>e.schedule(r,0,i):r)}function N0(){return ot((n,e)=>{let t=null;n._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class O0 extends Oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ar;const t=this.getSubject();e.add(this.source.subscribe(st(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ar.EMPTY)}return e}refCount(){return N0()(this)}}function Un(n,e){return ot((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(st(r,c=>{i?.unsubscribe();let l=0;const u=o++;Kn(n(c,u)).subscribe(i=st(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function jt(n){return n<=0?()=>ci:ot((e,t)=>{let r=0;e.subscribe(st(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function XP(...n){const e=Yl(n);return ot((t,r)=>{(e?Oc(n,t,e):Oc(n,t)).subscribe(r)})}function Tn(n,e){return ot((t,r)=>{let i=0;t.subscribe(st(r,o=>n.call(e,o,i++)&&r.next(o)))})}function em(n){return ot((e,t)=>{let r=!1;e.subscribe(st(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ZP(n=JX){return ot((e,t)=>{let r=!1;e.subscribe(st(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function JX(){return new Zp}function Bo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Tn((i,o)=>n(i,o,r)):So,jt(1),t?em(e):ZP(()=>new Zp))}function $o(n,e){return Ce(e)?Lt(n,e,1):Lt(n,1)}function _t(n,e,t){const r=Ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?ot((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(st(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):So}function ti(n){return ot((e,t)=>{let o,r=null,i=!1;r=e.subscribe(st(t,void 0,void 0,s=>{o=Kn(n(s,ti(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function eZ(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(st(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function JP(n,e){return ot(eZ(n,e,arguments.length>=2,!0))}function P0(n){return n<=0?()=>ci:ot((e,t)=>{let r=[];e.subscribe(st(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function eF(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Tn((i,o)=>n(i,o,r)):So,P0(1),t?em(e):ZP(()=>new Zp))}function tF(n){return Q(()=>n)}function tm(n){return ot((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const be="primary",Yu=Symbol("RouteTitle");class nZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pc(n){return new nZ(n)}function rZ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!nF(n[i],e[i]))return!1;return!0}function nF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function rF(n){return Array.prototype.concat.apply([],n)}function iF(n){return n.length>0?n[n.length-1]:null}function an(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function jo(n){return mb(n)?n:Tu(n)?at(Promise.resolve(n)):q(n)}const nm=!1,oZ={exact:function aF(n,e,t){if(!Us(n.segments,e.segments)||!rm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!aF(n.children[r],e.children[r],t))return!1;return!0},subset:cF},oF={exact:function sZ(n,e){return wi(n,e)},subset:function aZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nF(n[t],e[t]))},ignored:()=>!0};function sF(n,e,t){return oZ[t.paths](n.root,e.root,t.matrixParams)&&oF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cF(n,e,t){return lF(n,e,e.segments,t)}function lF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Us(i,t)||e.hasChildren()||!rm(i,t,r))}if(n.segments.length===t.length){if(!Us(n.segments,t)||!rm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!cF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Us(n.segments,i)&&rm(n.segments,i,r)&&n.children[be])&&lF(n.children[be],e,o,r)}}function rm(n,e,t){return e.every((r,i)=>oF[t](n[i].parameters,r.parameters))}class Vs{constructor(e=new we([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pc(this.queryParams)),this._queryParamMap}toString(){return uZ.serialize(this)}}class we{constructor(e,t){this.segments=e,this.children=t,this.parent=null,an(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return im(this)}}class Xu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pc(this.parameters)),this._parameterMap}toString(){return hF(this)}}function Us(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Zu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return new F0},providedIn:"root"}),n})();class F0{parse(e){const t=new vZ(e);return new Vs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ju(e.root,!0)}`,r=function fZ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${om(t)}=${om(i)}`).join("&"):`${om(t)}=${om(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function dZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const uZ=new F0;function im(n){return n.segments.map(e=>hF(e)).join("/")}function Ju(n,e){if(!n.hasChildren())return im(n);if(e){const t=n.children[be]?Ju(n.children[be],!1):"",r=[];return an(n.children,(i,o)=>{o!==be&&r.push(`${o}:${Ju(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function lZ(n,e){let t=[];return an(n.children,(r,i)=>{i===be&&(t=t.concat(e(r,i)))}),an(n.children,(r,i)=>{i!==be&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===be?[Ju(n.children[be],!1)]:[`${i}:${Ju(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[be]?`${im(n)}/${t[0]}`:`${im(n)}/(${t.join("//")})`}}function uF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function om(n){return uF(n).replace(/%3B/gi,";")}function L0(n){return uF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sm(n){return decodeURIComponent(n)}function dF(n){return sm(n.replace(/\+/g,"%20"))}function hF(n){return`${L0(n.path)}${function hZ(n){return Object.keys(n).map(e=>`;${L0(e)}=${L0(n[e])}`).join("")}(n.parameters)}`}const pZ=/^[^\/()?;=#]+/;function am(n){const e=n.match(pZ);return e?e[0]:""}const mZ=/^[^=?&#]+/,_Z=/^[^&#]+/;class vZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[be]=new we(e,t)),r}parseSegment(){const e=am(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,nm);return this.capture(e),new Xu(sm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=am(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=am(this.remaining);i&&(r=i,this.capture(r))}e[sm(t)]=sm(r)}parseQueryParam(e){const t=function gZ(n){const e=n.match(mZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function yZ(n){const e=n.match(_Z);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=dF(t),o=dF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=am(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,nm);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=be);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[be]:new we([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,nm)}}function V0(n){return n.segments.length>0?new we([],{[be]:n}):n}function cm(n){const e={};for(const r of Object.keys(n.children)){const o=cm(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function bZ(n){if(1===n.numberOfChildren&&n.children[be]){const e=n.children[be];return new we(n.segments.concat(e.segments),e.children)}return n}(new we(n.segments,e))}function Bs(n){return n instanceof Vs}function IZ(n,e,t,r,i){if(0===t.length)return Fc(e.root,e.root,e.root,r,i);const o=function mF(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return an(o.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new pF(t,e,r)}(t);return o.toRoot()?Fc(e.root,e.root,new we([],{}),r,i):function s(c){const l=function CZ(n,e,t,r){if(n.isAbsolute)return new Lc(e.root,!0,0);if(-1===r)return new Lc(t,t===e.root,0);return function gF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Lc(r,!1,i-o)}(t,r+(ed(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,c),u=l.processChildren?nd(l.segmentGroup,l.index,o.commands):B0(l.segmentGroup,l.index,o.commands);return Fc(e.root,l.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function ed(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function td(n){return"object"==typeof n&&null!=n&&n.outlets}function Fc(n,e,t,r,i){let s,o={};r&&an(r,(c,l)=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:fF(n,e,t);const a=V0(cm(s));return new Vs(a,o,i)}function fF(n,e,t){const r={};return an(n.children,(i,o)=>{r[o]=i===e?t:fF(i,e,t)}),new we(n.segments,r)}class pF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ed(r[0]))throw new x(4003,!1);const i=r.find(td);if(i&&i!==iF(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function B0(n,e,t){if(n||(n=new we([],{})),0===n.segments.length&&n.hasChildren())return nd(n,e,t);const r=function DZ(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(td(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!yF(c,l,s))return o;r+=2}else{if(!yF(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new we(n.segments.slice(0,r.pathIndex),{});return o.children[be]=new we(n.segments.slice(r.pathIndex),n.children),nd(o,0,i)}return r.match&&0===i.length?new we(n.segments,{}):r.match&&!n.hasChildren()?$0(n,e,t):r.match?nd(n,0,i):$0(n,e,t)}function nd(n,e,t){if(0===t.length)return new we(n.segments,{});{const r=function TZ(n){return td(n[0])?n[0].outlets:{[be]:n}}(t),i={};return an(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=B0(n.children[s],e,o))}),an(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new we(n.segments,i)}}function $0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(td(o)){const c=SZ(o.outlets);return new we(r,c)}if(0===i&&ed(t[0])){r.push(new Xu(n.segments[e].path,_F(t[0]))),i++;continue}const s=td(o)?o.outlets[be]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ed(a)?(r.push(new Xu(s,_F(a))),i+=2):(r.push(new Xu(s,{})),i++)}return new we(r,{})}function SZ(n){const e={};return an(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=$0(new we([],{}),0,t))}),e}function _F(n){const e={};return an(n,(t,r)=>e[r]=`${t}`),e}function yF(n,e,t){return n==t.path&&wi(e,t.parameters)}class Ji{constructor(e,t){this.id=e,this.url=t}}class j0 extends Ji{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $s extends Ji{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lm extends Ji{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vF extends Ji{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AZ extends Ji{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MZ extends Ji{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kZ extends Ji{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RZ extends Ji{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NZ extends Ji{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class PZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $Z=(()=>{class n{createUrlTree(t,r,i,o,s,a){return IZ(t||r.root,i,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),jZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(e){return $Z.\u0275fac(e)},providedIn:"root"}),n})();class wF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=H0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=H0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=z0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return z0(e,this._root).map(t=>t.value)}}function H0(n,e){if(n===e.value)return e;for(const t of e.children){const r=H0(n,t);if(r)return r}return null}function z0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=z0(n,t);if(r.length)return r.unshift(e),r}return[]}class eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class EF extends wF{constructor(e,t){super(e),this.snapshot=t,G0(this,e)}toString(){return this.snapshot.toString()}}function IF(n,e){const t=function HZ(n,e){const s=new um([],{},{},"",{},be,e,null,n.root,-1,{});return new CF("",new eo(s,[]))}(n,e),r=new Nr([new Xu("",{})]),i=new Nr({}),o=new Nr({}),s=new Nr({}),a=new Nr(""),c=new Uc(r,i,s,a,o,be,e,t.root);return c.snapshot=t.root,new EF(new eo(c,[]),t)}class Uc{constructor(e,t,r,i,o,s,a,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(Q(l=>l[Yu]))??q(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Q(e=>Pc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Q(e=>Pc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function zZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class um{constructor(e,t,r,i,o,s,a,c,l,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=d}get title(){return this.data?.[Yu]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CF extends wF{constructor(e,t){super(t),this.url=e,G0(this,t)}toString(){return TF(this._root)}}function G0(n,e){e.value._routerState=n,e.children.forEach(t=>G0(n,t))}function TF(n){const e=n.children.length>0?` { ${n.children.map(TF).join(", ")} } `:"";return`${n.value}${e}`}function q0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),wi(e.params,t.params)||n.params.next(t.params),function iZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),wi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function W0(n,e){const t=wi(n.params,e.params)&&function cZ(n,e){return Us(n,e)&&n.every((t,r)=>wi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||W0(n.parent,e.parent))}function rd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function qZ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rd(n,r,i);return rd(n,r)})}(n,e,t);return new eo(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>rd(n,a)),s}}const r=function WZ(n){return new Uc(new Nr(n.url),new Nr(n.params),new Nr(n.queryParams),new Nr(n.fragment),new Nr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>rd(n,o));return new eo(r,i)}}const K0="ngNavigationCancelingError";function DF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Bs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function SF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[K0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function AF(n){return MF(n)&&Bs(n.url)}function MF(n){return n&&n[K0]}class KZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new id,this.attachRef=null}}let id=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new KZ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dm=!1;let Q0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=be,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=de(id),this.location=de(Yr),this.changeDetector=de(ju),this.environmentInjector=de(pi)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,dm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,dm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,dm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,dm);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new QZ(t,a,i.injector);if(r&&function YZ(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(s);this.activated=i.createComponent(l,i.length,c)}else this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=H({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dr]}),n})();class QZ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Uc?this.route:e===id?this.childContexts:this.parent.get(e,t)}}let Y0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=wt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Jn],decls:1,vars:0,template:function(t,r){1&t&&me(0,"router-outlet")},dependencies:[Q0],encapsulation:2}),n})();function kF(n,e){return n.providers&&!n._injector&&(n._injector=Dp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Z0(n){const e=n.children&&n.children.map(Z0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==be&&(t.component=Y0),t}function Or(n){return n.outlet||be}function RF(n,e){const t=n.filter(r=>Or(r)===e);return t.push(...n.filter(r=>Or(r)!==e)),t}function od(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tJ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),q0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Vc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),an(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Vc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Vc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Vc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new UZ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new LZ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(q0(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),q0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=od(i.snapshot),c=a?.get(vu)??null;s.attachRef=null,s.route=i,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class NF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hm{constructor(e,t){this.component=e,this.route=t}}function nJ(n,e,t){const r=n._root;return sd(r,e?e._root:null,t,[r.value])}function Bc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function l4(n){return null!==kf(n)}(n)?e.get(n):n:r}function sd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Vc(e);return n.children.forEach(s=>{(function iJ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function oJ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Us(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Us(n.url,e.url)||!wi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!W0(n,e)||!wi(n.queryParams,e.queryParams);default:return!W0(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new NF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),sd(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hm(a.outlet.component,s))}else s&&ad(e,a,i),i.canActivateChecks.push(new NF(r)),sd(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),an(o,(s,a)=>ad(s,t.getContext(a),i)),i}function ad(n,e,t){const r=Vc(n),i=n.value;an(r,(o,s)=>{ad(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new hm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function cd(n){return"function"==typeof n}function J0(n){return n instanceof Zp||"EmptyError"===n?.name}const fm=Symbol("INITIAL_VALUE");function $c(){return Un(n=>R0(n.map(e=>e.pipe(jt(1),XP(fm)))).pipe(Q(e=>{for(const t of e)if(!0!==t){if(t===fm)return fm;if(!1===t||t instanceof Vs)return t}return!0}),Tn(e=>e!==fm),jt(1)))}function OF(n){return function kq(...n){return eM(n)}(_t(e=>{if(Bs(e))throw DF(0,e)}),Q(e=>!0===e))}const ew={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PF(n,e,t,r,i){const o=tw(n,e,t);return o.matched?function EJ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(s=>{const a=Bc(s,n);return jo(function dJ(n){return n&&cd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe($c(),OF()):q(!0)}(r=kF(e,r),e,t).pipe(Q(s=>!0===s?o:{...ew})):q(o)}function tw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ew}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rZ)(t,n,e);if(!i)return{...ew};const o={};an(i.posParams,(a,c)=>{o[c]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pm(n,e,t,r){if(t.length>0&&function CJ(n,e,t){return t.some(r=>mm(n,e,r)&&Or(r)!==be)}(n,t,r)){const o=new we(e,function xJ(n,e,t,r){const i={};i[be]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Or(o)!==be){const s=new we([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Or(o)]=s}return i}(n,e,r,new we(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function TJ(n,e,t){return t.some(r=>mm(n,e,r))}(n,t,r)){const o=new we(n.segments,function IJ(n,e,t,r,i){const o={};for(const s of r)if(mm(n,t,s)&&!i[Or(s)]){const a=new we([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[Or(s)]=a}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new we(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function mm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function FF(n,e,t,r){return!!(Or(n)===r||r!==be&&mm(e,t,n))&&("**"===n.path||tw(e,n,t).matched)}function LF(n,e,t){return 0===e.length&&!n.children[t]}const gm=!1;class _m{constructor(e){this.segmentGroup=e||null}}class VF{constructor(e){this.urlTree=e}}function ld(n){return Ls(new _m(n))}function UF(n){return Ls(new VF(n))}class MJ{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=pm(this.urlTree.root,[],[],this.config).segmentGroup,t=new we(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,be).pipe(Q(o=>this.createUrlTree(cm(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ti(o=>{if(o instanceof VF)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof _m?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,be).pipe(Q(i=>this.createUrlTree(cm(i),e.queryParams,e.fragment))).pipe(ti(i=>{throw i instanceof _m?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,gm)}createUrlTree(e,t,r){const i=V0(e);return new Vs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Q(o=>new we([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return at(i).pipe($o(o=>{const s=r.children[o],a=RF(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Q(c=>({segment:c,outlet:o})))}),JP((o,s)=>(o[s.outlet]=s.segment,o),{}),eF())}expandSegment(e,t,r,i,o,s){return at(r).pipe($o(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(ti(l=>{if(l instanceof _m)return q(null);throw l}))),Bo(a=>!!a),ti((a,c)=>{if(J0(a))return LF(t,i,o)?q(new we([],{})):ld(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return FF(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):ld(t):ld(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?UF(o):this.lineralizeSegments(r,o).pipe(Lt(s=>{const a=new we(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=tw(t,i,o);if(!a)return ld(t);const d=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?UF(d):this.lineralizeSegments(i,d).pipe(Lt(h=>this.expandSegment(e,t,r,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=kF(r,e),r.loadChildren?(r._loadedRoutes?q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Q(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new we(i,{})))):q(new we(i,{}))):PF(t,r,i,e).pipe(Un(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(Lt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=pm(t,a,c,h),m=new we(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(Q(v=>new we(a,v)));if(0===h.length&&0===p.length)return q(new we(a,{}));const _=Or(r)===o;return this.expandSegment(d,m,h,p,_?be:o,!0).pipe(Q(I=>new we(a.concat(I.segments),I.children)))})):ld(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function wJ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(s=>{const a=Bc(s,n);return jo(function aJ(n){return n&&cd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe($c(),OF())}(e,t,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,t).pipe(_t(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function SJ(n){return Ls(SF(gm,3))}())):q({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[be])return Ls(new x(4e3,gm));i=i.children[be]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Vs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return an(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return an(t.children,(a,c)=>{s[c]=this.createSegmentGroup(e,a,r,i)}),new we(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new x(4001,gm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class RJ{}class PJ{constructor(e,t,r,i,o,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=pm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,be).pipe(Q(t=>{if(null===t)return null;const r=new um([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},be,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new eo(r,t),o=new CF(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=xF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return at(Object.keys(r.children)).pipe($o(i=>{const o=r.children[i],s=RF(t,i);return this.processSegmentGroup(e,s,o,i)}),JP((i,o)=>i&&o?(i.push(...o),i):null),function tZ(n,e=!1){return ot((t,r)=>{let i=0;t.subscribe(st(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),em(null),eF(),Q(i=>{if(null===i)return null;const o=$F(i);return function FJ(n){n.sort((e,t)=>e.value.outlet===be?-1:t.value.outlet===be?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return at(t).pipe($o(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Bo(s=>!!s),ti(s=>{if(J0(s))return LF(r,i,o)?q([]):q(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!FF(t,r,i,o))return q(null);let s;if("**"===t.path){const a=i.length>0?iF(i).parameters:{},c=HF(r)+i.length;s=q({snapshot:new um(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zF(t),Or(t),t.component??t._loadedComponent??null,t,jF(r),c,GF(t)),consumedSegments:[],remainingSegments:[]})}else s=PF(r,t,i,e).pipe(Q(({matched:a,consumedSegments:c,remainingSegments:l,parameters:u})=>{if(!a)return null;const d=HF(r)+c.length;return{snapshot:new um(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zF(t),Or(t),t.component??t._loadedComponent??null,t,jF(r),d,GF(t)),consumedSegments:c,remainingSegments:l}}));return s.pipe(Un(a=>{if(null===a)return q(null);const{snapshot:c,consumedSegments:l,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function LJ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=pm(r,l,u,h.filter(_=>void 0===_.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(Q(_=>null===_?null:[new eo(c,_)]));if(0===h.length&&0===p.length)return q([new eo(c,[])]);const m=Or(t)===o;return this.processSegment(d,h,f,p,m?be:o).pipe(Q(_=>null===_?null:[new eo(c,_)]))}))}}function VJ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $F(n){const e=[],t=new Set;for(const r of n){if(!VJ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=$F(r.children);e.push(new eo(r.value,i))}return e.filter(r=>!t.has(r))}function jF(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function HF(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function zF(n){return n.data||{}}function GF(n){return n.resolve||{}}function qF(n){return"string"==typeof n.title||null===n.title}function nw(n){return Un(e=>{const t=n(e);return t?at(t).pipe(Q(()=>e)):q(e)})}const jc=new R("ROUTES");let rw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=jo(t.loadComponent()).pipe(Q(KF),_t(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),tm(()=>{this.componentLoaders.delete(t)})),i=new O0(r,()=>new Mt).pipe(N0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Q(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l,u=!1;Array.isArray(a)?l=a:(c=a.create(t).injector,l=rF(c.get(jc,[],re.Self|re.Optional)));return{routes:l.map(Z0),injector:c}}),tm(()=>{this.childrenLoaders.delete(r)})),s=new O0(o,()=>new Mt).pipe(N0());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return jo(t()).pipe(Q(KF),Lt(i=>i instanceof BN||Array.isArray(i)?q(i):at(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(C(sn),C(SO))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KF(n){return function WJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let iw=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Mt,this.configLoader=de(rw),this.environmentInjector=de(pi),this.urlSerializer=de(Zu),this.rootContexts=de(id),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new PZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new OZ(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Nr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tn(r=>0!==r.id),Q(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Un(r=>{let i=!1,o=!1;return q(r).pipe(_t(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Un(s=>{const a=t.browserUrlTree.toString(),c=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||c)&&t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return YF(s.source)&&(t.browserUrlTree=s.extractedUrl),q(s).pipe(Un(u=>{const d=this.transitions?.getValue();return this.events.next(new j0(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?ci:Promise.resolve(u)}),function kJ(n,e,t,r){return Un(i=>function AJ(n,e,t,r,i){return new MJ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Q(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),_t(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function BJ(n,e,t,r,i){return Lt(o=>function OJ(n,e,t,r,i,o,s="emptyOnly"){return new PJ(n,e,t,r,i,s,o).recognize().pipe(Un(a=>null===a?function NJ(n){return new Oe(e=>e.error(n))}(new RJ):q(a)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(Q(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),_t(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new AZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=s,_=new j0(d,this.urlSerializer.serialize(h),f,p);this.events.next(_);const y=IF(h,t.rootComponentType).snapshot;return q(r={...s,targetSnapshot:y,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=s.rawUrl,s.resolve(null),ci}),_t(s=>{const a=new MZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Q(s=>r={...s,guards:nJ(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function fJ(n,e){return Lt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?q({...t,guardsResult:!0}):function pJ(n,e,t,r){return at(n).pipe(Lt(i=>function bJ(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?q(o.map(a=>{const c=od(e)??i,l=Bc(a,c);return jo(function uJ(n){return n&&cd(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(Bo())})).pipe($c()):q(!0)}(i.component,i.route,t,e,r)),Bo(i=>!0!==i,!0))}(s,r,i,n).pipe(Lt(a=>a&&function sJ(n){return"boolean"==typeof n}(a)?function mJ(n,e,t,r){return at(e).pipe($o(i=>Oc(function _J(n,e){return null!==n&&e&&e(new FZ(n)),q(!0)}(i.route.parent,r),function gJ(n,e){return null!==n&&e&&e(new VZ(n)),q(!0)}(i.route,r),function vJ(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function rJ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Jp(()=>q(s.guards.map(c=>{const l=od(s.node)??t,u=Bc(c,l);return jo(function lJ(n){return n&&cd(n.canActivateChild)}(u)?u.canActivateChild(r,n):l.runInContext(()=>u(r,n))).pipe(Bo())})).pipe($c())));return q(o).pipe($c())}(n,i.path,t),function yJ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(o=>Jp(()=>{const s=od(e)??t,a=Bc(o,s);return jo(function cJ(n){return n&&cd(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Bo())}));return q(i).pipe($c())}(n,i.route,t))),Bo(i=>!0!==i,!0))}(r,o,n,e):q(a)),Q(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),_t(s=>{if(r.guardsResult=s.guardsResult,Bs(s.guardsResult))throw DF(0,s.guardsResult);const a=new kZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Tn(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3,t),!1)),nw(s=>{if(s.guards.canActivateChecks.length)return q(s).pipe(_t(a=>{const c=new RZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Un(a=>{let c=!1;return q(a).pipe(function $J(n,e){return Lt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=0;return at(i).pipe($o(s=>function jJ(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!qF(i)&&(o[Yu]=i.title),function HJ(n,e,t,r){const i=function zJ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return q({});const o={};return at(i).pipe(Lt(s=>function GJ(n,e,t,r){const i=od(e)??r,o=Bc(n,i);return jo(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Bo(),_t(a=>{o[s]=a}))),P0(1),tF(o),ti(s=>J0(s)?ci:Ls(s)))}(o,n,e,r).pipe(Q(s=>(n._resolvedData=s,n.data=xF(n,t).resolve,i&&qF(i)&&(n.data[Yu]=i.title),null)))}(s.route,r,n,e)),_t(()=>o++),P0(1),Lt(s=>o===i.length?q(t):ci))})}(t.paramsInheritanceStrategy,this.environmentInjector),_t({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2,t))}}))}),_t(a=>{const c=new NZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),nw(s=>{const a=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(_t(u=>{c.component=u}),Q(()=>{})));for(const u of c.children)l.push(...a(u));return l};return R0(a(s.targetSnapshot.root)).pipe(em(),jt(1))}),nw(()=>t.afterPreactivation()),Q(s=>{const a=function GZ(n,e,t){const r=rd(n,e._root,t?t._root:void 0);return new EF(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),_t(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Q(r=>(new tJ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),_t({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new $s(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),tm(()=>{i||o||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ti(s=>{if(o=!0,MF(s)){AF(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new lm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),AF(s)){const c=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||YF(r.source)};t.scheduleNavigation(c,"imperative",null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new vF(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(c){r.reject(c)}}return ci}))}))}cancelNavigationTransition(t,r,i,o){const s=new lm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YF(n){return"imperative"!==n}let XF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===be);return r}getResolvedTitleForRoute(t){return t.data[Yu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return de(KJ)},providedIn:"root"}),n})(),KJ=(()=>{class n extends XF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(C(zP))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return de(XJ)},providedIn:"root"}),n})();class YJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let XJ=(()=>{class n extends YJ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=on(n)))(r||n)}}(),n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ym=new R("",{providedIn:"root",factory:()=>({})});let JJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return de(eee)},providedIn:"root"}),n})(),eee=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tee(n){throw n}function nee(n,e,t){return e.parse("/")}const ree={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bn=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(M9),this.isNgZoneEnabled=!1,this.options=de(ym,{optional:!0})||{},this.errorHandler=this.options.errorHandler||tee,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nee,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>q(void 0),this.urlHandlingStrategy=de(JJ),this.routeReuseStrategy=de(QJ),this.urlCreationStrategy=de(jZ),this.titleStrategy=de(XF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rF(de(jc,{optional:!0})??[]),this.navigationTransitions=de(iw),this.urlSerializer=de(Zu),this.location=de(o0),this.rootComponentType=null,this.isNgZoneEnabled=de(ve)instanceof ve&&ve.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IF(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(t.state){const a={...t.state};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(t.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Z0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function oee(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new x(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...ree}:!1===r?{...iee}:r,Bs(t))return sF(this.currentUrlTree,t,i);const o=this.parseUrl(t);return sF(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l,u;return s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),u=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):u=0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ud=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Mt;const c=s.nativeElement.tagName;this.isAnchorElement="A"===c||"AREA"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof $s&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Nc(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Nc(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Nc(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function fk(n,e,t){return function BW(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hk:fi}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(E(Bn),E(Uc),cu("tabindex"),E(zi),E(ut),E(Fs))},n.\u0275dir=H({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ke("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Zn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[dr]}),n})(),JF=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof $s&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Ha()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=at(t).pipe(Ha()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function see(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Bn),E(ut),E(zi),E(ju),E(ud,8))},n.\u0275dir=H({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&Qi(i,ud,5),2&t){let o;xn(o=Cn())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[dr]}),n})();class eL{}let aee=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Tn(t=>t instanceof $s),$o(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Dp(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return at(i).pipe(Ha())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):q(null);const o=i.pipe(Lt(s=>null===s?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?at([o,this.loader.loadComponent(r)]).pipe(Ha()):o})}}return n.\u0275fac=function(t){return new(t||n)(C(Bn),C(SO),C(pi),C(eL),C(rw))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ow=new R("");let tL=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof j0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $s&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Yv()},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function nL(n){return n.routerState.root}function zc(n,e){return{\u0275kind:n,\u0275providers:e}}function rL(){const n=de(sn);return e=>{const t=n.get(Rc);if(e!==t.components[0])return;const r=n.get(Bn),i=n.get(iL);1===n.get(aw)&&r.initialNavigation(),n.get(sL,null,re.Optional)?.setUpPreloading(),n.get(ow,null,re.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const iL=new R("",{factory:()=>new Mt}),aw=new R("",{providedIn:"root",factory:()=>1});function oL(){return zc(2,[{provide:aw,useValue:0},{provide:Uu,multi:!0,deps:[sn],useFactory:e=>{const t=e.get(gQ,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const o=e.get(Bn),s=e.get(iL);(function r(i){e.get(Bn).events.pipe(Tn(s=>s instanceof $s||s instanceof lm||s instanceof vF),Q(s=>s instanceof $s||s instanceof lm&&(0===s.code||1===s.code)&&null),Tn(s=>null!==s),jt(1)).subscribe(()=>{i()})})(()=>{i(!0)}),o.afterPreactivation=()=>(i(!0),s.closed?q(void 0):s),o.initialNavigation()}))}}])}const sL=new R("");function hee(n){return zc(0,[{provide:sL,useExisting:aee},{provide:eL,useExisting:n}])}const aL=new R("ROUTER_FORROOT_GUARD"),fee=[o0,{provide:Zu,useClass:F0},Bn,id,{provide:Uc,useFactory:nL,deps:[Bn]},rw,[]];function pee(){return new PO("Router",Bn)}let cw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[fee,[],{provide:jc,multi:!0,useValue:t},{provide:aL,useFactory:yee,deps:[[Bn,new lt,new oc]]},{provide:ym,useValue:r||{}},r?.useHash?{provide:Fs,useClass:yQ}:{provide:Fs,useClass:rP},{provide:ow,useFactory:()=>{const n=de(FY),e=de(ve),t=de(ym),r=de(iw),i=de(Zu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tL(i,r,n,e,t)}},r?.preloadingStrategy?hee(r.preloadingStrategy).\u0275providers:[],{provide:PO,multi:!0,useFactory:pee},r?.initialNavigation?vee(r):[],[{provide:cL,useFactory:rL},{provide:jb,multi:!0,useExisting:cL}]]}}static forChild(t){return{ngModule:n,providers:[{provide:jc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(C(aL,8))},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Y0]}),n})();function yee(n){return"guarded"}function vee(n){return["disabled"===n.initialNavigation?zc(3,[{provide:Uu,multi:!0,useFactory:()=>{const e=de(Bn);return()=>{e.setUpLocationChangeListener()}}},{provide:aw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?oL().\u0275providers:[]]}const cL=new R(""),vm=function(){return["active-link"]};class hd{}function lL(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){lL(o,r,i,s,a,"next",c)}function a(c){lL(o,r,i,s,a,"throw",c)}s(void 0)})}}hd.\u0275fac=function(e){return new(e||hd)},hd.\u0275cmp=wt({type:hd,selectors:[["poke-app-navbar"]],standalone:!0,features:[Jn],decls:9,vars:8,consts:[["routerLink","/home",3,"routerLinkActive"],["routerLink","/pokedex",3,"routerLinkActive"],["routerLink","/play",3,"routerLinkActive"],["routerLink","/profile",3,"routerLinkActive"]],template:function(e,t){1&e&&(k(0,"nav")(1,"a",0),ee(2,"Accueil"),N(),k(3,"a",1),ee(4,"Pokedex"),N(),k(5,"a",2),ee(6,"Jouer"),N(),k(7,"a",3),ee(8,"Profile"),N()()),2&e&&(U(1),j("routerLinkActive",Pu(4,vm)),U(2),j("routerLinkActive",Pu(5,vm)),U(2),j("routerLinkActive",Pu(6,vm)),U(2),j("routerLinkActive",Pu(7,vm)))},dependencies:[cw,ud,JF,Vn],styles:["nav[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-self:flex-start}a[_ngcontent-%COMP%]{color:#fff}.active-link[_ngcontent-%COMP%]{color:#000;background-color:#fff}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid white;padding:15px;margin:0;width:25%;text-align:center;text-decoration:none}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;background-color:#fff}"]});const uL=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw Error();r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},bm=function(n){return function(n){const e=uL(n);return uw.encodeByteArray(e,!0)}(n).replace(/\./g,"")},wm=function(n){try{return uw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function js(){try{return"object"==typeof indexedDB}catch{return!1}}function fd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function hw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const fw=()=>{try{return function Mee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&wm(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},hL=n=>{var e,t;return null===(t=null===(e=fw())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},fL=n=>{const e=hL(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},pL=n=>{var e;return null===(e=fw())||void 0===e?void 0:e[`_${n}`]};class Em{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function mL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bm(JSON.stringify({alg:"none",type:"JWT"})),bm(JSON.stringify(s)),""].join(".")}class _r extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ei.prototype.create)}}class Ei{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Fee(n,e){return n.replace(Lee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new _r(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Lee=/\{\$([^}]+)}/g;function xm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(_L(o)&&_L(s)){if(!xm(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function _L(n){return null!==n&&"object"==typeof n}function Cm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function md(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Bee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function $ee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=pw),void 0===i.error&&(i.error=pw),void 0===i.complete&&(i.complete=pw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pw(){}function gw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Nt(n){return n&&n._delegate?n._delegate:n}class cn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class Wee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Em;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Hs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Wee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _w=[];var Se=(()=>{return(n=Se||(Se={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Se;var n})();const yL={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},Xee=Se.INFO,Zee={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Jee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Zee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Gc{constructor(e){this.name=e,this._logLevel=Xee,this._logHandler=Jee,this._userLogHandler=null,_w.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}let vL,bL;const wL=new WeakMap,yw=new WeakMap,EL=new WeakMap,vw=new WeakMap,bw=new WeakMap;let ww={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return yw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||EL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return to(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ate(n){return"function"==typeof n?function ste(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nte(){return bL||(bL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ew(this),e),to(wL.get(this))}:function(...e){return to(n.apply(Ew(this),e))}:function(e,...t){const r=n.call(Ew(this),e,...t);return EL.set(r,e.sort?e.sort():[e]),to(r)}}(n):(n instanceof IDBTransaction&&function ite(n){if(yw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});yw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function tte(){return vL||(vL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ww):n)}function to(n){if(n instanceof IDBRequest)return function rte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(to(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&wL.set(t,n)}).catch(()=>{}),bw.set(e,n),e}(n);if(vw.has(n))return vw.get(n);const e=ate(n);return e!==n&&(vw.set(n,e),bw.set(e,n)),e}const Ew=n=>bw.get(n);function Tm(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=to(s);return r&&s.addEventListener("upgradeneeded",c=>{r(to(s.result),c.oldVersion,c.newVersion,to(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Iw(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),to(t).then(()=>{})}const cte=["get","getKey","getAll","getAllKeys","count"],lte=["put","add","delete","clear"],xw=new Map;function IL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(xw.get(e))return xw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=lte.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cte.includes(t))return;const o=function(){var s=g(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return xw.set(e,o),o}!function ote(n){ww=n(ww)}(n=>({...n,get:(e,t,r)=>IL(e,t)||n.get(e,t,r),has:(e,t)=>!!IL(e,t)||n.has(e,t)}));class ute{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function dte(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Cw="@firebase/app",zs=new Gc("@firebase/app"),Dm="[DEFAULT]",Lte={[Cw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gs=new Map,Sm=new Map;function Vte(n,e){try{n.container.addComponent(e)}catch(t){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dn(n){const e=n.name;if(Sm.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,n);for(const t of Gs.values())Vte(t,n);return!0}function qs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const no=new Ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bte{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}const Ws="9.15.0";function CL(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw no.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=fw())||void 0===n?void 0:n.config})()),!t)throw no.create("no-options");const o=Gs.get(i);if(o){if(xm(t,o.options)&&xm(r,o.config))return o;throw no.create("duplicate-app",{appName:i})}const s=new Yee(i);for(const c of Sm.values())s.addComponent(c);const a=new Bte(t,r,s);return Gs.set(i,a),a}function Am(n=Dm){const e=Gs.get(n);if(!e&&n===Dm)return CL();if(!e)throw no.create("no-app",{appName:n});return e}function TL(){return Array.from(Gs.values())}function Je(n,e,t){var r;let i=null!==(r=Lte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void zs.warn(a.join(" "))}Dn(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gd="firebase-heartbeat-store";let Dw=null;function DL(){return Dw||(Dw=Tm("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(gd)}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),Dw}function Sw(){return(Sw=g(function*(n){try{return(yield DL()).transaction(gd).objectStore(gd).get(AL(n))}catch(e){if(e instanceof _r)zs.warn(e.message);else{const t=no.create("idb-get",{originalErrorMessage:e?.message});zs.warn(t.message)}}})).apply(this,arguments)}function SL(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=g(function*(n,e){try{const r=(yield DL()).transaction(gd,"readwrite");return yield r.objectStore(gd).put(e,AL(n)),r.done}catch(t){if(t instanceof _r)zs.warn(t.message);else{const r=no.create("idb-set",{originalErrorMessage:t?.message});zs.warn(r.message)}}})).apply(this,arguments)}function AL(n){return`${n.name}!${n.options.appId}`}class qte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Kte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ML();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=ML(),{heartbeatsToSend:r,unsentEntries:i}=function Wte(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kL(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=bm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function ML(){return(new Date).toISOString().substring(0,10)}class Kte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!js()&&fd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Hte(n){return Sw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return SL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return SL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function kL(n){return bm(JSON.stringify({version:2,heartbeats:n})).length}!function Qte(n){Dn(new cn("platform-logger",e=>new ute(e),"PRIVATE")),Dn(new cn("heartbeat",e=>new qte(e),"PRIVATE")),Je(Cw,"0.9.0",n),Je(Cw,"0.9.0","esm2017"),Je("fire-js","")}(""),Je("firebase","9.15.0","app");const RL="@firebase/installations",OL="w:0.6.0",PL="FIS_v2",ro=new Ei("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function FL(n){return n instanceof _r&&n.code.includes("request-failed")}function kw({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function LL(n){return{token:n.token,requestStatus:2,expiresIn:rne(n.expiresIn),creationTime:Date.now()}}function Rw(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(n,e){const r=(yield e.json()).error;return ro.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function VL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function UL(n,{refreshToken:e}){const t=VL(n);return t.append("Authorization",function ine(n){return`${PL} ${n}`}(e)),t}function Ow(n){return Pw.apply(this,arguments)}function Pw(){return(Pw=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function rne(n){return Number(n.replace("s","000"))}function one(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=kw(n),i=VL(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:PL,appId:n.appId,sdkVersion:OL})},c=yield Ow(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:LL(l.authToken)}}throw yield Rw("Create Installation",c)})).apply(this,arguments)}function BL(n){return new Promise(e=>{setTimeout(e,n)})}const ane=/^[cdef][\w-]{21}$/;function cne(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function lne(n){return function sne(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return ane.test(t)?t:""}catch{return""}}function qc(n){return`${n.appName}!${n.appId}`}const Wc=new Map;function $L(n,e){const t=qc(n);jL(t,e),function hne(n,e){const t=function HL(){return!Ks&&"BroadcastChannel"in self&&(Ks=new BroadcastChannel("[Firebase] FID Change"),Ks.onmessage=n=>{jL(n.data.key,n.data.fid)}),Ks}();t&&t.postMessage({key:n,fid:e}),function zL(){0===Wc.size&&Ks&&(Ks.close(),Ks=null)}()}(t,e)}function jL(n,e){const t=Wc.get(n);if(t)for(const r of t)r(e)}let Ks=null;const Qs="firebase-installations-store";let Vw=null;function Uw(){return Vw||(Vw=Tm("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Qs)}})),Vw}function Mm(n,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=g(function*(n,e){const t=qc(n),i=(yield Uw()).transaction(Qs,"readwrite"),o=i.objectStore(Qs),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&$L(n,e.fid),e})).apply(this,arguments)}function $w(n){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(n){const e=qc(n),r=(yield Uw()).transaction(Qs,"readwrite");yield r.objectStore(Qs).delete(e),yield r.done})).apply(this,arguments)}function _d(n,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=g(function*(n,e){const t=qc(n),i=(yield Uw()).transaction(Qs,"readwrite"),o=i.objectStore(Qs),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&$L(n,a.fid),a})).apply(this,arguments)}function zw(n){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(n){let e;const t=yield _d(n.appConfig,r=>{const i=mne(r),o=gne(n,i);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function mne(n){return qL(n||{fid:cne(),registrationStatus:0})}function gne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ro.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function _ne(n,e){return qw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:yne(n)}:{installationEntry:e}}function qw(){return(qw=g(function*(n,e){try{const t=yield one(n,e);return Mm(n.appConfig,t)}catch(t){throw FL(t)&&409===t.customData.serverCode?yield $w(n.appConfig):yield Mm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function yne(n){return Ww.apply(this,arguments)}function Ww(){return(Ww=g(function*(n){let e=yield GL(n.appConfig);for(;1===e.registrationStatus;)yield BL(100),e=yield GL(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield zw(n);return r||t}return e})).apply(this,arguments)}function GL(n){return _d(n,e=>{if(!e)throw ro.create("installation-not-found");return qL(e)})}function qL(n){return function vne(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function bne(n,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=wne(n,t),i=UL(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:OL,appId:n.appId}})},c=yield Ow(()=>fetch(r,a));if(c.ok)return LL(yield c.json());throw yield Rw("Generate Auth Token",c)})).apply(this,arguments)}function wne(n,{fid:e}){return`${kw(n)}/${e}/authTokens:generate`}function Qw(n){return Yw.apply(this,arguments)}function Yw(){return(Yw=g(function*(n,e=!1){let t;const r=yield _d(n.appConfig,o=>{if(!KL(o))throw ro.create("not-registered");const s=o.authToken;if(!e&&xne(s))return o;if(1===s.requestStatus)return t=Ene(n,e),o;{if(!navigator.onLine)throw ro.create("app-offline");const a=Tne(o);return t=Ine(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function Ene(n,e){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(n,e){let t=yield WL(n.appConfig);for(;1===t.authToken.requestStatus;)yield BL(100),t=yield WL(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Qw(n,e):r})).apply(this,arguments)}function WL(n){return _d(n,e=>{if(!KL(e))throw ro.create("not-registered");return function Dne(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ine(n,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=g(function*(n,e){try{const t=yield bne(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Mm(n.appConfig,r),t}catch(t){if(!FL(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Mm(n.appConfig,r)}else yield $w(n.appConfig);throw t}})).apply(this,arguments)}function KL(n){return void 0!==n&&2===n.registrationStatus}function xne(n){return 2===n.requestStatus&&!function Cne(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Tne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Jw(){return(Jw=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield zw(e);return r?r.catch(console.error):Qw(e).catch(console.error),t.fid})).apply(this,arguments)}function eE(){return(eE=g(function*(n,e=!1){const t=n;return yield Mne(t),(yield Qw(t,e)).token})).apply(this,arguments)}function Mne(n){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(n){const{registrationPromise:e}=yield zw(n);e&&(yield e)})).apply(this,arguments)}function iE(n){return ro.create("missing-app-config-values",{valueName:n})}const QL="installations",Pne=n=>{const e=n.getProvider("app").getImmediate(),t=function Nne(n){if(!n||!n.options)throw iE("App Configuration");if(!n.name)throw iE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw iE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:qs(e,"heartbeat"),_delete:()=>Promise.resolve()}},Fne=n=>{const t=qs(n.getProvider("app").getImmediate(),QL).getImmediate();return{getId:()=>function Sne(n){return Jw.apply(this,arguments)}(t),getToken:i=>function Ane(n){return eE.apply(this,arguments)}(t,i)}};(function Lne(){Dn(new cn(QL,Pne,"PUBLIC")),Dn(new cn("installations-internal",Fne,"PRIVATE"))})(),Je(RL,"0.6.0"),Je(RL,"0.6.0","esm2017");const oE="@firebase/remote-config",tr=new Ei("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Qne(n=navigator){return n.languages&&n.languages[0]||n.language}class Yne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Qne()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((y,I)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",I(v)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(y){let I="fetch-client-network";throw"AbortError"===y?.name&&(I="fetch-timeout"),tr.create(I,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let y;try{y=yield h.json()}catch(I){throw tr.create("fetch-client-parse",{originalErrorMessage:I?.message})}m=y.entries,_=y.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw tr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Jne{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function Xne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function Zne(n){if(!(n instanceof _r&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+gw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class nre{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rm(n,e){const t=n.target.error||void 0;return tr.create(e,{originalErrorMessage:t&&t?.message})}const Ys="app_namespace_store";class sre{constructor(e,t,r,i=function ore(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Rm(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ys,{keyPath:"compositeKey"})}}catch(t){e(tr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Ys],"readonly").objectStore(Ys),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(Rm(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){o(tr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Ys],"readwrite").objectStore(Ys),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(Rm(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(tr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Ys],"readwrite").objectStore(Ys),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(Rm(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){o(tr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class are{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function lre(){return uE.apply(this,arguments)}function uE(){return(uE=g(function*(){if(!js())return!1;try{return yield fd()}catch{return!1}})).apply(this,arguments)}!function cre(){Dn(new cn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tr.create("registration-window");if(!js())throw tr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw tr.create("registration-project-id");if(!s)throw tr.create("registration-api-key");if(!a)throw tr.create("registration-app-id");const c=new sre(a,r.name,t=t||"firebase"),l=new are(c),u=new Gc(oE);u.logLevel=Se.ERROR;const d=new Yne(i,Ws,t,o,s,a),h=new Jne(d,c),f=new Kne(h,c,l,u),p=new nre(r,f,l,c,u);return function Gne(n){const e=Nt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Je(oE,"0.4.0"),Je(oE,"0.4.0","esm2017")}();const ure="/firebase-messaging-sw.js",dre="/firebase-cloud-messaging-push-scope",JL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",e2="google.c.a.c_id",fre="google.c.a.c_l",pre="google.c.a.ts",mre="google.c.a.e";var Kc=(()=>{return(n=Kc||(Kc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Kc;var n})();function io(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const dE="fcm_token_details_db",t2="fcm_token_object_Store";function yre(n){return hE.apply(this,arguments)}function hE(){return hE=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(dE))return null;let e=null;return(yield Tm(dE,5,{upgrade:(r=g(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(t2))return;const l=a.objectStore(t2),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:io(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:io(d.auth),p256dh:io(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:io(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:io(d.auth),p256dh:io(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:io(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield Iw(dE),yield Iw("fcm_vapid_details_db"),yield Iw("undefined"),vre(e)?e:null;var r}),hE.apply(this,arguments)}function vre(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Xs="firebase-messaging-store";let fE=null;function pE(){return fE||(fE=Tm("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Xs)}})),fE}function n2(n){return mE.apply(this,arguments)}function mE(){return(mE=g(function*(n){const e=vE(n),r=yield(yield pE()).transaction(Xs).objectStore(Xs).get(e);if(r)return r;{const i=yield yre(n.appConfig.senderId);if(i)return yield gE(n,i),i}})).apply(this,arguments)}function gE(n,e){return _E.apply(this,arguments)}function _E(){return(_E=g(function*(n,e){const t=vE(n),i=(yield pE()).transaction(Xs,"readwrite");return yield i.objectStore(Xs).put(e,t),yield i.done,e})).apply(this,arguments)}function Ere(n){return yE.apply(this,arguments)}function yE(){return(yE=g(function*(n){const e=vE(n),r=(yield pE()).transaction(Xs,"readwrite");yield r.objectStore(Xs).delete(e),yield r.done})).apply(this,arguments)}function vE({appConfig:n}){return n.appId}const ln=new Ei("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xre(n,e){return bE.apply(this,arguments)}function bE(){return(bE=g(function*(n,e){const t=yield xE(n),r=o2(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(IE(n.appConfig),i)).json()}catch(s){throw ln.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw ln.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw ln.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Cre(n,e){return wE.apply(this,arguments)}function wE(){return(wE=g(function*(n,e){const t=yield xE(n),r=o2(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${IE(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw ln.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw ln.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw ln.create("token-update-no-token");return o.token})).apply(this,arguments)}function r2(n,e){return EE.apply(this,arguments)}function EE(){return(EE=g(function*(n,e){const r={method:"DELETE",headers:yield xE(n)};try{const o=yield(yield fetch(`${IE(n.appConfig)}/${e}`,r)).json();if(o.error)throw ln.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw ln.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function IE({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function xE(n){return CE.apply(this,arguments)}function CE(){return(CE=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function o2({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==JL&&(i.web.applicationPubKey=r),i}function Dre(n){return TE.apply(this,arguments)}function TE(){return(TE=g(function*(n){const e=yield Are(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:io(e.getKey("auth")),p256dh:io(e.getKey("p256dh"))},r=yield n2(n.firebaseDependencies);if(r){if(Mre(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Sre(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield r2(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return a2(n.firebaseDependencies,t)}return a2(n.firebaseDependencies,t)})).apply(this,arguments)}function s2(n){return DE.apply(this,arguments)}function DE(){return(DE=g(function*(n){const e=yield n2(n.firebaseDependencies);e&&(yield r2(n.firebaseDependencies,e.token),yield Ere(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Sre(n,e){return SE.apply(this,arguments)}function SE(){return(SE=g(function*(n,e){try{const t=yield Cre(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield gE(n.firebaseDependencies,r),t}catch(t){throw yield s2(n),t}})).apply(this,arguments)}function a2(n,e){return AE.apply(this,arguments)}function AE(){return(AE=g(function*(n,e){const r={token:yield xre(n,e),createTime:Date.now(),subscriptionOptions:e};return yield gE(n,r),r.token})).apply(this,arguments)}function Are(n,e){return ME.apply(this,arguments)}function ME(){return(ME=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gre(e)})})).apply(this,arguments)}function Mre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function c2(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function kre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Rre(n,e){!e.data||(n.data=e.data)}(e,n),function Nre(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function Ore(n){return"object"==typeof n&&!!n&&e2 in n}function l2(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function kE(n){return ln.create("missing-app-config-values",{valueName:n})}l2("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),l2("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fre{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Pre(n){if(!n||!n.options)throw kE("App Configuration Object");if(!n.name)throw kE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw kE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function u2(n){return RE.apply(this,arguments)}function RE(){return(RE=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(ure,{scope:dre}),n.swRegistration.update().catch(()=>{})}catch(e){throw ln.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Lre(n,e){return NE.apply(this,arguments)}function NE(){return(NE=g(function*(n,e){if(!e&&!n.swRegistration&&(yield u2(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Vre(n,e){return OE.apply(this,arguments)}function OE(){return(OE=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=JL)})).apply(this,arguments)}function PE(){return(PE=g(function*(n,e){if(!navigator)throw ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ln.create("permission-blocked");return yield Vre(n,e?.vapidKey),yield Lre(n,e?.serviceWorkerRegistration),Dre(n)})).apply(this,arguments)}function Ure(n,e,t){return FE.apply(this,arguments)}function FE(){return(FE=g(function*(n,e,t){const r=Bre(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[e2],message_name:t[fre],message_time:t[pre],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bre(n){switch(n){case Kc.NOTIFICATION_CLICKED:return"notification_open";case Kc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function LE(){return(LE=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Kc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(c2(t)):n.onMessageHandler.next(c2(t)));const r=t.data;Ore(r)&&"1"===r[mre]&&(yield Ure(n,t.messageType,r))})).apply(this,arguments)}const h2="@firebase/messaging",jre=n=>{const e=new Fre(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function $re(n,e){return LE.apply(this,arguments)}(e,t)),e},Hre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function d2(n,e){return PE.apply(this,arguments)}(e,r)}};function p2(){return VE.apply(this,arguments)}function VE(){return(VE=g(function*(){try{yield fd()}catch{return!1}return typeof window<"u"&&js()&&hw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zre(){Dn(new cn("messaging",jre,"PUBLIC")),Dn(new cn("messaging-internal",Hre,"PRIVATE")),Je(h2,"0.12.0"),Je(h2,"0.12.0","esm2017")}();const Nm="analytics",Wre="firebase_id",Yre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",m2="https://www.googletagmanager.com/gtag/js",un=new Gc("@firebase/analytics");function g2(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Xre(n,e){const t=document.createElement("script");t.src=`${m2}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Jre(n,e,t,r,i,o){return $E.apply(this,arguments)}function $E(){return($E=g(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield g2(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){un.error(a)}n("config",i,o)})).apply(this,arguments)}function eie(n,e,t,r,i){return jE.apply(this,arguments)}function jE(){return(jE=g(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield g2(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){un.error(o)}})).apply(this,arguments)}function rie(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(m2)&&t.src.includes(n))return t;return null}const yr=new Ei("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_2=new class aie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function cie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function lie(n){return HE.apply(this,arguments)}function HE(){return(HE=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:cie(r)},o=Yre.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function uie(n){return zE.apply(this,arguments)}function zE(){return(zE=g(function*(n,e=_2,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw yr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw yr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fie;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),y2({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function y2(n,e,t){return GE.apply(this,arguments)}function GE(){return(GE=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=_2){var o;const{appId:s,measurementId:a}=n;try{yield die(r,e)}catch(c){if(a)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield lie(n);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!hie(l)){if(i.deleteThrottleMetadata(s),a)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?gw(t,i.intervalMillis,30):gw(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,d),un.debug(`Calling attemptFetch again in ${u} millis`),y2(n,d,r,i)}})).apply(this,arguments)}function die(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hie(n){if(!(n instanceof _r&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class fie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let qE,ZE;function WE(){return(WE=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function v2(n){ZE=n}function b2(n){qE=n}function vie(){return JE.apply(this,arguments)}function JE(){return(JE=g(function*(){if(!js())return un.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fd()}catch(n){return un.warn(yr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function eI(){return(eI=g(function*(n,e,t,r,i,o,s){var a;const c=uie(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>un.error(f)),e.push(c);const l=vie().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);rie(o)||Xre(o,u.measurementId),ZE&&(i("consent","default",ZE),v2(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Wre]=d),i("config",u.measurementId,h),qE&&(i("set",qE),b2(void 0)),u.measurementId})).apply(this,arguments)}class wie{constructor(e){this.app=e}_delete(){return delete oo[this.app.options.appId],Promise.resolve()}}let oo={},w2=[];const E2={};let x2,so,Om="dataLayer",tI=!1;function Iie(n,e,t){!function Eie(){const n=[];if(dw()&&n.push("This is a browser extension environment."),hw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=yr.create("invalid-analytics-context",{errorInfo:e});un.warn(t.message)}}();const r=n.options.appId;if(!r)throw yr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw yr.create("no-api-key");un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oo[r])throw yr.create("already-exists",{id:r});if(!tI){!function Zre(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Om);const{wrappedGtag:o,gtagCore:s}=function nie(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function tie(n,e,t,r){function o(){return(o=g(function*(s,a,c){try{"event"===s?yield eie(n,e,t,a,c):"config"===s?yield Jre(n,e,t,r,a,c):"consent"===s?n("consent","update",c):n("set",a)}catch(l){un.error(l)}})).apply(this,arguments)}return function i(s,a,c){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(oo,w2,E2,Om,"gtag");so=o,x2=s,tI=!0}return oo[r]=function bie(n,e,t,r,i,o,s){return eI.apply(this,arguments)}(n,w2,E2,e,x2,Om,t),new wie(n)}function Cie(){return nI.apply(this,arguments)}function nI(){return(nI=g(function*(){if(dw()||!hw()||!js())return!1;try{return yield fd()}catch{return!1}})).apply(this,arguments)}const C2="@firebase/analytics";!function Die(){Dn(new cn(Nm,(e,{options:t})=>Iie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Dn(new cn("analytics-internal",function n(e){try{const t=e.getProvider(Nm).getImmediate();return{logEvent:(r,i,o)=>function Tie(n,e,t,r){n=Nt(n),function pie(n,e,t,r,i){return WE.apply(this,arguments)}(so,oo[n.app.options.appId],e,t,r).catch(i=>un.error(i))}(t,r,i,o)}}catch(t){throw yr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Je(C2,"0.9.0"),Je(C2,"0.9.0","esm2017")}();class Sie extends ar{constructor(e,t){super()}schedule(e,t=0){return this}}const Pm={setInterval(n,e,...t){const{delegate:r}=Pm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Pm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class D2 extends Sie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Pm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Pm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ja(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const S2={now:()=>(S2.delegate||Date).now(),delegate:void 0};class yd{constructor(e,t=yd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}yd.now=S2.now;class A2 extends yd{constructor(e,t=yd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const kie=new class Mie extends A2{}(class Aie extends D2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Fm=new A2(D2),Rie=Fm,vd=new Ro("7.5.0"),rI="__angularfire_symbol__analyticsIsSupportedValue",iI="__angularfire_symbol__analyticsIsSupported",oI="__angularfire_symbol__remoteConfigIsSupportedValue",sI="__angularfire_symbol__remoteConfigIsSupported",aI="__angularfire_symbol__messagingIsSupportedValue",cI="__angularfire_symbol__messagingIsSupported";function Lm(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[iI]||(globalThis[iI]=Cie().then(n=>globalThis[rI]=n).catch(()=>globalThis[rI]=!1)),globalThis[cI]||(globalThis[cI]=p2().then(n=>globalThis[aI]=n).catch(()=>globalThis[aI]=!1)),globalThis[sI]||(globalThis[sI]=lre().then(n=>globalThis[oI]=n).catch(()=>globalThis[oI]=!1));const Vm=(n,e)=>{const t=e?[e]:TL(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Qc(){}class M2{constructor(e,t=kie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Nie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qc,{},Qc,Qc)),t.pipe(_t({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Um=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new M2(Zone.current)),this.insideAngular=t.run(()=>new M2(Zone.current,Fm)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(ve))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zs(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Oie(n){return Zs().ngZone.runOutsideAngular(()=>n())}function Js(n){return Zs().ngZone.run(()=>n())}function Pie(n){return Zs(),function Fie(n){return function(t){return(t=t.lift(new Nie(n.ngZone))).pipe(Tf(n.outsideAngular),Cf(n.insideAngular))}}(Zs())(n)}const Lie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Js(()=>n.apply(void 0,r))},ni=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=Js(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qc,{},Qc,Qc)))),r[o]=Lie(r[o],t));const i=Oie(()=>n.apply(this,r));if(!e){if(i instanceof Oe){const o=Zs();return i.pipe(Tf(o.outsideAngular),Cf(o.insideAngular))}return Js(()=>i)}return i instanceof Oe?i.pipe(Pie):i instanceof Promise?Js(()=>new Promise((o,s)=>i.then(a=>Js(()=>o(a)),a=>Js(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Js(()=>i)};class ea{constructor(e){return e}}class Bm{constructor(){return TL()}}const uI=new R("angularfire2._apps"),Uie={provide:ea,useFactory:function Vie(n){return n&&1===n.length?n[0]:new ea(Am())},deps:[[new lt,uI]]},Bie={provide:Bm,deps:[[new lt,uI]]};function $ie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ea(r)}}let jie=(()=>{class n{constructor(t){Je("angularfire",vd.full,"core"),Je("angularfire",vd.full,"app"),Je("angular",Dk.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(Lo))},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[Uie,Bie]}),n})();const zie=ni(CL,!0),dI=new Map,k2={activated:!1,tokenObservers:[]},Gie={initialized:!1,enabled:!1};function dn(n){return dI.get(n)||Object.assign({},k2)}function $m(){return Gie}class Xie{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new Em,yield function Zie(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Em,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $n=new Ei("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function N2(n){if(!dn(n).activated)throw $n.create("use-before-activation",{appName:n.name})}function pI(n,e){return mI.apply(this,arguments)}function mI(){return(mI=g(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(d){throw $n.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw $n.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw $n.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw $n.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function noe(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const bd="firebase-app-check-store";let zm=null;function P2(){return zm||(zm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e($n.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bd,{keyPath:"compositeKey"})}}catch(t){e($n.create("storage-open",{originalErrorMessage:t?.message}))}}),zm)}function gI(){return(gI=g(function*(n,e){const r=(yield P2()).transaction(bd,"readwrite"),o=r.objectStore(bd).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a($n.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const wd=new Gc("@firebase/app-check");function vI(n,e){return js()?function soe(n,e){return function F2(n,e){return gI.apply(this,arguments)}(function V2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{wd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function U2(){return $m().enabled}function B2(){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(){const n=$m();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hoe={error:"UNKNOWN_ERROR"};function foe(n){return uw.encodeString(JSON.stringify(n),!1)}function Gm(n){return EI.apply(this,arguments)}function EI(){return(EI=g(function*(n,e=!1){const t=n.app;N2(t);const r=dn(t);let o,i=r.token;if(i&&!Yc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Yc(c)?i=c:yield vI(t,void 0))}if(!e&&i&&Yc(i))return{token:i.token};let a,s=!1;if(U2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pI(noe(t,yield B2()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield vI(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield dn(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?wd.warn(c.message):wd.error(c),o=c}return i?o?a=Yc(i)?{token:i.token,internalError:o}:H2(o):(a={token:i.token},r.token=i,yield vI(t,i)):a=H2(o),s&&j2(t,a),a})).apply(this,arguments)}function xI(n,e){const t=dn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function $2(n){const{app:e}=n,t=dn(e);let r=t.tokenRefresher;r||(r=function poe(n){const{app:e}=n;return new Xie(g(function*(){let r;if(r=dn(e).token?yield Gm(n,!0):yield Gm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=dn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function j2(n,e){const t=dn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Yc(n){return n.expireTimeMillis-Date.now()>0}function H2(n){return{token:foe(hoe),error:n}}class moe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=dn(this.app);for(const t of e)xI(this.app,t.next);return Promise.resolve()}}const X2="app-check-internal";!function Aoe(){Dn(new cn("app-check",n=>function goe(n,e){return new moe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(X2).initialize()})),Dn(new cn(X2,n=>function _oe(n){return{getToken:e=>Gm(n,e),addTokenListener:e=>function II(n,e,t,r){const{app:i}=n,o=dn(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Yc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),$2(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$2(n))}(n,"INTERNAL",e),removeTokenListener:e=>xI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Je("@firebase/app-check","0.6.0")}();class Wm{constructor(){return Vm("app-check")}}typeof window<"u"&&window;const Ooe=function J2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},eV=new Ei("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tV=new Gc("@firebase/auth");function Km(n,...e){tV.logLevel<=Se.ERROR&&tV.error(`Auth (${Ws}): ${n}`,...e)}function nr(n,...e){throw AI(n,...e)}function Ii(n,...e){return AI(n,...e)}function nV(n,e,t){const r=Object.assign(Object.assign({},Ooe()),{[e]:t});return new Ei("auth","Firebase",r).create(e,{appName:n.name})}function AI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eV.create(n,...e)}function O(n,e,...t){if(!n)throw AI(e,...t)}function xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Km(e),new Error(e)}function Ho(n,e){n||xi(e)}const rV=new Map;function ao(n){Ho(n instanceof Function,"Expected a class definition");let e=rV.get(n);return e?(Ho(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rV.set(n,e),e)}function Ed(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function iV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Id{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ho(t>e,"Short delay should be less than long delay!"),this.isMobile=function Tee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}()||function See(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Loe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function MI(){return"http:"===iV()||"https:"===iV()}()||dw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kI(n,e){Ho(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class oV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Uoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Boe=new Id(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Kt(n,e,t,r){return RI.apply(this,arguments)}function RI(){return(RI=g(function*(n,e,t,r,i={}){return sV(n,i,g(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Cm(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),oV.fetch()(aV(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function sV(n,e,t){return NI.apply(this,arguments)}function NI(){return(NI=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Uoe),e);try{const i=new $oe(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw xd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw xd(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw xd(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw xd(n,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nV(n,u,l);nr(n,u)}}catch(i){if(i instanceof _r)throw i;nr(n,"network-request-failed")}})).apply(this,arguments)}function co(n,e,t,r){return OI.apply(this,arguments)}function OI(){return(OI=g(function*(n,e,t,r,i={}){const o=yield Kt(n,e,t,r,i);return"mfaPendingCredential"in o&&nr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function aV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?kI(n.config,i):`${n.config.apiScheme}://${i}`}class $oe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),Boe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ii(n,e,r);return i.customData._tokenResponse=t,i}function PI(){return(PI=g(function*(n,e){return Kt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function zoe(n,e){return LI.apply(this,arguments)}function LI(){return(LI=g(function*(n,e){return Kt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function VI(){return(VI=g(function*(n,e=!1){const t=Nt(n),r=yield t.getIdToken(e),i=Qm(r);O(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Cd(UI(i.auth_time)),issuedAtTime:Cd(UI(i.iat)),expirationTime:Cd(UI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function UI(n){return 1e3*Number(n)}function Qm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Km("JWT malformed, contained fewer than 3 sections"),null;try{const i=wm(t);return i?JSON.parse(i):(Km("Failed to decode base64 JWT payload"),null)}catch(i){return Km("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lo(n,e){return BI.apply(this,arguments)}function BI(){return(BI=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof _r&&Woe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Woe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Koe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class cV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Td(n){return $I.apply(this,arguments)}function $I(){return($I=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield lo(n,zoe(t,{idToken:r}));O(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Xoe(o.providerUserInfo):[],a=Yoe(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cV(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function jI(){return(jI=g(function*(n){const e=Nt(n);yield Td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Yoe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xoe(n){return n.map(e=>{var{providerId:t}=e,r=oM(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function HI(){return(HI=g(function*(n,e){const t=yield sV(n,{},g(function*(){const r=Cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=aV(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oV.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Dd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function qoe(n){const e=Qm(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Zoe(n,e){return HI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Dd;return r&&(O("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(O("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dd,this.toJSON())}_performRefresh(){return xi("not implemented")}}function zo(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=oM(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Koe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cV(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield lo(t,t.stsTokenManager.getToken(t.auth,e));return O(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Goe(n){return VI.apply(this,arguments)}(this,e)}reload(){return function Qoe(n){return jI.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Td(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield lo(e,function joe(n,e){return PI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,I=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:T,isAnonymous:$,providerData:V,stsTokenManager:_e}=t;O(v&&_e,e,"internal-error");const ft=Dd.fromJSON(this.name,_e);O("string"==typeof v,e,"internal-error"),zo(d,e.name),zo(h,e.name),O("boolean"==typeof T,e,"internal-error"),O("boolean"==typeof $,e,"internal-error"),zo(f,e.name),zo(p,e.name),zo(m,e.name),zo(_,e.name),zo(y,e.name),zo(I,e.name);const _n=new ta({uid:v,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:ft,createdAt:y,lastLoginAt:I});return V&&Array.isArray(V)&&(_n.providerData=V.map(ai=>Object.assign({},ai))),_&&(_n._redirectEventId=_),_n}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Dd;i.updateFromServerResponse(t);const o=new ta({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Td(o),o})()}}const lV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ym(n,e,t){return`firebase:${n}:${e}:${t}`}class Zc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ym(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ym("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ta._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new Zc(ao(lV),e,r);const i=(yield Promise.all(t.map(function(){var l=g(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||ao(lV);const s=Ym(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=ta._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=g(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Zc(o,e,r)):new Zc(o,e,r)})()}}function uV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mV(e))return"Blackberry";if(gV(e))return"Webos";if(zI(e))return"Safari";if((e.includes("chrome/")||hV(e))&&!e.includes("edge/"))return"Chrome";if(pV(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dV(n=Wt()){return/firefox\//i.test(n)}function zI(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hV(n=Wt()){return/crios\//i.test(n)}function fV(n=Wt()){return/iemobile/i.test(n)}function pV(n=Wt()){return/android/i.test(n)}function mV(n=Wt()){return/blackberry/i.test(n)}function gV(n=Wt()){return/webos/i.test(n)}function Xm(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _V(n=Wt()){return Xm(n)||pV(n)||gV(n)||mV(n)||/windows phone/i.test(n)||fV(n)}function yV(n,e=[]){let t;switch(n){case"Browser":t=uV(Wt());break;case"Worker":t=`${uV(Wt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ws}/${r}`}class nse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class rse{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vV(this),this.idTokenSubscription=new vV(this),this.beforeStateQueue=new nse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eV,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ao(t)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Zc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Td(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Voe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?Nt(e):null;return r&&O(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(ao(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ei("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&ao(e)||t._popupRedirectResolver;O(r,t,"argument-error"),t.redirectPersistenceManager=yield Zc.create(t,[ao(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return O(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function rr(n){return Nt(n)}class vV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Uee(n,e){const t=new Bee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class EV{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}function qI(){return(qI=g(function*(n,e){return Kt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function KI(){return(KI=g(function*(n,e){return co(n,"POST","/v1/accounts:signInWithPassword",Ht(n,e))})).apply(this,arguments)}function ex(){return(ex=g(function*(n,e){return co(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))})).apply(this,arguments)}function tx(){return(tx=g(function*(n,e){return co(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))})).apply(this,arguments)}class Sd extends EV{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Sd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Sd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){switch(t.signInMethod){case"password":return function cse(n,e){return KI.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function fse(n,e){return ex.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:nr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function xV(n,e){return qI.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function pse(n,e){return tx.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:nr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function uo(n,e){return nx.apply(this,arguments)}function nx(){return(nx=g(function*(n,e){return co(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))})).apply(this,arguments)}class kd{constructor(e){var t,r,i,o,s,a;const c=pd(md(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function wse(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);O(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Ese(n){const e=pd(md(n)).link,t=e?pd(md(e)).deep_link_id:null,r=pd(md(n)).deep_link_id;return(r?pd(md(r)).link:null)||r||t||e||n}(e);try{return new kd(t)}catch{return null}}}let CV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Sd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=kd.parseLink(r);return O(i,"argument-error"),Sd._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Go{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ise extends Go{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function TV(n,e){return cx.apply(this,arguments)}function cx(){return(cx=g(function*(n,e){return co(n,"POST","/v1/accounts:signUp",Ht(n,e))})).apply(this,arguments)}class Pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const o=yield ta._fromIdTokenResponse(e,r,i),s=DV(r);return new Pr({user:o,providerId:s,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=DV(r);return new Pr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function DV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class eg extends _r{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,eg.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new eg(e,t,r,i)}}function SV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?eg._fromErrorAndOperation(n,o,e,r):o})}function dx(n,e){return hx.apply(this,arguments)}function hx(){return(hx=g(function*(n,e,t=!1){const r=yield lo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Pr._forOperation(n,"link",r)})).apply(this,arguments)}function px(){return(px=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield lo(n,SV(r,i,e,n),t);O(o.idToken,r,"internal-error");const s=Qm(o.idToken);O(s,r,"internal-error");const{sub:a}=s;return O(n.uid===a,r,"user-mismatch"),Pr._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&nr(r,"user-mismatch"),o}})).apply(this,arguments)}function kV(n,e){return mx.apply(this,arguments)}function mx(){return(mx=g(function*(n,e,t=!1){const r="signIn",i=yield SV(n,r,e),o=yield Pr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function _x(){return(_x=g(function*(n,e){return kV(rr(n),e)})).apply(this,arguments)}function Mse(n,e,t){return Ax.apply(this,arguments)}function Ax(){return(Ax=g(function*(n,e,t){const r=rr(n),i=yield TV(r,{returnSecureToken:!0,email:e,password:t}),o=yield Pr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(o.user),o})).apply(this,arguments)}function kse(n,e,t){return function gx(n,e){return _x.apply(this,arguments)}(Nt(n),CV.credential(e,t))}function jse(n){return Nt(n).signOut()}const rg="__sak";class NV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rg,"1"),this.storage.removeItem(rg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qse=(()=>{class n extends NV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qse(){const n=Wt();return zI(n)||Xm(n)}()&&function tse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_V(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function ese(){return function Aee(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),OV=(()=>{class n extends NV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Xse=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Yse(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function zx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Zse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=zx("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function zt(){return window}function Gx(){return typeof zt().WorkerGlobalScope<"u"&&"function"==typeof zt().importScripts}function qx(){return(qx=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const PV="firebaseLocalStorageDb",ig="firebaseLocalStorage",FV="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function og(n,e){return n.transaction([ig],e?"readwrite":"readonly").objectStore(ig)}function Wx(){const n=indexedDB.open(PV,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ig,{keyPath:FV})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(ig)?e(r):(r.close(),yield function iae(){const n=indexedDB.deleteDatabase(PV);return new Nd(n).toPromise()}(),e(yield Wx()))}))})}function LV(n,e,t){return Kx.apply(this,arguments)}function Kx(){return(Kx=g(function*(n,e,t){const r=og(n,!0).put({[FV]:e,value:t});return new Nd(r).toPromise()})).apply(this,arguments)}function Qx(){return(Qx=g(function*(n,e){const t=og(n,!1).get(e),r=yield new Nd(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function VV(n,e){const t=og(n,!0).delete(e);return new Nd(t).toPromise()}const cae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield Wx()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return Gx()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=Xse._getInstance(function nae(){return Gx()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function eae(){return qx.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Zse(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);!o||(null===(r=o[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=o[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function tae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield Wx();return yield LV(t,rg,"1"),yield VV(t,rg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>LV(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(o=>function oae(n,e){return Qx.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>VV(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(s=>{const a=og(s,!1).getAll();return new Nd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function BV(n){return`__${n}${Math.floor(1e6*Math.random())}`}function ra(n,e){return e?ao(e):(O(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}BV("rcb"),new Id(3e4,6e4);class oC extends EV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cae(n){return kV(n.auth,new oC(n),n.bypassAuthState)}function Tae(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),function MV(n,e){return px.apply(this,arguments)}(t,new oC(n),n.bypassAuthState)}function Dae(n){return sC.apply(this,arguments)}function sC(){return(sC=g(function*(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),dx(t,new oC(n),n.bypassAuthState)})).apply(this,arguments)}class Sae{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cae;case"linkViaPopup":case"linkViaRedirect":return Dae;case"reauthViaPopup":case"reauthViaRedirect":return Tae;default:nr(this.auth,"internal-error")}}resolve(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Id(2e3,1e4);const Od=new Map;class Mae extends Sae{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Od.get(t.auth._key());if(!r){try{const o=(yield function kae(n,e){return dC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Od.set(t.auth._key(),r)}return t.bypassAuthState||Od.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function dC(){return(dC=g(function*(n,e){const t=HV(e),r=jV(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Rae(n,e){Od.set(n._key(),e)}function jV(n){return ao(n._redirectPersistence)}function HV(n){return Ym("pendingRedirect",n.config.apiKey,n.name)}function zV(n,e){return yC.apply(this,arguments)}function yC(){return(yC=g(function*(n,e,t=!1){const r=rr(n),i=ra(r,e),s=yield new Mae(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Lae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Vae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WV(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!WV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ii(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qV(e))}saveEventToCache(e){this.cachedEventUids.add(qV(e)),this.lastProcessedEventTime=Date.now()}}function qV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WV({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Uae(n){return bC.apply(this,arguments)}function bC(){return(bC=g(function*(n,e={}){return Kt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Bae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$ae=/^https?/;function wC(){return(wC=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Uae(n);for(const t of e)try{if(Hae(t))return}catch{}nr(n,"unauthorized-domain")})).apply(this,arguments)}function Hae(n){const e=Ed(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!$ae.test(t))return!1;if(Bae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zae=new Id(3e4,6e4);function KV(){const n=zt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let ag=null;function qae(n){return ag=ag||function Gae(n){return new Promise((e,t)=>{var r,i,o;function s(){KV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KV(),t(Ii(n,"network-request-failed"))},timeout:zae.get()})}if(null!==(i=null===(r=zt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=zt().gapi)||void 0===o||!o.load){const a=BV("iframefcb");return zt()[a]=()=>{gapi.load?s():t(Ii(n,"network-request-failed"))},function UV(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Ii("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function hae(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw ag=null,e})}(n),ag}const Wae=new Id(5e3,15e3),Yae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zae(n){const e=n.config;O(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kI(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Ws},i=Xae.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Cm(r).slice(1)}`}function EC(){return EC=g(function*(n){const e=yield qae(n),t=zt().gapi;return O(t,n,"internal-error"),e.open({where:document.body,url:Zae(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yae,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Ii(n,"network-request-failed"),c=zt().setTimeout(()=>{s(a)},Wae.get());function l(){zt().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),EC.apply(this,arguments)}const ece={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class QV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YV(n,e,t,r,i,o){O(n.config.authDomain,n,"auth-domain-config-required"),O(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ws,eventId:i};if(e instanceof Go){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function Vee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,l]of Object.entries(o||{}))s[c]=l}if(e instanceof Ise){const c=e.getScopes().filter(l=>""!==l);c.length>0&&(s.scopes=c.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];return`${function lce({config:n}){return n.emulator?kI(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Cm(a).slice(1)}`}const IC="webStorageSupport",dce=class uce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OV,this._completeRedirectFn=zV,this._overrideRedirectResult=Rae}_openPopup(e,t,r,i){var o=this;return g(function*(){var s;Ho(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=YV(e,t,r,Ed(),i);return function oce(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ece),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Wt().toLowerCase();t&&(a=hV(l)?"_blank":t),dV(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Joe(n=Wt()){var e;return Xm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function sce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new QV(null);const d=window.open(e||"",a,u);O(d,n,"popup-blocked");try{d.focus()}catch{}return new QV(d)}(e,a,zx())})()}_openRedirect(e,t,r,i){var o=this;return g(function*(){return yield o._originValidation(e),function Jse(n){zt().location.href=n}(YV(e,t,r,Ed(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ho(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function Jae(n){return EC.apply(this,arguments)}(e),i=new Lae(e);return r.register("authEvent",o=>(O(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(IC,{type:IC},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[IC];void 0!==s&&t(!!s),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function jae(n){return wC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _V()||zI()||Xm()}};var ZV="@firebase/auth";class hce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gce=pL("authIdTokenMaxAge")||300;let eU=null;const _ce=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>gce)return;const o=r?.token;eU!==o&&(eU=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function yce(n=Am()){const e=qs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Poe(n,e){const t=qs(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(xm(t.getOptions(),e??{}))return i;nr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:dce,persistence:[cae,Qse,OV]}),r=pL("authTokenSyncURL");if(r){const o=_ce(r);(function Bse(n,e,t){Nt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function Use(n,e,t,r){Nt(n).onIdTokenChanged(e,t,r)}(t,s=>o(s))}const i=hL("auth");return i&&function ise(n,e,t){const r=rr(n);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=bV(e),{host:s,port:a}=function ose(n){const e=bV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:wV(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:wV(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function sse(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function vce(n){return new Oe(function(e){var t=function $se(n,e,t,r){return Nt(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function pce(n){Dn(new cn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,c)=>{O(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),O(!s?.includes(":"),"argument-error",{appName:a.name});const l={apiKey:o,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yV(n)},u=new rse(a,c,l);return function Foe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ao);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new cn("auth-internal",e=>{const t=rr(e.getProvider("auth").getImmediate());return new hce(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(ZV,"0.21.0",function fce(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Je(ZV,"0.21.0","esm2017")}("Browser");class cg{constructor(e){return e}}class xC{constructor(){return Vm("auth")}}const CC=new R("angularfire2.auth-instances");function Ece(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new cg(r)}}const Ice={provide:xC,deps:[[new lt,CC]]},xce={provide:cg,useFactory:function wce(n,e){const t=Lm("auth",n,e);return t&&new cg(t)},deps:[[new lt,CC],ea]};let Cce=(()=>{class n{constructor(){Je("angularfire",vd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[xce,Ice]}),n})();const nU=ni(vce,!0),Dce=ni(Mse,!0),Sce=ni(yce,!0),Ace=ni(kse,!0),Mce=ni(jse,!0),Ci=new Oe(Kl);var Y,kce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ho={},TC=TC||{},se=kce||self;function lg(){}function ug(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var DC="closure_uid_"+(1e9*Math.random()>>>0),Nce=0;function Oce(n,e,t){return n.call.apply(n.bind,arguments)}function Pce(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Sn(n,e,t){return(Sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oce:Pce).apply(null,arguments)}function dg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function qo(){this.s=this.s,this.o=this.o}qo.prototype.s=!1,qo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Rce(n){Object.prototype.hasOwnProperty.call(n,DC)&&n[DC]||(n[DC]=++Nce)}(this)},qo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function SC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function iU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ug(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function An(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};var Lce=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{se.addEventListener("test",lg,e),se.removeEventListener("test",lg,e)}catch{}return n}();function hg(n){return/^[\s\xa0]*$/.test(n)}var oU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function AC(n,e){return n<e?-1:n>e?1:0}function fg(){var n=se.navigator;return n&&(n=n.userAgent)?n:""}function Ti(n){return-1!=fg().indexOf(n)}function MC(n){return MC[" "](n),n}MC[" "]=lg;var pg,n,Uce=Ti("Opera"),Jc=Ti("Trident")||Ti("MSIE"),sU=Ti("Edge"),kC=sU||Jc,aU=Ti("Gecko")&&!(-1!=fg().toLowerCase().indexOf("webkit")&&!Ti("Edge"))&&!(Ti("Trident")||Ti("MSIE"))&&!Ti("Edge"),Bce=-1!=fg().toLowerCase().indexOf("webkit")&&!Ti("Edge");function cU(){var n=se.document;return n?n.documentMode:void 0}e:{var RC="",NC=(n=fg(),aU?/rv:([^\);]+)(\)|;)/.exec(n):sU?/Edge\/([\d\.]+)/.exec(n):Jc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bce?/WebKit\/(\S+)/.exec(n):Uce?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(NC&&(RC=NC?NC[1]:""),Jc){var OC=cU();if(null!=OC&&OC>parseFloat(RC)){pg=String(OC);break e}}pg=RC}var $ce={};var Hce=se.document&&Jc&&(cU()||parseInt(pg,10))||void 0;function Fd(n,e){if(An.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aU){e:{try{MC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zce[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fd.X.h.call(this)}}hn(Fd,An);var zce={2:"touch",3:"pen",4:"mouse"};Fd.prototype.h=function(){Fd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ld="closure_listenable_"+(1e6*Math.random()|0),Gce=0;function qce(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Gce,this.ba=this.ea=!1}function mg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function FC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uU(n){const e={};for(const t in n)e[t]=n[t];return e}const dU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<dU.length;o++)t=dU[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function gg(n){this.src=n,this.g={},this.h=0}function LC(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=rU(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(mg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function VC(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==r)return i}return-1}gg.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=VC(n,e,r,i);return-1<s?(e=n[s],t||(e.ea=!1)):((e=new qce(e,this.src,o,!!r,i)).ea=t,n.push(e)),e};var UC="closure_lm_"+(1e6*Math.random()|0),BC={};function fU(n,e,t,r,i){if(r&&r.once)return mU(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fU(n,e[o],t,r,i);return null}return t=zC(t),n&&n[Ld]?n.N(e,t,Pd(r)?!!r.capture:!!r,i):pU(n,e,t,!1,r,i)}function pU(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=Pd(i)?!!i.capture:!!i,a=jC(n);if(a||(n[UC]=a=new gg(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function Wce(){const e=Kce;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Lce||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(_U(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function mU(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mU(n,e[o],t,r,i);return null}return t=zC(t),n&&n[Ld]?n.O(e,t,Pd(r)?!!r.capture:!!r,i):pU(n,e,t,!0,r,i)}function gU(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gU(n,e[o],t,r,i);else r=Pd(r)?!!r.capture:!!r,t=zC(t),n&&n[Ld]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=VC(o=n.g[e],t,r,i))&&(mg(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=jC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=VC(e,t,r,i)),(t=-1<n?e[n]:null)&&$C(t))}function $C(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ld])LC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(_U(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=jC(e))?(LC(t,n),0==t.h&&(t.src=null,e[UC]=null)):mg(n)}}}function _U(n){return n in BC?BC[n]:BC[n]="on"+n}function Kce(n,e){if(n.ba)n=!0;else{e=new Fd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&$C(n),n=t.call(r,e)}return n}function jC(n){return(n=n[UC])instanceof gg?n:null}var HC="__closure_events_fn_"+(1e9*Math.random()>>>0);function zC(n){return"function"==typeof n?n:(n[HC]||(n[HC]=function(e){return n.handleEvent(e)}),n[HC])}function Qt(){qo.call(this),this.i=new gg(this),this.P=this,this.I=null}function fn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new An(e,n);else if(e instanceof An)e.target=e.target||n;else{var i=e;hU(e=new An(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=_g(s,r,!0,e)&&i}if(i=_g(s=e.g=n,r,!0,e)&&i,i=_g(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=_g(s=e.g=t[o],r,!1,e)&&i}function _g(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ba&&s.capture==t){var a=s.listener,c=s.ha||s.src;s.ea&&LC(n.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}hn(Qt,qo),Qt.prototype[Ld]=!0,Qt.prototype.removeEventListener=function(n,e,t,r){gU(this,n,e,t,r)},Qt.prototype.M=function(){if(Qt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)mg(t[r]);delete n.g[e],n.h--}}this.I=null},Qt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var GC=se.JSON.stringify;function Qce(){var n=bU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qC,yU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Xce,n=>n.reset());class Xce{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zce(n){se.setTimeout(()=>{throw n},0)}function vU(n,e){qC||function Jce(){var n=se.Promise.resolve(void 0);qC=function(){n.then(ele)}}(),WC||(qC(),WC=!0),bU.add(n,e)}var WC=!1,bU=new class Yce{constructor(){this.h=this.g=null}add(e,t){const r=yU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ele(){for(var n;n=Qce();){try{n.h.call(n.g)}catch(t){Zce(t)}var e=yU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}WC=!1}function yg(n,e){Qt.call(this),this.h=n||1,this.g=e||se,this.j=Sn(this.lb,this),this.l=Date.now()}function KC(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function QC(n,e,t){if("function"==typeof n)t&&(n=Sn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Sn(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function wU(n){n.g=QC(()=>{n.g=null,n.i&&(n.i=!1,wU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hn(yg,Qt),(Y=yg.prototype).ca=!1,Y.R=null,Y.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fn(this,"tick"),this.ca&&(KC(this),this.start()))}},Y.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){yg.X.M.call(this),KC(this),delete this.g};class tle extends qo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wU(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vd(n){qo.call(this),this.h=n,this.g={}}hn(Vd,qo);var EU=[];function IU(n,e,t,r){Array.isArray(t)||(t&&(EU[0]=t.toString()),t=EU);for(var i=0;i<t.length;i++){var o=fU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function xU(n){FC(n.g,function(e,t){this.g.hasOwnProperty(t)&&$C(e)},n),n.g={}}function vg(){this.g=!0}function el(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ole(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return GC(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Vd.prototype.M=function(){Vd.X.M.call(this),xU(this)},Vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vg.prototype.Aa=function(){this.g=!1},vg.prototype.info=function(){};var ia={},CU=null;function bg(){return CU=CU||new Qt}function TU(n){An.call(this,ia.Pa,n)}function Ud(n){const e=bg();fn(e,new TU(e))}function DU(n,e){An.call(this,ia.STAT_EVENT,n),this.stat=e}function jn(n){const e=bg();fn(e,new DU(e,n))}function SU(n,e){An.call(this,ia.Qa,n),this.size=e}function Bd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}ia.Pa="serverreachability",hn(TU,An),ia.STAT_EVENT="statevent",hn(DU,An),ia.Qa="timingevent",hn(SU,An);var wg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},AU={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function YC(){}function kU(){}YC.prototype.h=null;var JC,$d={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function XC(){An.call(this,"d")}function ZC(){An.call(this,"c")}function Eg(){}function jd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Vd(this),this.O=sle,this.T=new yg(n=kC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new RU}function RU(){this.i=null,this.g="",this.h=!1}hn(XC,An),hn(ZC,An),hn(Eg,YC),Eg.prototype.g=function(){return new XMLHttpRequest},Eg.prototype.i=function(){return{}},JC=new Eg;var sle=45e3,eT={},Ig={};function tT(n,e,t){n.K=1,n.v=Dg(fo(e)),n.s=t,n.P=!0,NU(n,null)}function NU(n,e){n.F=Date.now(),Hd(n),n.A=fo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),HU(t.i,"t",r),n.C=0,t=n.l.H,n.h=new RU,n.g=fB(n.l,t?e:null,!n.s),0<n.N&&(n.L=new tle(Sn(n.La,n,n.g),n.N)),IU(n.S,n.g,"readystatechange",n.ib),e=n.H?uU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Ud(),function nle(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.U,n.s)}function OU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function PU(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ale(n,t),i==Ig){4==e&&(n.o=4,jn(14),r=!1),el(n.j,n.m,null,"[Incomplete Response]");break}if(i==eT){n.o=4,jn(15),el(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}el(n.j,n.m,i,null),nT(n,i)}OU(n)&&i!=Ig&&i!=eT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,jn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),uT(e),e.K=!0,jn(11))):(el(n.j,n.m,t,"[Invalid Chunked Response]"),oa(n),zd(n))}function ale(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ig:(t=Number(e.substring(t,r)),isNaN(t)?eT:(r+=1)+t>e.length?Ig:(e=e.substr(r,t),n.C=r+t,e))}function Hd(n){n.V=Date.now()+n.O,FU(n,n.O)}function FU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bd(Sn(n.gb,n),e)}function xg(n){n.B&&(se.clearTimeout(n.B),n.B=null)}function zd(n){0==n.l.G||n.I||lB(n.l,n)}function oa(n){xg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,KC(n.T),xU(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function nT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||rT(t.h,n)))if(!n.J&&rT(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ng(t),kg(t)}lT(t),jn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Bd(Sn(t.cb,t),6e3));if(1>=qU(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else aa(t,11)}else if((n.J||t.g==n)&&Ng(t),!hg(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.T=l[0],l=l[1],2==t.G)if("c"==l[0]){t.I=l[1],t.ka=l[2];const u=l[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=l[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(iT(o,o.h),o.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,rt(r.F,r.D,m))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var s=n;if((r=t).sa=hB(r,r.H?r.ka:null,r.V),s.J){WU(r.h,s);var a=s,c=r.J;c&&a.setTimeout(c),a.B&&(xg(a),Hd(a)),r.g=s}else aB(r);0<t.i.length&&Rg(t)}else"stop"!=l[0]&&"close"!=l[0]||aa(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?aa(t,7):cT(t):"noop"!=l[0]&&t.l&&t.l.wa(l),t.A=0)}Ud()}catch{}}function LU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ug(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lle(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ug(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function cle(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ug(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Y=jd.prototype).setTimeout=function(n){this.O=n},Y.ib=function(n){n=n.target;const e=this.L;e&&3==po(n)?e.l():this.La(n)},Y.La=function(n){try{if(n==this.g)e:{const u=po(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||kC||this.g&&(this.h.h||this.g.fa()||tB(this.g)))){this.I||4!=u||7==e||Ud(),xg(this);var t=this.g.aa();this.Y=t;t:if(OU(this)){var r=tB(this.g);n="";var i=r.length,o=4==po(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oa(this),zd(this);var s="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==t,function rle(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,jn(12),oa(this),zd(this);break e}el(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nT(this,t)}this.P?(PU(this,u,s),kC&&this.i&&3==u&&(IU(this.S,this.T,"tick",this.hb),this.T.start())):(el(this.j,this.m,s,null),nT(this,s)),4==u&&oa(this),this.i&&!this.I&&(4==u?lB(this.l,this):(this.i=!1,Hd(this)))}else 400==t&&0<s.indexOf("Unknown SID")?(this.o=3,jn(12)):(this.o=0,jn(13)),oa(this),zd(this)}}}catch{}},Y.hb=function(){if(this.g){var n=po(this.g),e=this.g.fa();this.C<e.length&&(xg(this),PU(this,n,e),this.i&&4!=n&&Hd(this))}},Y.cancel=function(){this.I=!0,oa(this)},Y.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function ile(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ud(),jn(17)),oa(this),this.o=2,zd(this)):FU(this,this.V-n)};var VU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof sa){this.h=void 0!==e?e:n.h,Cg(this,n.j),this.s=n.s,this.g=n.g,Tg(this,n.m),this.l=n.l,e=n.i;var t=new Wd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),UU(this,t),this.o=n.o}else n&&(t=String(n).match(VU))?(this.h=!!e,Cg(this,t[1]||"",!0),this.s=Gd(t[2]||""),this.g=Gd(t[3]||"",!0),Tg(this,t[4]),this.l=Gd(t[5]||"",!0),UU(this,t[6]||"",!0),this.o=Gd(t[7]||"")):(this.h=!!e,this.i=new Wd(null,this.h))}function fo(n){return new sa(n)}function Cg(n,e,t){n.j=t?Gd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function UU(n,e,t){e instanceof Wd?(n.i=e,function gle(n,e){e&&!n.j&&(Wo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&($U(this,r),HU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=qd(e,ple)),n.i=new Wd(e,n.h))}function rt(n,e,t){n.i.set(e,t)}function Dg(n){return rt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dle),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dle(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qd(e,BU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qd(e,BU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(qd(t,"/"==t.charAt(0)?fle:hle,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qd(t,mle)),n.join("")};var BU=/[#\/\?@]/g,hle=/[#\?:]/g,fle=/[#\?]/g,ple=/[#\?@]/g,mle=/#/g;function Wd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Wo(n){n.g||(n.g=new Map,n.h=0,n.i&&function ule(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $U(n,e){Wo(n),e=tl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function jU(n,e){return Wo(n),e=tl(n,e),n.g.has(e)}function HU(n,e,t){$U(n,e),0<t.length&&(n.i=null,n.g.set(tl(n,e),SC(t)),n.h+=t.length)}function tl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zU(n){this.l=n||yle,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ga&&se.g.Ga()&&se.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=Wd.prototype).add=function(n,e){Wo(this),this.i=null,n=tl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(n,e){Wo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Y.oa=function(){Wo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Y.W=function(n){Wo(this);let e=[];if("string"==typeof n)jU(this,n)&&(e=e.concat(this.g.get(tl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Y.set=function(n,e){return Wo(this),this.i=null,jU(this,n=tl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Y.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var yle=10;function GU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qU(n){return n.h?1:n.g?n.g.size:0}function rT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function iT(n,e){n.g?n.g.add(e):n.h=e}function WU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function KU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return SC(n.i)}function oT(){}function vle(){this.g=new oT}function ble(n,e,t){const r=t||"";try{LU(n,function(i,o){let s=i;Pd(i)&&(s=GC(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kd(n){this.l=n.ac||null,this.j=n.jb||!1}function Ag(n,e){Qt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=sT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zU.prototype.cancel=function(){if(this.i=KU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},oT.prototype.stringify=function(n){return se.JSON.stringify(n,void 0)},oT.prototype.parse=function(n){return se.JSON.parse(n,void 0)},hn(Kd,YC),Kd.prototype.g=function(){return new Ag(this.l,this.j)},Kd.prototype.i=function(n){return function(){return n}}({}),hn(Ag,Qt);var sT=0;function QU(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Qd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yd(n)}function Yd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Y=Ag.prototype).open=function(n,e){if(this.readyState!=sT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yd(this)},Y.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||se).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qd(this)),this.readyState=sT},Y.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yd(this)),this.g&&(this.readyState=3,Yd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QU(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Y.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qd(this):Yd(this),3==this.readyState&&QU(this)}},Y.Va=function(n){this.g&&(this.response=this.responseText=n,Qd(this))},Y.Ua=function(n){this.g&&(this.response=n,Qd(this))},Y.ga=function(){this.g&&Qd(this)},Y.setRequestHeader=function(n,e){this.v.append(n,e)},Y.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ag.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ele=se.JSON.parse;function yt(n){Qt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YU,this.K=this.L=!1}hn(yt,Qt);var YU="",Ile=/^https?$/i,xle=["POST","PUT"];function XU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZU(n),Mg(n)}function ZU(n){n.D||(n.D=!0,fn(n,"complete"),fn(n,"error"))}function JU(n){if(n.h&&typeof TC<"u"&&(!n.C[1]||4!=po(n)||2!=n.aa()))if(n.v&&4==po(n))QC(n.Ha,0,n);else if(fn(n,"readystatechange"),4==po(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(VU)[1]||null;if(!i&&se.self&&se.self.location){var o=se.self.location.protocol;i=o.substr(0,o.length-1)}r=!Ile.test(i?i.toLowerCase():"")}t=r}if(t)fn(n,"complete"),fn(n,"success");else{n.m=6;try{var s=2<po(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.aa()+"]",ZU(n)}}finally{Mg(n)}}}function Mg(n,e){if(n.g){eB(n);const t=n.g,r=n.C[0]?lg:null;n.g=null,n.C=null,e||fn(n,"ready");try{t.onreadystatechange=r}catch{}}}function eB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function po(n){return n.g?n.g.readyState:0}function tB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case YU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nB(n){let e="";return FC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function aT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=nB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):rt(n,e,t))}function Xd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rB(n){this.Ca=0,this.i=[],this.j=new vg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Xd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Xd("baseRetryDelayMs",5e3,n),this.bb=Xd("retryDelaySeedMs",1e4,n),this.$a=Xd("forwardChannelMaxRetries",2,n),this.ta=Xd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new zU(n&&n.concurrentRequestLimit),this.Fa=new vle,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function cT(n){if(iB(n),3==n.G){var e=n.U++,t=fo(n.F);rt(t,"SID",n.I),rt(t,"RID",e),rt(t,"TYPE","terminate"),Zd(n,t),(e=new jd(n,n.j,e,void 0)).K=2,e.v=Dg(fo(t)),t=!1,se.navigator&&se.navigator.sendBeacon&&(t=se.navigator.sendBeacon(e.v.toString(),"")),!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=fB(e.l,null),e.g.da(e.v)),e.F=Date.now(),Hd(e)}dB(n)}function kg(n){n.g&&(uT(n),n.g.cancel(),n.g=null)}function iB(n){kg(n),n.u&&(se.clearTimeout(n.u),n.u=null),Ng(n),n.h.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function Rg(n){GU(n.h)||n.m||(n.m=!0,vU(n.Ja,n),n.C=0)}function oB(n,e){var t;t=e?e.m:n.U++;const r=fo(n.F);rt(r,"SID",n.I),rt(r,"RID",t),rt(r,"AID",n.T),Zd(n,r),n.o&&n.s&&aT(r,n.o,n.s),t=new jd(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=sB(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),iT(n.h,t),tT(t,r,e)}function Zd(n,e){n.ia&&FC(n.ia,function(t,r){rt(e,r,t)}),n.l&&LU({},function(t,r){rt(e,r,t)})}function sB(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Sn(n.l.Ra,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=i[c].h;const u=i[c].g;if(l-=o,0>l)o=Math.max(0,i[c].h-100),a=!1;else try{ble(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function aB(n){n.g||n.u||(n.Z=1,vU(n.Ia,n),n.A=0)}function lT(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Bd(Sn(n.Ia,n),uB(n,n.A)),n.A++,0))}function uT(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function cB(n){n.g=new jd(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=fo(n.sa);rt(e,"RID","rpc"),rt(e,"SID",n.I),rt(e,"CI",n.L?"0":"1"),rt(e,"AID",n.T),rt(e,"TYPE","xmlhttp"),Zd(n,e),n.o&&n.s&&aT(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Dg(fo(e)),t.s=null,t.P=!0,NU(t,n)}function Ng(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function lB(n,e){var t=null;if(n.g==e){Ng(n),uT(n),n.g=null;var r=2}else{if(!rT(n.h,e))return;t=e.D,WU(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;fn(r=bg(),new SU(r,t)),Rg(n)}else aB(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Tle(n,e){return!(qU(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Bd(Sn(n.Ja,n,e),uB(n,n.C)),n.C++,0)))}(n,e)||2==r&&lT(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:aa(n,5);break;case 4:aa(n,10);break;case 3:aa(n,6);break;default:aa(n,2)}}function uB(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function aa(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Sn(n.kb,n);t||(t=new sa("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||Cg(t,"https"),Dg(t)),function wle(n,e){const t=new vg;if(se.Image){const r=new Image;r.onload=dg(Sg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=dg(Sg,t,r,"TestLoadImage: error",!1,e),r.onabort=dg(Sg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=dg(Sg,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else jn(2);n.G=0,n.l&&n.l.va(e),dB(n),iB(n)}function dB(n){if(n.G=0,n.la=[],n.l){const e=KU(n.h);(0!=e.length||0!=n.i.length)&&(iU(n.la,e),iU(n.la,n.i),n.h.i.length=0,SC(n.i),n.i.length=0),n.l.ua()}}function hB(n,e,t){var r=t instanceof sa?fo(t):new sa(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Tg(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new sa(null,void 0);r&&Cg(o,r),e&&(o.g=e),i&&Tg(o,i),t&&(o.l=t),r=o}return e=n.za,(t=n.D)&&e&&rt(r,t,e),rt(r,"VER",n.ma),Zd(n,r),r}function fB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yt(t&&n.Da&&!n.ra?new Kd({jb:!0}):n.ra)).Ka(n.H),e}function pB(){}function Og(){if(Jc&&!(10<=Number(Hce)))throw Error("Environmental error: no available transport.")}function vr(n,e){Qt.call(this),this.g=new rB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!hg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nl(this)}function mB(n){XC.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function gB(){ZC.call(this),this.status=1}function nl(n){this.g=n}(Y=yt.prototype).Ka=function(n){this.L=n},Y.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():JC.g(),this.C=function MU(n){return n.h||(n.h=n.i())}(this.u?this.u:JC),this.g.onreadystatechange=Sn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void XU(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=se.FormData&&n instanceof se.FormData,!(0<=rU(xle,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eB(this),0<this.B&&((this.K=function Cle(n){return Jc&&function jce(){return function Vce(n){var e=$ce;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=oU(String(pg)).split("."),t=oU("9").split("."),r=Math.max(e.length,t.length);for(let s=0;0==n&&s<r;s++){var i=e[s]||"",o=t[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=AC(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||AC(0==i[2].length,0==o[2].length)||AC(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.qa,this)):this.A=QC(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){XU(this,o)}},Y.qa=function(){typeof TC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))},Y.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fn(this,"complete"),fn(this,"abort"),Mg(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mg(this,!0)),yt.X.M.call(this)},Y.Ha=function(){this.s||(this.F||this.v||this.l?JU(this):this.fb())},Y.fb=function(){JU(this)},Y.aa=function(){try{return 2<po(this)?this.g.status:-1}catch{return-1}},Y.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ele(e)}},Y.Ea=function(){return this.m},Y.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=rB.prototype).ma=8,Y.G=1,Y.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new jd(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=uU(o),hU(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=sB(this,i,e),rt(t=fo(this.F),"RID",n),rt(t,"CVER",22),this.D&&rt(t,"X-HTTP-Session-Id",this.D),Zd(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(nB(o)))+"&"+e:this.o&&aT(t,this.o,o)),iT(this.h,i),this.Ya&&rt(t,"TYPE","init"),this.O?(rt(t,"$req",e),rt(t,"SID","null"),i.Z=!0,tT(i,t,null)):tT(i,t,e),this.G=2}}else 3==this.G&&(n?oB(this,n):0==this.i.length||GU(this.h)||oB(this))},Y.Ia=function(){if(this.u=null,cB(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Bd(Sn(this.eb,this),n)}},Y.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,jn(10),kg(this),cB(this))},Y.cb=function(){null!=this.v&&(this.v=null,kg(this),lT(this),jn(19))},Y.kb=function(n){n?(this.j.info("Successfully pinged google.com"),jn(2)):(this.j.info("Failed to ping google.com"),jn(1))},(Y=pB.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Ra=function(){},Og.prototype.g=function(n,e){return new vr(n,e)},hn(vr,Qt),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;jn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=hB(n,null,n.V),Rg(n)},vr.prototype.close=function(){cT(this.g)},vr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=GC(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Rg(e)},vr.prototype.M=function(){this.g.l=null,delete this.j,cT(this.g),delete this.g,vr.X.M.call(this)},hn(mB,XC),hn(gB,ZC),hn(nl,pB),nl.prototype.xa=function(){fn(this.g,"a")},nl.prototype.wa=function(n){fn(this.g,new mB(n))},nl.prototype.va=function(n){fn(this.g,new gB)},nl.prototype.ua=function(){fn(this.g,"b")},Og.prototype.createWebChannel=Og.prototype.g,vr.prototype.send=vr.prototype.u,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,wg.NO_ERROR=0,wg.TIMEOUT=8,wg.HTTP_ERROR=6,AU.COMPLETE="complete",kU.EventType=$d,$d.OPEN="a",$d.CLOSE="b",$d.ERROR="c",$d.MESSAGE="d",Qt.prototype.listen=Qt.prototype.N,yt.prototype.listenOnce=yt.prototype.O,yt.prototype.getLastError=yt.prototype.Oa,yt.prototype.getLastErrorCode=yt.prototype.Ea,yt.prototype.getStatus=yt.prototype.aa,yt.prototype.getResponseJson=yt.prototype.Sa,yt.prototype.getResponseText=yt.prototype.fa,yt.prototype.send=yt.prototype.da,yt.prototype.setWithCredentials=yt.prototype.Ka;var Dle=ho.createWebChannelTransport=function(){return new Og},Sle=ho.getStatEventTarget=function(){return bg()},dT=ho.ErrorCode=wg,Ale=ho.EventType=AU,Mle=ho.Event=ia,_B=ho.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},kle=ho.FetchXmlHttpFactory=Kd,Pg=ho.WebChannel=kU,Rle=ho.XhrIo=yt;const yB="@firebase/firestore";class Yt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let rl="9.15.0";const Ko=new Gc("@firebase/firestore");function hT(){return Ko.logLevel}function M(n,...e){if(Ko.logLevel<=Se.DEBUG){const t=e.map(fT);Ko.debug(`Firestore (${rl}): ${n}`,...t)}}function Ct(n,...e){if(Ko.logLevel<=Se.ERROR){const t=e.map(fT);Ko.error(`Firestore (${rl}): ${n}`,...t)}}function il(n,...e){if(Ko.logLevel<=Se.WARN){const t=e.map(fT);Ko.warn(`Firestore (${rl}): ${n}`,...t)}}function fT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function G(n="Unexpected state"){const e=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: `+n;throw Ct(e),new Error(e)}function K(n,e){n||G()}function L(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends _r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class vB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}}class Ole{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ple{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(g(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(K("string"==typeof r.accessToken),new vB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return K(null===e||"string"==typeof e),new Yt(e)}}class Fle{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(K(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Lle{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Fle(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vle{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=o=>{null!=o.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.A;return this.A=o.token,M("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(K("string"==typeof t.token),this.A=t.token,new bB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ule(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class wB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ule(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function ae(n,e){return n<e?-1:n>e?1:0}function ol(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class et{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new et(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new et(0,0))}static max(){return new X(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jd{constructor(e,t,r){void 0===t?t=0:t>e.length&&G(),void 0===r?r=e.length-t:r>e.length-t&&G(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ae extends Jd{construct(e,t,r){return new Ae(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ae(t)}static emptyPath(){return new Ae([])}}const Ble=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Jd{construct(e,t,r){return new Tt(e,t,r)}static isValidIdentifier(e){return Ble.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new S(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new S(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new S(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(t)}static emptyPath(){return new Tt([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(Ae.fromString(e))}static fromName(e){return new F(Ae.fromString(e).popFirst(5))}static empty(){return new F(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Ae(e.slice()))}}function xB(n){return new br(n.readTime,n.key,-1)}class br{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new br(X.min(),F.empty(),-1)}static max(){return new br(X.max(),F.empty(),-1)}}function mT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:ae(n.largestBatchId,e.largestBatchId))}const CB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qo(n){return gT.apply(this,arguments)}function gT(){return gT=g(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==CB)throw n;M("LocalStore","Unexpectedly lost primary lease")}),gT.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,r)=>{t(e)})}static reject(e){return new b((t,r)=>{r(e)})}static waitFor(e){return new b((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=b.resolve(!1);for(const r of e)t=t.next(i=>i?b.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new b((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new b((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function Yo(n){return"IndexedDbTransactionError"===n.name}let wr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Kle{constructor(e,t,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class ua{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ua("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}function DB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function nh(n){return null==n}function rh(n){return 0===n&&1/n==-1/0}class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new qt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const Qle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(K(!!n),"string"==typeof n){let e=0;const t=Qle.exec(n);if(K(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ha(n){return"string"==typeof n?qt.fromBase64String(n):qt.fromUint8Array(n)}function yT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function MB(n){const e=n.mapValue.fields.__previous_value__;return yT(e)?MB(e):e}function ih(n){const e=Xo(n.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}const Zo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function fa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yT(n)?4:OB(n)?9007199254740991:10:G()}function Di(n,e){if(n===e)return!0;const t=fa(n);if(t!==fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ih(n).isEqual(ih(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Xo(r.timestampValue),s=Xo(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ha(n.bytesValue).isEqual(ha(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return vt(r.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(r.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return vt(r.integerValue)===vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=vt(r.doubleValue),s=vt(i.doubleValue);return o===s?rh(o)===rh(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return ol(n.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(DB(o)!==DB(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Di(o[a],s[a])))return!1;return!0}(n,e);default:return G()}var i}function oh(n,e){return void 0!==(n.values||[]).find(t=>Di(t,e))}function Jo(n,e){if(n===e)return 0;const t=fa(n),r=fa(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(i,o){const s=vt(i.integerValue||i.doubleValue),a=vt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return kB(n.timestampValue,e.timestampValue);case 4:return kB(ih(n),ih(e));case 5:return ae(n.stringValue,e.stringValue);case 6:return function(i,o){const s=ha(i),a=ha(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=ae(s[c],a[c]);if(0!==l)return l}return ae(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const s=ae(vt(i.latitude),vt(o.latitude));return 0!==s?s:ae(vt(i.longitude),vt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=Jo(s[c],a[c]);if(l)return l}return ae(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Zo_mapValue&&o===Zo_mapValue)return 0;if(i===Zo_mapValue)return 1;if(o===Zo_mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=ae(a[u],l[u]);if(0!==d)return d;const h=Jo(s[a[u]],c[l[u]]);if(0!==h)return h}return ae(a.length,l.length)}(n.mapValue,e.mapValue);default:throw G()}}function kB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ae(n,e);const t=Xo(n),r=Xo(e),i=ae(t.seconds,r.seconds);return 0!==i?i:ae(t.nanos,r.nanos)}function sl(n){return vT(n)}function vT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Xo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ha(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=vT(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${vT(r.fields[a])}`;return o+"}"}(n.mapValue):G();var e}function bT(n){return!!n&&"integerValue"in n}function sh(n){return!!n&&"arrayValue"in n}function RB(n){return!!n&&"nullValue"in n}function NB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bg(n){return!!n&&"mapValue"in n}function ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return da(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ah(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class es{constructor(e,t){this.position=e,this.inclusive=t}}function LB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?F.comparator(F.fromName(s.referenceValue),t.key):Jo(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function VB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Di(n.position[t],e.position[t]))return!1;return!0}class UB{}class xe extends UB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Zle(e,t,r):"array-contains"===t?new tue(e,r):"in"===t?new WB(e,r):"not-in"===t?new nue(e,r):"array-contains-any"===t?new rue(e,r):new xe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Jle(e,r):new eue(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jo(t,this.value)):null!==t&&fa(this.value)===fa(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Be extends UB{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Be(e,t)}matches(e){return al(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function al(n){return"and"===n.op}function BB(n){return function $B(n){for(const e of n.filters)if(e instanceof Be)return!1;return!0}(n)&&al(n)}function jB(n){if(n instanceof xe)return n.field.canonicalString()+n.op.toString()+sl(n.value);{const e=n.filters.map(t=>jB(t)).join(",");return`${n.op}(${e})`}}function HB(n,e){return n instanceof xe?(t=n,(r=e)instanceof xe&&t.op===r.op&&t.field.isEqual(r.field)&&Di(t.value,r.value)):n instanceof Be?function(t,r){return r instanceof Be&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,s)=>i&&HB(o,r.filters[s]),!0)}(n,e):void G();var t,r}function GB(n){return n instanceof xe?`${(e=n).field.canonicalString()} ${e.op} ${sl(e.value)}`:n instanceof Be?function(e){return e.op.toString()+" {"+e.getFilters().map(GB).join(" ,")+"}"}(n):"Filter";var e}class Zle extends xe{constructor(e,t,r){super(e,t,r),this.key=F.fromName(r.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jle extends xe{constructor(e,t){super(e,"in",t),this.keys=qB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eue extends xe{constructor(e,t){super(e,"not-in",t),this.keys=qB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>F.fromName(r.referenceValue))}class tue extends xe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sh(t)&&oh(t.arrayValue,this.value)}}class WB extends xe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&oh(this.value.arrayValue,t)}}class nue extends xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!oh(this.value.arrayValue,t)}}class rue extends xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>oh(this.value.arrayValue,r))}}class cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function iue(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class bt{constructor(e,t){this.comparator=e,this.root=t||pn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $g(this.root,e,this.comparator,!1)}getReverseIterator(){return new $g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $g(this.root,e,this.comparator,!0)}}class $g{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??pn.RED,this.left=i??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new pn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1,pn.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(n,e,t,r,i){return this}insert(n,e,t){return new pn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KB(this.data.getIterator())}getIteratorFrom(e){return new KB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new je(this.comparator);return t.data=e,t}}class KB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Er{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Er([])}unionWith(e){let t=new je(Tt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(t)}setAll(e){let t=Tt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ah(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Bg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){da(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new mn(ah(this.value))}}function QB(n){const e=[];return da(n.fields,(t,r)=>{const i=new Tt([t]);if(Bg(r)){const o=QB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Er(e)}class tt{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new tt(e,0,X.min(),X.min(),X.min(),mn.empty(),0)}static newFoundDocument(e,t,r,i){return new tt(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new tt(e,2,t,X.min(),X.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new tt(e,3,t,X.min(),X.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oue{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function ET(n,e=null,t=[],r=[],i=null,o=null,s=null){return new oue(n,e,t,r,i,o,s)}function ma(n){const e=L(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jB(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),nh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sl(r)).join(",")),e.ft=t}return e.ft}function ch(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iue(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VB(n.startAt,e.startAt)&&VB(n.endAt,e.endAt)}function jg(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class mo{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.dt=null,this._t=null}}function ul(n){return new mo(n)}function JB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ga(n){const e=L(n);if(null===e.dt){e.dt=[];const t=function zg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function IT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new cl(t)),e.dt.push(new cl(Tt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new cl(Tt.keyField(),o))}}}return e.dt}function Hn(n){const e=L(n);if(!e._t)if("F"===e.limitType)e._t=ET(e.path,e.collectionGroup,ga(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of ga(e))t.push(new cl(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new es(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new es(e.startAt.position,e.startAt.inclusive):null;e._t=ET(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Gg(n,e,t){return new mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lh(n,e){return ch(Hn(n),Hn(e))&&n.limitType===e.limitType}function e$(n){return`${ma(Hn(n))}|lt:${n.limitType}`}function TT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>GB(r)).join(", ")}]`),nh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sl(r)).join(",")),`Target(${t})`}(Hn(n))}; limitType=${n.limitType})`}function DT(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):F.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ga(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,s){const a=LB(i,o,s);return i.inclusive?a<=0:a<0}(t.startAt,ga(t),r)||t.endAt&&!function(i,o,s){const a=LB(i,o,s);return i.inclusive?a>=0:a>0}(t.endAt,ga(t),r)));var t,r}function n$(n){return(e,t)=>{let r=!1;for(const i of ga(n)){const o=sue(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function sue(n,e,t){const r=n.field.isKeyField()?F.comparator(e.key,t.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?Jo(a,c):G()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}function r$(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function i$(n){return{integerValue:""+n}}function o$(n,e){return function AB(n){return"number"==typeof n&&Number.isInteger(n)&&!rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?i$(e):r$(n,e)}class qg{constructor(){this._=void 0}}function aue(n,e,t){return n instanceof dl?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof _a?a$(n,e):n instanceof ya?c$(n,e):function(r,i){const o=s$(r,i),s=l$(o)+l$(r.gt);return bT(o)&&bT(r.gt)?i$(s):r$(r.yt,s)}(n,e)}function cue(n,e,t){return n instanceof _a?a$(n,e):n instanceof ya?c$(n,e):t}function s$(n,e){return n instanceof hl?bT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class dl extends qg{}class _a extends qg{constructor(e){super(),this.elements=e}}function a$(n,e){const t=u$(e);for(const r of n.elements)t.some(i=>Di(i,r))||t.push(r);return{arrayValue:{values:t}}}class ya extends qg{constructor(e){super(),this.elements=e}}function c$(n,e){let t=u$(e);for(const r of n.elements)t=t.filter(i=>!Di(i,r));return{arrayValue:{values:t}}}class hl extends qg{constructor(e,t){super(),this.yt=e,this.gt=t}}function l$(n){return vt(n.integerValue||n.doubleValue)}function u$(n){return sh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class uue{constructor(e,t){this.version=e,this.transformResults=t}}class it{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new it}static exists(e){return new it(void 0,e)}static updateTime(e){return new it(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Kg{}function d$(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new pl(n.key,it.none()):new fl(n.key,n.data,it.none());{const t=n.data,r=mn.empty();let i=new je(Tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new go(n.key,r,new Er(i.toArray()),it.none())}}function due(n,e,t){n instanceof fl?function(r,i,o){const s=r.value.clone(),a=p$(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof go?function(r,i,o){if(!Wg(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=p$(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(f$(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dh(n,e,t,r){return n instanceof fl?function(i,o,s,a){if(!Wg(i.precondition,o))return s;const c=i.value.clone(),l=m$(i.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof go?function(i,o,s,a){if(!Wg(i.precondition,o))return s;const c=m$(i.fieldTransforms,a,o),l=o.data;return l.setAll(f$(i)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(s=t,Wg(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function hue(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=s$(r.transform,i||null);null!=o&&(null===t&&(t=mn.empty()),t.set(r.field,o))}return t||null}function h$(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ol(t,r,(i,o)=>function lue(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof _a&&r instanceof _a||t instanceof ya&&r instanceof ya?ol(t.elements,r.elements,Di):t instanceof hl&&r instanceof hl?Di(t.gt,r.gt):t instanceof dl&&r instanceof dl);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class fl extends Kg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends Kg{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function f$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function p$(n,e,t){const r=new Map;K(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,cue(s,a,t[i]))}return r}function m$(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,aue(o,s,e))}return r}class pl extends Kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ST extends Kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fue{constructor(e){this.count=e}}var Ot,Me;function g$(n){switch(n){default:return G();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function _$(n){if(void 0===n)return Ct("GRPC error has no .code"),w.UNKNOWN;switch(n){case Ot.OK:return w.OK;case Ot.CANCELLED:return w.CANCELLED;case Ot.UNKNOWN:return w.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return w.INTERNAL;case Ot.UNAVAILABLE:return w.UNAVAILABLE;case Ot.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ot.NOT_FOUND:return w.NOT_FOUND;case Ot.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ot.ABORTED:return w.ABORTED;case Ot.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ot.DATA_LOSS:return w.DATA_LOSS;default:return G()}}(Me=Ot||(Ot={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";class ts{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return SB(this.inner)}size(){return this.innerSize}}const pue=new bt(F.comparator);function ir(){return pue}const y$=new bt(F.comparator);function hh(...n){let e=y$;for(const t of n)e=e.insert(t.key,t);return e}function v$(n){let e=y$;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Si(){return fh()}function b$(){return fh()}function fh(){return new ts(n=>n.toString(),(n,e)=>n.isEqual(e))}const mue=new bt(F.comparator),gue=new je(F.comparator);function he(...n){let e=gue;for(const t of n)e=e.add(t);return e}const _ue=new je(ae);function Qg(){return _ue}class ph{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ph(X.min(),i,Qg(),ir(),he())}}class mh{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mh(r,t,he(),he(),he())}}class Yg{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class w${constructor(e,t){this.targetId=e,this.Et=t}}class E${constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class I${constructor(){this.At=0,this.Rt=C$(),this.bt=qt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=he(),t=he(),r=he();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G()}}),new mh(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=C$()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class yue{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ir(),this.qt=x$(),this.Ut=new je(ae)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const o=i.target;if(jg(o))if(0===r){const s=new F(o.path);this.Qt(t,s,tt.newNoDocument(s,X.min()))}else K(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((o,s)=>{const a=this.Yt(s);if(a){if(o.current&&jg(a.target)){const c=new F(a.target.path);null!==this.Lt.get(c)||this.te(s,c)||this.Qt(s,c,tt.newNoDocument(c,e))}o.St&&(t.set(s,o.Ct()),o.xt())}});let r=he();this.qt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Yt(c);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.Lt.forEach((o,s)=>s.setReadTime(e));const i=new ph(e,t,this.Ut,this.Lt,r);return this.Lt=ir(),this.qt=x$(),this.Ut=new je(ae),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new I$,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new je(ae),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new I$),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function x$(){return new bt(F.comparator)}function C$(){return new bt(F.comparator)}const vue={asc:"ASCENDING",desc:"DESCENDING"},bue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wue={and:"AND",or:"OR"};class Eue{constructor(e,t){this.databaseId=e,this.wt=t}}function ml(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T$(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Iue(n,e){return ml(n,e.toTimestamp())}function Dt(n){return K(!!n),X.fromTimestamp(function(e){const t=Xo(e);return new et(t.seconds,t.nanos)}(n))}function AT(n,e){return(t=n,new Ae(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function D$(n){const e=Ae.fromString(n);return K(F$(e)),e}function gh(n,e){return AT(n.databaseId,e.path)}function Ai(n,e){const t=D$(e);if(t.get(1)!==n.databaseId.projectId)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(A$(t))}function MT(n,e){return AT(n.databaseId,e)}function _h(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function A$(n){return K(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function M$(n,e,t){return{name:gh(n,e),fields:t.value.mapValue.fields}}function R$(n,e){return{documents:[MT(n,e.path)]}}function RT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=MT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=MT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return P$(Be.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:gl((u=l).field),direction:Sue(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=(l=e.limit,n.wt||nh(l)?l:{value:l});var l,a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function N$(n){let e=function S$(n){const e=D$(n);return 4===e.length?Ae.emptyPath():A$(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){K(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=O$(u);return d instanceof Be&&BB(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new cl(_l((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,nh(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new es((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new es(u.values||[],!u.before)}(t.endAt)),function ZB(n,e,t,r,i,o,s,a){return new mo(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",c,l)}function O$(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_l(e.unaryFilter.field);return xe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=_l(e.unaryFilter.field);return xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_l(e.unaryFilter.field);return xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_l(e.unaryFilter.field);return xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(n):void 0!==n.fieldFilter?xe.create(_l((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Be.create(e.compositeFilter.filters.map(t=>O$(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return G()}}(e.compositeFilter.op))}(n):G();var e}function Sue(n){return vue[n]}function Aue(n){return bue[n]}function Mue(n){return wue[n]}function gl(n){return{fieldPath:n.canonicalString()}}function _l(n){return Tt.fromServerFormat(n.fieldPath)}function P$(n){return n instanceof xe?function(e){if("=="===e.op){if(NB(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NAN"}};if(RB(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NB(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NOT_NAN"}};if(RB(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(e.field),op:Aue(e.op),value:e.value}}}(n):n instanceof Be?function(e){const t=e.getFilters().map(r=>P$(r));return 1===t.length?t[0]:{compositeFilter:{op:Mue(e.op),filters:t}}}(n):G()}function kue(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function F$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class OT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&due(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=dh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=dh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=b$();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const c=d$(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(t,r)=>h$(t,r))&&ol(this.baseMutations,e.baseMutations,(t,r)=>h$(t,r))}}class PT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){K(e.mutations.length===r.length);let i=mue;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new PT(e,t,r,i)}}class FT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ns{constructor(e,t,r,i,o=X.min(),s=X.min(),a=qt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class H${constructor(e){this.ie=e}}function LT(n){const e=N$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gg(e,e.limit,"L"):e}class Ea{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(vt(e.integerValue));else if("doubleValue"in e){const r=vt(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),rh(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ha(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?OB(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):G()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),F.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Ea.Ie=new Ea;class ide{constructor(){this.Je=new HT}addToCollectionParentIndex(e,t){return this.Je.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(br.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(br.min())}updateCollectionGroup(e,t,r){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class HT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new je(Ae.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(Ae.comparator)).toArray()}}new Uint8Array(0);class or{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(41943040,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);class xa{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new xa(0)}static vn(){return new xa(-1)}}class dde{constructor(){this.changes=new ts(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?b.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pde{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&dh(r.mutation,i,Er.empty(),et.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){const i=Si();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=hh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Si();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ir();const s=fh(),a=fh();return t.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof go)?o=o.insert(l.key,l):void 0!==u&&(s.set(l.key,u.mutation.getFieldMask()),dh(u.mutation,l,u.mutation.getFieldMask(),et.now()))}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new pde(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=fh();let i=new bt((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=r.get(c)||Er.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||he()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=b$();u.forEach(h=>{if(!o.has(h)){const f=d$(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return b.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return F.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function xT(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):b.resolve(Si());let a=-1,c=o;return s.next(l=>b.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,he())).next(u=>({batchId:a,changes:v$(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(r=>{let i=hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=hh();return this.indexManager.getCollectionParents(e,i).next(s=>b.forEach(s,a=>{const c=(l=t,u=a.child(i),new mo(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(o=>{o.forEach((a,c)=>{const l=c.getKey();null===i.get(l)&&(i=i.insert(l,tt.newInvalidDocument(l)))});let s=hh();return i.forEach((a,c)=>{const l=o.get(a);void 0!==l&&dh(l.mutation,c,Er.empty(),et.now()),DT(t,c)&&(s=s.insert(a,c))}),s})}}class mde{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return b.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Dt(r.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:LT(r.bundledQuery),readTime:Dt(r.readTime)}),b.resolve();var r}}class gde{constructor(){this.overlays=new bt(F.comparator),this.es=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Si();return b.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.oe(e,t,o)}),b.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),b.resolve()}getOverlaysForCollection(e,t,r){const i=Si(),o=t.length+1,s=new F(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return b.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new bt((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=o.get(l.largestBatchId);null===u&&(u=Si(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Si(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return b.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new FT(t,r));let o=this.es.get(t);void 0===o&&(o=he(),this.es.set(t,o)),this.es.set(t,o.add(r.key))}}class zT{constructor(){this.ns=new je(Zt.ss),this.rs=new je(Zt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Zt(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Zt(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new F(new Ae([])),r=new Zt(t,e),i=new Zt(t,e+1),o=[];return this.rs.forEachInRange([r,i],s=>{this.cs(s),o.push(s.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new F(new Ae([])),r=new Zt(t,e),i=new Zt(t,e+1);let o=he();return this.rs.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Zt(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zt{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return F.comparator(e.key,t.key)||ae(e._s,t._s)}static os(e,t){return ae(e._s,t._s)||F.comparator(e.key,t.key)}}class _de{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new je(Zt.ss)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.ws;this.ws++;const s=new OT(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.gs=this.gs.add(new Zt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,t){return b.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),o=i<0?0:i;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zt(t,0),i=new Zt(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],s=>{const a=this.ys(s._s);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new je(ae);return t.forEach(i=>{const o=new Zt(i,0),s=new Zt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,s],a=>{r=r.add(a._s)})}),b.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;F.isDocumentKey(o)||(o=o.child(""));const s=new Zt(new F(o),0);let a=new je(ae);return this.gs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c._s)),!0)},s),b.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){K(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return b.forEach(t.mutations,i=>{const o=new Zt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Zt(t,0),i=this.gs.firstAfterOrEqual(r);return b.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return b.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yde{constructor(e){this.Es=e,this.docs=new bt(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return b.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(t))}getEntries(e,t){let r=ir();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tt.newInvalidDocument(i))}),b.resolve(r)}getAllFromCollection(e,t,r){let i=ir();const o=new F(t.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:a,value:{document:c}}=s.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||mT(xB(c),r)<=0||(i=i.insert(c.key,c.mutableCopy()))}return b.resolve(i)}getAllFromCollectionGroup(e,t,r,i){G()}As(e,t){return b.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vde(this)}getSize(e){return b.resolve(this.size)}}class vde extends dde{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),b.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class bde{constructor(e){this.persistence=e,this.Rs=new ts(t=>ma(t),ch),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zT,this.targetCount=0,this.vs=xa.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),b.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new xa(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.Dn(t),b.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Rs.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(o).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return b.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),b.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),b.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return b.resolve(r)}containsKey(e,t){return b.resolve(this.Ps.containsKey(t))}}class pj{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new wr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new bde(this),this.indexManager=new ide,this.remoteDocumentCache=new yde(r=>this.referenceDelegate.xs(r)),this.yt=new H$(t),this.Ns=new mde(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gde,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new _de(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new wde(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(o=>this.referenceDelegate.Os(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ms(e,t){return b.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class wde extends Hle{constructor(e){super(),this.currentSequenceNumber=e}}class s_{constructor(e){this.persistence=e,this.Fs=new zT,this.$s=null}static Bs(e){return new s_(e)}get Ls(){if(this.$s)return this.$s;throw G()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),b.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),b.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ls,r=>{const i=F.fromPath(r);return this.qs(e,i).next(o=>{o||t.removeEntry(i,X.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return b.or([()=>b.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class KT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=he(),i=he();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new KT(e,t.fromCache,r,i)}}class gj{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(o=>o||this.Oi(e,t,i,r)).next(o=>o||this.Mi(e,t))}ki(e,t){if(JB(t))return b.resolve(null);let r=Hn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Gg(t,null,"F"),r=Hn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=he(...o);return this.Ni.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Fi(t,a);return this.$i(t,l,s,c.readTime)?this.ki(e,Gg(t,null,"F")):this.Bi(e,l,t,c)}))})))}Oi(e,t,r,i){return JB(t)||i.isEqual(X.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(o=>{const s=this.Fi(t,o);return this.$i(t,s,r,i)?this.Mi(e,t):(hT()<=Se.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),TT(t)),this.Bi(e,s,t,function IB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new et(t+1,0):new et(t,r));return new br(i,F.empty(),e)}(i,-1)))})}Fi(e,t){let r=new je(n$(e));return t.forEach((i,o)=>{DT(e,o)&&(r=r.add(o))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Mi(e,t){return hT()<=Se.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",TT(t)),this.Ni.getDocumentsMatchingQuery(e,t,br.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Ide{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new bt(ae),this.Ui=new ts(o=>ma(o),ch),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fj(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function yj(n,e){return QT.apply(this,arguments)}function QT(){return QT=g(function*(n,e){const t=L(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=he();for(const l of i){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({ji:l,removedBatchIds:s,addedBatchIds:a}))})})}),QT.apply(this,arguments)}function xde(n,e){const t=L(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Gi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=b.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const m=c.docVersions.get(f);K(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=he();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vj(n){const e=L(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Cde(n,e){const t=L(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,_;e.targetMismatches.has(d)?f=f.withResumeToken(qt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),m=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(o,f))});let c=ir(),l=he();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function bj(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ir();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(X.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Wi:s,zi:i}})}(o,s,e.documentUpdates).next(u=>{c=u.Wi,l=u.zi})),!r.isEqual(X.min())){const u=t.Cs.getLastRemoteSnapshotVersion(o).next(d=>t.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.qi=i,o))}function Tde(n,e){const t=L(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bl(n,e){const t=L(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(o=>o?(i=o,b.resolve(i)):t.Cs.allocateTargetId(r).next(s=>(i=new ns(e,s,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function wl(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=g(function*(n,e,t){const r=L(n),i=r.qi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Yo(s))throw s;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),YT.apply(this,arguments)}function c_(n,e,t){const r=L(n);let i=X.min(),o=he();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=L(a),d=u.Ui.get(l);return void 0!==d?b.resolve(u.qi.get(d)):u.Cs.getTargetData(c,l)}(r,s,Hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Li.getDocumentsMatchingQuery(s,e,t?i:X.min(),t?o:he())).next(a=>(function Ij(n,e,t){let r=n.Ki.get(e)||X.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ki.set(e,r)}(r,function t$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:o})))}class tD{constructor(){this.activeTargetIds=Qg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tj{constructor(){this.Lr=new tD,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new tD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ade{Ur(e){}shutdown(){}}class Dj{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kde{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Rde extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,o){const s=this.ho(e,t);M("RestConnection","Sending: ",s,r);const a={};return this.lo(a,i,o),this.fo(e,s,a,r).then(c=>(M("RestConnection","Received: ",c),c),c=>{throw il("RestConnection",`${e} failed with error: `,c,"url: ",s,"request:",r),c})}_o(e,t,r,i,o,s){return this.ao(e,t,r,i,o)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Mde[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((o,s)=>{const a=new Rle;a.setWithCredentials(!0),a.listenOnce(Ale.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case dT.NO_ERROR:const l=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(l)),o(l);break;case dT.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),s(new S(w.DEADLINE_EXCEEDED,"Request time out"));break;case dT.HTTP_ERROR:const u=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(h.status);s(new S(f,h.message))}else s(new S(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new S(w.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(i);a.send(t,"POST",c,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dle(),s=Sle(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new kle({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const c=i.join("");M("Connection","Creating WebChannel: "+c,a);const l=o.createWebChannel(c,a);let u=!1,d=!1;const h=new kde({Hr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(u||(M("Connection","Opening WebChannel transport."),l.open(),u=!0),M("Connection","WebChannel sending:",p),l.send(p))},Jr:()=>l.close()}),f=(p,m,_)=>{p.listen(m,y=>{try{_(y)}catch(I){setTimeout(()=>{throw I},0)}})};return f(l,Pg.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(l,Pg.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.io())}),f(l,Pg.EventType.ERROR,p=>{d||(d=!0,il("Connection","WebChannel transport errored:",p),h.io(new S(w.UNAVAILABLE,"The operation could not be completed")))}),f(l,Pg.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];K(!!_);const y=_,I=y.error||(null===(m=y[0])||void 0===m?void 0:m.error);if(I){M("Connection","WebChannel received error:",I);const v=I.status;let T=function(V){const _e=Ot[V];if(void 0!==_e)return _$(_e)}(v),$=I.message;void 0===T&&(T=w.INTERNAL,$="Unknown error status: "+v+" with message "+I.message),d=!0,h.io(new S(T,$)),l.close()}else M("Connection","WebChannel received:",_),h.ro(_)}}),f(s,Mle.STAT_EVENT,p=>{p.stat===_B.PROXY?M("Connection","Detected buffering proxy"):p.stat===_B.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function d_(){return typeof document<"u"?document:null}function Dh(n){return new Eue(n,!0)}class rD{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Aj{constructor(e,t,r,i,o,s,a,c){this.Hs=e,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new rD(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return g(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Ct(t.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new S(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nde extends Aj{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.yt=o}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Cue(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:G(),i=e.targetChange.targetIds||[],o=function(c,l){return c.wt?(K(void 0===l||"string"==typeof l),qt.fromBase64String(l||"")):(K(void 0===l||l instanceof Uint8Array),qt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?w.UNKNOWN:_$(c.code);return new S(l,c.message||"")}(s);t=new E$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ai(n,r.document.name),o=Dt(r.document.updateTime),s=r.document.createTime?Dt(r.document.createTime):X.min(),a=new mn({mapValue:{fields:r.document.fields}}),c=tt.newFoundDocument(i,o,s,a);t=new Yg(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ai(n,r.document),o=r.readTime?Dt(r.readTime):X.min(),s=tt.newNoDocument(i,o);t=new Yg([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ai(n,r.document);t=new Yg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return G();{const r=e.filter,o=new fue(r.count||0);t=new w$(r.targetId,o)}}var c;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return X.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?Dt(o.readTime):X.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=_h(this.yt),t.addTarget=function(i,o){let s;const a=o.target;return s=jg(a)?{documents:R$(i,a)}:{query:RT(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=T$(i,o.resumeToken):o.snapshotVersion.compareTo(X.min())>0&&(s.readTime=ml(i,o.snapshotVersion.toTimestamp())),s}(this.yt,e);const r=function Due(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return G()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=_h(this.yt),t.removeTarget=e,this.Bo(t)}}class Ode extends Aj{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(K(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Tue(n,e){return n&&n.length>0?(K(void 0!==e),n.map(t=>function(r,i){let o=Dt(r.updateTime?r.updateTime:i);return o.isEqual(X.min())&&(o=Dt(i)),new uue(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Dt(e.commitTime);return this.listener.Zo(r,t)}return K(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=_h(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function yh(n,e){let t;if(e instanceof fl)t={update:M$(n,e.key,e.value)};else if(e instanceof pl)t={delete:gh(n,e.key)};else if(e instanceof go)t={update:M$(n,e.key,e.data),updateMask:kue(e.fieldMask)};else{if(!(e instanceof ST))return G();t={verify:gh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof dl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof _a)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ya)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof hl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw G()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Iue(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:G()),t;var i}(this.yt,r))};this.Bo(t)}}class Pde extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.ao(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(w.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection._o(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(w.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class Lde{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ct(t),this.ou=!1):M("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Vde{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(a=>{r.enqueueAndForget(g(function*(){var c;_o(s)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(c=g(function*(l){const u=L(l);u._u.add(4),yield El(u),u.gu.set("Unknown"),u._u.delete(4),yield Sh(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.gu=new Lde(r,i)}}function Sh(n){return oD.apply(this,arguments)}function oD(){return oD=g(function*(n){if(_o(n))for(const e of n.wu)yield e(!0)}),oD.apply(this,arguments)}function El(n){return sD.apply(this,arguments)}function sD(){return sD=g(function*(n){for(const e of n.wu)yield e(!1)}),sD.apply(this,arguments)}function h_(n,e){const t=L(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),lD(t)?cD(t):xl(t).ko()&&aD(t,e))}function Ah(n,e){const t=L(n),r=xl(t);t.du.delete(e),r.ko()&&Mj(t,e),0===t.du.size&&(r.ko()?r.Fo():_o(t)&&t.gu.set("Unknown"))}function aD(n,e){n.yu.Ot(e.targetId),xl(n).zo(e)}function Mj(n,e){n.yu.Ot(e),xl(n).Ho(e)}function cD(n){n.yu=new yue({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),xl(n).start(),n.gu.uu()}function lD(n){return _o(n)&&!xl(n).No()&&n.du.size>0}function _o(n){return 0===L(n)._u.size}function kj(n){n.yu=void 0}function Ude(n){return uD.apply(this,arguments)}function uD(){return uD=g(function*(n){n.du.forEach((e,t)=>{aD(n,e)})}),uD.apply(this,arguments)}function Bde(n,e){return dD.apply(this,arguments)}function dD(){return dD=g(function*(n,e){kj(n),lD(n)?(n.gu.hu(e),cD(n)):n.gu.set("Unknown")}),dD.apply(this,arguments)}function $de(n,e,t){return hD.apply(this,arguments)}function hD(){return hD=g(function*(n,e,t){if(n.gu.set("Online"),e instanceof E$&&2===e.state&&e.cause)try{yield(r=g(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.du.delete(a),i.yu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield f_(n,r)}else if(e instanceof Yg?n.yu.Kt(e):e instanceof w$?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(X.min()))try{const r=yield vj(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const s=i.yu.Zt(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(c);l&&i.du.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const c=i.du.get(a);if(!c)return;i.du.set(a,c.withResumeToken(qt.EMPTY_BYTE_STRING,c.snapshotVersion)),Mj(i,a);const l=new ns(c.target,a,1,c.sequenceNumber);aD(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield f_(n,r)}var r}),hD.apply(this,arguments)}function f_(n,e,t){return fD.apply(this,arguments)}function fD(){return fD=g(function*(n,e,t){if(!Yo(e))throw e;n._u.add(1),yield El(n),n.gu.set("Offline"),t||(t=()=>vj(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Sh(n)}))}),fD.apply(this,arguments)}function Rj(n,e){return e().catch(t=>f_(n,t,e))}function Il(n){return pD.apply(this,arguments)}function pD(){return pD=g(function*(n){const e=L(n),t=ss(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;jde(e);)try{const i=yield Tde(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Hde(e,i)}catch(i){yield f_(e,i)}Nj(e)&&Oj(e)}),pD.apply(this,arguments)}function jde(n){return _o(n)&&n.fu.length<10}function Hde(n,e){n.fu.push(e);const t=ss(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Nj(n){return _o(n)&&!ss(n).No()&&n.fu.length>0}function Oj(n){ss(n).start()}function zde(n){return mD.apply(this,arguments)}function mD(){return mD=g(function*(n){ss(n).eu()}),mD.apply(this,arguments)}function Gde(n){return gD.apply(this,arguments)}function gD(){return gD=g(function*(n){const e=ss(n);for(const t of n.fu)e.Xo(t.mutations)}),gD.apply(this,arguments)}function qde(n,e,t){return _D.apply(this,arguments)}function _D(){return _D=g(function*(n,e,t){const r=n.fu.shift(),i=PT.from(r,e,t);yield Rj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Il(n)}),_D.apply(this,arguments)}function Wde(n,e){return yD.apply(this,arguments)}function yD(){return yD=g(function*(n,e){var t;e&&ss(n).Yo&&(yield(t=g(function*(r,i){if(g$(o=i.code)&&o!==w.ABORTED){const s=r.fu.shift();ss(r).Mo(),yield Rj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Il(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),Nj(n)&&Oj(n)}),yD.apply(this,arguments)}function Pj(n,e){return vD.apply(this,arguments)}function vD(){return vD=g(function*(n,e){const t=L(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=_o(t);t._u.add(3),yield El(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Sh(t)}),vD.apply(this,arguments)}function wD(){return wD=g(function*(n,e){const t=L(n);e?(t._u.delete(2),yield Sh(t)):e||(t._u.add(2),yield El(t),t.gu.set("Unknown"))}),wD.apply(this,arguments)}function xl(n){return n.pu||(n.pu=function(e,t,r){const i=L(e);return i.su(),new Nde(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Ude.bind(null,n),Zr:Bde.bind(null,n),Wo:$de.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.pu.Mo(),lD(n)?cD(n):n.gu.set("Unknown")):(yield n.pu.stop(),kj(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function ss(n){return n.Iu||(n.Iu=function(e,t,r){const i=L(e);return i.su(),new Ode(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:zde.bind(null,n),Zr:Wde.bind(null,n),tu:Gde.bind(null,n),Zo:qde.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.Iu.Mo(),yield Il(n)):(yield n.Iu.stop(),n.fu.length>0&&(M("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class ED{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new ED(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cl(n,e){if(Ct("AsyncQueue",`${e}: ${n}`),Yo(n))return new S(w.UNAVAILABLE,`${e}: ${n}`);throw n}class Tl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||F.comparator(t.key,r.key):(t,r)=>F.comparator(t.key,r.key),this.keyedMap=hh(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Tl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Fj{constructor(){this.Tu=new bt(F.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):G():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Dl{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Dl(e,t,Tl.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Kde{constructor(){this.Au=void 0,this.listeners=[]}}class Qde{constructor(){this.queries=new ts(e=>e$(e),lh),this.onlineState="Unknown",this.Ru=new Set}}function xD(){return xD=g(function*(n,e){const t=L(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new Kde),i)try{o.Au=yield t.onListen(r)}catch(s){const a=Cl(s,`Initialization of query '${TT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.bu(t.onlineState),o.Au&&e.Pu(o.Au)&&DD(t)}),xD.apply(this,arguments)}function TD(){return TD=g(function*(n,e){const t=L(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),TD.apply(this,arguments)}function Yde(n,e){const t=L(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.Pu(i)&&(r=!0);s.Au=i}}r&&DD(t)}function Xde(n,e,t){const r=L(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function DD(n){n.Ru.forEach(e=>{e.next()})}class SD{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Uj{constructor(e){this.key=e}}class Bj{constructor(e){this.key=e}}class $j{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=he(),this.mutatedKeys=he(),this.Gu=n$(e),this.Qu=new Tl(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new Fj,i=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=DT(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.Gu(f,c)>0||l&&this.Gu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||l)&&(a=!0)),_&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Qu:s,zu:r,$i:a,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((l,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return f(d)-f(h)}(l.type,u.type)||this.Gu(l.doc,u.doc)),this.Ju(r);const s=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,c=a!==this.Uu;return this.Uu=a,0!==o.length||c?{snapshot:new Dl(this.query,e.Qu,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Fj,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=he(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Bj(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Uj(r))}),t}tc(e){this.qu=e.Hi,this.Ku=he();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Dl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class ehe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class the{constructor(e){this.key=e,this.nc=!1}}class nhe{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new ts(a=>e$(a),lh),this.rc=new Map,this.oc=new Set,this.uc=new bt(F.comparator),this.cc=new Map,this.ac=new zT,this.hc={},this.lc=new Map,this.fc=xa.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function rhe(n,e){return AD.apply(this,arguments)}function AD(){return AD=g(function*(n,e){const t=ZD(n);let r,i;const o=t.ic.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const s=yield bl(t.localStore,Hn(e));t.isPrimaryClient&&h_(t.remoteStore,s);const a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield MD(t,e,r,"current"===a,s.resumeToken)}return i}),AD.apply(this,arguments)}function MD(n,e,t,r,i){return kD.apply(this,arguments)}function kD(){return kD=g(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=g(function*(m,_,y,I){let v=_.view.Wu(y);v.$i&&(v=yield c_(m.localStore,_.query,!1).then(({documents:V})=>_.view.Wu(V,v)));const T=I&&I.targetChanges.get(_.targetId),$=_.view.applyChanges(v,m.isPrimaryClient,T);return $D(m,_.targetId,$.Xu),$.snapshot}),function(m,_,y,I){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield c_(n.localStore,e,!0),s=new $j(e,o.Hi),a=s.Wu(o.documents),c=mh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=s.applyChanges(a,n.isPrimaryClient,c);$D(n,t,l.Xu);const u=new ehe(e,t,s);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),l.snapshot}),kD.apply(this,arguments)}function ihe(n,e){return RD.apply(this,arguments)}function RD(){return RD=g(function*(n,e){const t=L(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(o=>!lh(o,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ah(t.remoteStore,r.targetId),Sl(t,r.targetId)}).catch(Qo))):(Sl(t,r.targetId),yield wl(t.localStore,r.targetId,!0))}),RD.apply(this,arguments)}function ND(){return ND=g(function*(n,e,t){const r=JD(n);try{const i=yield function(o,s){const a=L(o),c=et.now(),l=s.reduce((h,f)=>h.add(f.key),he());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=ir(),p=he();return a.Gi.getEntries(h,l).next(m=>{f=m,f.forEach((_,y)=>{y.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const _=[];for(const y of s){const I=hue(y,u.get(y.key).overlayedDocument);null!=I&&_.push(new go(y.key,I,QB(I.value.mapValue),it.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,_,s)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:v$(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.hc[o.currentUser.toKey()];c||(c=new bt(ae)),c=c.insert(s,a),o.hc[o.currentUser.toKey()]=c}(r,i.batchId,t),yield yo(r,i.changes),yield Il(r.remoteStore)}catch(i){const o=Cl(i,"Failed to persist write");t.reject(o)}}),ND.apply(this,arguments)}function jj(n,e){return OD.apply(this,arguments)}function OD(){return OD=g(function*(n,e){const t=L(n);try{const r=yield Cde(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.cc.get(o);s&&(K(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.nc=!0:i.modifiedDocuments.size>0?K(s.nc):i.removedDocuments.size>0&&(K(s.nc),s.nc=!1))}),yield yo(t,r,e)}catch(r){yield Qo(r)}}),OD.apply(this,arguments)}function Hj(n,e,t){const r=L(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((o,s)=>{const a=s.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=L(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.bu(s)&&(c=!0)}),c&&DD(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function she(n,e,t){return PD.apply(this,arguments)}function PD(){return PD=g(function*(n,e,t){const r=L(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),o=i&&i.key;if(o){let s=new bt(F.comparator);s=s.insert(o,tt.newNoDocument(o,X.min()));const a=he().add(o),c=new ph(X.min(),new Map,new je(ae),s,a);yield jj(r,c),r.uc=r.uc.remove(o),r.cc.delete(e),jD(r)}else yield wl(r.localStore,e,!1).then(()=>Sl(r,e,t)).catch(Qo)}),PD.apply(this,arguments)}function ahe(n,e){return FD.apply(this,arguments)}function FD(){return FD=g(function*(n,e){const t=L(n),r=e.batch.batchId;try{const i=yield xde(t.localStore,e);BD(t,r,null),UD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield yo(t,i)}catch(i){yield Qo(i)}}),FD.apply(this,arguments)}function che(n,e,t){return LD.apply(this,arguments)}function LD(){return LD=g(function*(n,e,t){const r=L(n);try{const i=yield function(o,s){const a=L(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(K(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);BD(r,e,t),UD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield yo(r,i)}catch(i){yield Qo(i)}}),LD.apply(this,arguments)}function UD(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function BD(n,e,t){const r=L(n);let i=r.hc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Sl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||zj(n,r)})}function zj(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Ah(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),jD(n))}function $D(n,e,t){for(const r of t)r instanceof Uj?(n.ac.addReference(r.key,e),uhe(n,r)):r instanceof Bj?(M("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||zj(n,r.key)):G()}function uhe(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.oc.add(r),jD(n))}function jD(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new F(Ae.fromString(e)),r=n.fc.next();n.cc.set(r,new the(t)),n.uc=n.uc.insert(t,r),h_(n.remoteStore,new ns(Hn(ul(t.path)),r,2,wr.at))}}function yo(n,e,t){return HD.apply(this,arguments)}function HD(){return HD=g(function*(n,e,t){const r=L(n),i=[],o=[],s=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,c)=>{s.push(r._c(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=KT.Ci(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.sc.Wo(i),yield(a=g(function*(c,l){const u=L(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(l,h=>b.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Yo(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.qi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.qi=u.qi.insert(h,m)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,o))}),HD.apply(this,arguments)}function dhe(n,e){return zD.apply(this,arguments)}function zD(){return zD=g(function*(n,e){const t=L(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield yj(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(s=>{s.forEach(a=>{a.reject(new S(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yo(t,r.ji)}var i}),zD.apply(this,arguments)}function hhe(n,e){const t=L(n),r=t.cc.get(e);if(r&&r.nc)return he().add(r.key);{let i=he();const o=t.rc.get(e);if(!o)return i;for(const s of o){const a=t.ic.get(s);i=i.unionWith(a.view.ju)}return i}}function ZD(n){const e=L(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=she.bind(null,e),e.sc.Wo=Yde.bind(null,e.eventManager),e.sc.wc=Xde.bind(null,e.eventManager),e}function JD(n){const e=L(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ahe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=che.bind(null,e),e}class whe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.yt=Dh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function _j(n,e,t,r){return new Ide(n,e,t,r)}(this.persistence,new gj,e.initialUser,this.yt)}yc(e){return new pj(s_.Bs,this.yt)}gc(e){return new Tj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eS{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Hj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dhe.bind(null,r.syncEngine),yield function bD(n,e){return wD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qde}createDatastore(e){const t=Dh(e.databaseInfo.databaseId),r=new Rde(e.databaseInfo);return new Pde(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Hj(this.syncEngine,a,0),s=Dj.C()?new Dj:new Ade,new Vde(t,r,i,o,s);var t,r,i,o,s}createSyncEngine(e,t){return function(r,i,o,s,a,c,l){const u=new nhe(r,i,o,s,a,c);return l&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=L(t);M("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield El(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tS(n,e,t){if(!t)throw new S(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Wj(n){if(!F.isDocumentKey(n))throw new S(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":G()}function Te(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new S(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=p_(n);throw new S(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const Yj=new Map;class Xj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new S(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function xhe(n,e,t,r){if(!0===e&&!0===r)throw new S(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Nle;switch(t.type){case"gapi":return new Lle(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new S(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yj.get(e);t&&(M("ComponentProvider","Removing Datastore"),Yj.delete(e),t.terminate())}(this),Promise.resolve()}}class St{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class gn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gn(this.firestore,e,this._query)}}class ki extends gn{constructor(e,t,r){super(e,t,ul(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new F(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function Zj(n,e,...t){if(n=Nt(n),1===arguments.length&&(e=wB.R()),tS("doc","path",e),n instanceof Mh){const r=Ae.fromString(e,...t);return Wj(r),new St(n,null,new F(r))}{if(!(n instanceof St||n instanceof ki))throw new S(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ae.fromString(e,...t));return Wj(r),new St(n.firestore,n instanceof ki?n.converter:null,new F(r))}}class m_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ct("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class khe{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=wB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=g(function*(a){M("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(M("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Cl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function tH(n,e){return nS.apply(this,arguments)}function nS(){return nS=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(o){r.isEqual(o)||(yield yj(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),nS.apply(this,arguments)}function nH(n,e){return rS.apply(this,arguments)}function rS(){return rS=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield iS(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Pj(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Pj(e.remoteStore,o)),n.onlineComponents=e}),rS.apply(this,arguments)}function iS(n){return oS.apply(this,arguments)}function oS(){return oS=g(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield tH(n,new whe)),n.offlineComponents}),oS.apply(this,arguments)}function g_(n){return sS.apply(this,arguments)}function sS(){return sS=g(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield nH(n,new eS)),n.onlineComponents}),sS.apply(this,arguments)}function Al(n){return lS.apply(this,arguments)}function lS(){return lS=g(function*(n){const e=yield g_(n),t=e.eventManager;return t.onListen=rhe.bind(null,e.syncEngine),t.onUnlisten=ihe.bind(null,e.syncEngine),t}),lS.apply(this,arguments)}class Uhe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new rD(this,"async_queue_retry"),this.Wc=()=>{const t=d_();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=d_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=d_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Gt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Yo(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ct("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=ED.createAndSchedule(this,e,t,r,o=>this.Yc(o));return this.Uc.push(i),i}zc(){this.Kc&&G()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function uS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class nt extends Mh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Uhe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aH(this),this._firestoreClient.terminate()}}function $he(n,e){const r="string"==typeof n?n:e||"(default)",i=qs("object"==typeof n?n:Am(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=fL("firestore");o&&function Che(n,e,t,r={}){var i;const o=(n=Te(n,Mh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&il("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Yt.MOCK_USER;else{s=mL(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new S(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Yt(c)}n._authCredentials=new Ole(new vB(s,a))}}(i,...o)}return i}function Pt(n){return n._firestoreClient||aH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function aH(n){var e;const t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Kle(n._databaseId,o,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var o,a;n._firestoreClient=new khe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(qt.fromBase64String(e))}catch(t){throw new S(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ta(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ml{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new S(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dS{constructor(e){this._methodName=e}}class hS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new S(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}const jhe=/^__.*__$/;class Hhe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new go(e,this.data,this.fieldMask,t,this.fieldTransforms):new fl(e,this.data,t,this.fieldTransforms)}}class uH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new go(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class y_{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new y_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return b_(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(dH(this.sa)&&jhe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class zhe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Dh(e)}da(e,t,r,i=!1){return new y_({sa:e,methodName:t,fa:r,path:Tt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function kl(n){const e=n._freezeSettings(),t=Dh(n._databaseId);return new zhe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fS(n,e,t,r,i,o={}){const s=n.da(o.merge||o.mergeFields?2:0,e,t,i);mS("Data must be an object, but it was:",s,r);const a=gH(r,s);let c,l;if(o.merge)c=new Er(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=gS(e,d,t);if(!s.contains(h))throw new S(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);yH(u,h)||u.push(h)}c=new Er(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new Hhe(new mn(a),c,l)}class kh extends dS{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function Da(n,e){if(_H(n=Nt(n)))return mS("Unsupported field value:",e,n),gH(n,e);if(n instanceof dS)return function(t,r){if(!dH(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const s of t){let a=Da(s,r.aa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Nt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return o$(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=et.fromDate(t);return{timestampValue:ml(r.yt,i)}}if(t instanceof et){const i=new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ml(r.yt,i)}}if(t instanceof hS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ta)return{bytesValue:T$(r.yt,t._byteString)};if(t instanceof St){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:AT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${p_(t)}`)}(n,e)}function gH(n,e){const t={};return SB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(n,(r,i)=>{const o=Da(i,e.ra(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function _H(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof et||n instanceof hS||n instanceof Ta||n instanceof St||n instanceof dS)}function mS(n,e,t){if(!_H(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=p_(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function gS(n,e,t){if((e=Nt(e))instanceof Ml)return e._internalPath;if("string"==typeof e)return v_(n,e);throw b_("Field path arguments must be of type string or ",n,!1,void 0,t)}const Khe=new RegExp("[~\\*/\\[\\]]");function v_(n,e,t){if(e.search(Khe)>=0)throw b_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ml(...e.split("."))._internalPath}catch{throw b_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function b_(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new S(w.INVALID_ARGUMENT,a+n+c)}function yH(n,e){return n.some(t=>t.isEqual(e))}class _S{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(w_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qhe extends _S{data(){return super.data()}}function w_(n,e){return"string"==typeof e?v_(n,e):e instanceof Ml?e._internalPath:e._delegate._internalPath}class Xhe{convertValue(e,t="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){const r={};return da(e.fields,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new hS(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=MB(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const t=Xo(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ae.fromString(e);K(F$(r));const i=new ua(r.get(1),r.get(3)),o=new F(r.popFirst(5));return i.isEqual(t)||Ct(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Sa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nl extends _S{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new C_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(w_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class C_ extends Nl{data(e={}){return super.data(e)}}class Ol{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new C_(this._firestore,this._userDataWriter,r.key,r,new Sa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new S(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new C_(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Sa(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new C_(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Sa(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:Zhe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zhe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class as extends Xhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}function efe(n,e,t,...r){n=Te(n,St);const i=Te(n.firestore,nt),o=kl(i);let s;return s="string"==typeof(e=Nt(e))||e instanceof Ml?function pH(n,e,t,r,i,o){const s=n.da(1,e,t),a=[gS(e,r,t)],c=[i];if(o.length%2!=0)throw new S(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(gS(e,o[h])),c.push(o[h+1]);const l=[],u=mn.empty();for(let h=a.length-1;h>=0;--h)if(!yH(l,a[h])){const f=a[h];let p=c[h];p=Nt(p);const m=s.ca(f);if(p instanceof kh)l.push(f);else{const _=Da(p,m);null!=_&&(l.push(f),u.set(f,_))}}const d=new Er(l);return new uH(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function fH(n,e,t,r){const i=n.da(1,e,t);mS("Data must be an object, but it was:",i,r);const o=[],s=mn.empty();da(r,(c,l)=>{const u=v_(e,c,t);l=Nt(l);const d=i.ca(u);if(l instanceof kh)o.push(u);else{const h=Da(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Er(o);return new uH(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),Nh(i,[s.toMutation(n._key,it.exists(!0))])}function Nh(n,e){return function(t,r){const i=new Gt;return t.asyncQueue.enqueueAndForget(g(function*(){return function ohe(n,e,t){return ND.apply(this,arguments)}(yield function cS(n){return g_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Pt(n),e)}!function(n,e=!0){rl="9.15.0",Dn(new cn("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),s=new nt(new Ple(t.getProvider("auth-internal")),new Vle(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Je(yB,"3.8.0",n),Je(yB,"3.8.0","esm2017")}();var ofe={includeMetadataChanges:!1};function wS(n,e){return void 0===e&&(e=ofe),new Oe(function(t){var r=function tfe(n,...e){var t,r,i;n=Nt(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||uS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(uS(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(n instanceof St)l=Te(n.firestore,nt),u=ul(n._key.path),c={next:d=>{e[s]&&e[s](function bS(n,e,t){const r=t.docs.get(e._key),i=new as(n);return new Nl(n,i,e._key,r,new Sa(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[s+1],complete:e[s+2]};else{const d=Te(n,gn);l=Te(d.firestore,nt),u=d._query;const h=new as(l);c={next:f=>{e[s]&&e[s](new Ol(l,h,d,f))},error:e[s+1],complete:e[s+2]},function vH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new S(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new m_(p),_=new SD(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function ID(n,e){return xD.apply(this,arguments)}(yield Al(d),_)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(g(function*(){return function CD(n,e){return TD.apply(this,arguments)}(yield Al(d),_)}))}}(Pt(l),u,a,c)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function afe(n,e){return void 0===e&&(e={}),function sfe(n){return wS(n,{includeMetadataChanges:!0})}(n).pipe(Q(function(t){return function DH(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(t,e)}))}class Oh{constructor(e){return e}}const kH="firestore",xS=new R("angularfire2.firestore-instances");function mfe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Oh(r)}}const gfe={provide:class ffe{constructor(){return Vm(kH)}},deps:[[new lt,xS]]},_fe={provide:Oh,useFactory:function pfe(n,e){const t=Lm(kH,n,e);return t&&new Oh(t)},deps:[[new lt,xS],ea]};let yfe=(()=>{class n{constructor(){Je("angularfire",vd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[_fe,gfe]}),n})();const bfe=ni(afe,!0),Ph=ni(Zj,!0),wfe=ni($he,!0),CS=ni(efe,!0),Fh={pokeball:{catchrate:10,cooldown:5},superball:{catchrate:25,cooldown:15},ultraball:{catchrate:50,cooldown:60},masterball:{catchrate:100,cooldown:10080}};function cs(n){return et.fromDate(new Date(Date.now()+1e3*n))}function RH(n){return n.seconds-et.now().seconds}function NH(n){if(n<0)return"";if(n<60)return`${n}s`;const e=Math.floor(n/60);return e<60?`${e}m`+(n%60?n%60+"s":""):`${Math.floor(e/60)}h`}class Fr{constructor(e,t,r){this.auth=e,this.router=t,this.firestore=r,this.isLoggedIn$=nU(this.auth).pipe(Q(i=>!!i)),this.user$=nU(this.auth)}signIn(e,t){at(Ace(this.auth,e,t)).pipe(ti(()=>(this.displayFailedPopup(),Ci)),jt(1)).subscribe(()=>{this.router.navigateByUrl("/")})}register(e,t,r){at(Dce(this.auth,t,r)).pipe(ti(i=>(console.log(i),this.displayFailedPopup(),Ci)),jt(1)).subscribe(i=>{(function Jhe(n,e,t){n=Te(n,St);const r=Te(n.firestore,nt),i=function vS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);Nh(r,[fS(kl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,it.none())])})(Ph(this.firestore,"users",i.user.uid),function Efe(n,e){return{id:n,name:e,captured:[],encountered:[],inventory:{pokeball:50,superball:10,ultraball:3,masterball:1},energy:10,cooldown:{pokeball:cs(60*Fh.pokeball.cooldown),superball:cs(60*Fh.superball.cooldown),ultraball:cs(60*Fh.ultraball.cooldown),masterball:cs(60*Fh.masterball.cooldown),energy:cs(300)}}}(i.user.uid,e)),this.router.navigateByUrl("/")})}displayFailedPopup(){console.log("Login failed")}signOut(){at(Mce(this.auth)).pipe(jt(1)).subscribe(()=>this.router.navigateByUrl("/"))}}function Ife(n,e){1&n&&me(0,"poke-app-navbar")}Fr.\u0275fac=function(e){return new(e||Fr)(C(cg),C(Bn),C(Oh))},Fr.\u0275prov=P({token:Fr,factory:Fr.\u0275fac,providedIn:"root"});class Lh{constructor(e){this.auth=e,this.title="app",this.isLoggedIn$=this.auth.isLoggedIn$}logout(){this.auth.signOut()}}let TS;Lh.\u0275fac=function(e){return new(e||Lh)(E(Fr))},Lh.\u0275cmp=wt({type:Lh,selectors:[["poke-app-root"]],standalone:!0,features:[Jn],decls:6,vars:3,consts:[[1,"container"],[4,"ngIf"],[1,"content"]],template:function(e,t){1&e&&(k(0,"div",0)(1,"div",0),pe(2,Ife,1,0,"poke-app-navbar",1),Sc(3,"async"),k(4,"div",2),me(5,"router-outlet"),N()()()),2&e&&(U(2),j("ngIf",Ac(3,1,t.isLoggedIn$)))},dependencies:[Vn,Jr,qu,cw,Q0,hd],styles:[".container[_ngcontent-%COMP%]{margin:0;height:100vh;width:100vw;background-color:#5f021f80;display:flex;justify-content:space-around;flex-flow:column}@media (max-width: 500px){.container[_ngcontent-%COMP%]{flex-flow:column-reverse}}.content[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:flex-start;flex-flow:column;align-items:center;padding:10px}"]});try{TS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{TS=!1}let Pl,vo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?b0(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!TS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C(Lo))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OH=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function PH(){if(Pl)return Pl;if("object"!=typeof document||!document)return Pl=new Set(OH),Pl;let n=document.createElement("input");return Pl=new Set(OH.filter(e=>(n.setAttribute("type",e),n.type===e))),Pl}let Vh,DS;function Uh(n){return function xfe(){if(null==Vh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vh=!0}))}finally{Vh=Vh||!1}return Vh}()?n:!!n.capture}function Fl(n){return n.composedPath?n.composedPath()[0]:n.target}function FH(n){return Tn((e,t)=>n<=t)}function Ofe(n,e){return n===e}function Bh(n){return ot((e,t)=>{Kn(n).subscribe(st(t,()=>t.complete(),Kl)),!t.closed&&e.subscribe(t)})}function Ma(n){return null!=n&&"false"!=`${n}`}function LH(n){return Array.isArray(n)?n:[n]}function ls(n){return n instanceof ut?n.nativeElement:n}function VH(n,e=Fm){return ot((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}t.subscribe(st(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}const UH=new Set;let Ll,Lfe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ufe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Vfe(n){if(!UH.has(n))try{Ll||(Ll=document.createElement("style"),Ll.setAttribute("type","text/css"),document.head.appendChild(Ll)),Ll.sheet&&(Ll.sheet.insertRule(`@media ${n} {body{ }}`,0),UH.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(C(vo))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ufe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Bfe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Mt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return BH(LH(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=R0(BH(LH(t)).map(s=>this._registerQuery(s).observable));return o=Oc(o.pipe(jt(1)),o.pipe(FH(1),VH(0))),o.pipe(Q(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Oe(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(XP(r),Q(({matches:s})=>({query:t,matches:s})),Bh(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(C(Lfe),C(ve))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function zH(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function GH(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Kfe=new R("cdk-input-modality-detector-options"),Qfe={ignoreKeys:[18,17,224,91,16]},Vl=Uh({passive:!0,capture:!0});let Yfe=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Nr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Fl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(zH(s)?"keyboard":"mouse"),this._mostRecentTarget=Fl(s))},this._onTouchstart=s=>{GH(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fl(s))},this._options={...Qfe,...o},this.modalityDetected=this._modality.pipe(FH(1)),this.modalityChanged=this.modalityDetected.pipe(function Nfe(n,e=So){return n=n??Ofe,ot((t,r)=>{let i,o=!0;t.subscribe(st(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Vl),i.addEventListener("mousedown",this._onMousedown,Vl),i.addEventListener("touchstart",this._onTouchstart,Vl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Vl),document.removeEventListener("mousedown",this._onMousedown,Vl),document.removeEventListener("touchstart",this._onTouchstart,Vl))}}return n.\u0275fac=function(t){return new(t||n)(C(vo),C(ve),C($e),C(Kfe,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zfe=new R("cdk-focus-monitor-default-options"),S_=Uh({passive:!0,capture:!0});let Jfe=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mt,this._rootNodeFocusAndBlurListener=a=>{for(let l=Fl(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,r=!1){const i=ls(t);if(!this._platform.isBrowser||1!==i.nodeType)return q(null);const o=function Tfe(n){if(function Cfe(){if(null==DS){const n=typeof document<"u"?document.head:null;DS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return DS}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Mt,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ls(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=ls(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Fl(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,S_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,S_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Bh(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,S_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,S_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(C(ve),C(vo),C(Yfe),C($e,8),C(Zfe,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WH="cdk-high-contrast-black-on-white",KH="cdk-high-contrast-white-on-black",SS="cdk-high-contrast-active";let epe=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=de(Bfe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(SS,WH,KH),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(SS,WH):2===r&&t.add(SS,KH)}}}return n.\u0275fac=function(t){return new(t||n)(C(vo),C($e))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tpe=new R("cdk-dir-doc",{providedIn:"root",factory:function npe(){return de($e)}}),rpe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ope=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new qe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function ipe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?rpe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C(tpe,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({}),n})();const ape=new R("mat-sanity-checks",{providedIn:"root",factory:function spe(){return!0}});let Lr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Dfe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(C(epe),C(ape,8),C($e))},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[QH,QH]}),n})();function cpe(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ma(e)}}}function lpe(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function upe(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ma(e)}}}function dpe(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let fpe=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ppe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ZH=Uh({passive:!0,capture:!0});class mpe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Fl(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){const o=this._events.get(t);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,ZH)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);!o||(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,ZH)))}}const JH={enterDuration:225,exitDuration:150},ez=Uh({passive:!0,capture:!0}),tz=["mousedown","touchstart"],nz=["mouseup","mouseleave","touchend","touchcancel"];class jh{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ls(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...JH,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function _pe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,m=new ppe(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let _=null;return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(m),I=()=>this._destroyRipple(m);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",I),_={onTransitionEnd:y,onTransitionCancel:I}}),this._activeRipples.set(m,_),(p||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...JH,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ls(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,tz.forEach(r=>{jh._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{nz.forEach(t=>{this._triggerElement.addEventListener(t,this,ez)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=zH(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!GH(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(tz.forEach(t=>jh._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&nz.forEach(t=>e.removeEventListener(t,this,ez)))}}jh._eventManager=new mpe;const ype=new R("mat-ripple-global-options");let rz=(()=>{class n{constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new jh(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(E(ut),E(ve),E(vo),E(ype,8),E($u,8))},n.\u0275dir=H({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&In("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),vpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Lr,Lr]}),n})();const bpe=["*"],Cpe=new R("MAT_CARD_CONFIG");let AS=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(E(Cpe,8))},n.\u0275cmp=wt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,r){2&t&&In("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:bpe,decls:1,vars:0,template:function(t,r){1&t&&(Rs(),It(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),MS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=H({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),kS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Lr,Vn,Lr]}),n})();const iz=Uh({passive:!0});let Vpe=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ci;const r=ls(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new Mt,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||r.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(r.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,iz),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",a,iz)}}),o}stopMonitoring(t){const r=ls(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(C(vo),C(ve))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Upe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({}),n})();let sz=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(E(zi),E(ut))},n.\u0275dir=H({type:n}),n})(),ka=(()=>{class n extends sz{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=on(n)))(r||n)}}(),n.\u0275dir=H({type:n,features:[Ne]}),n})();const Ri=new R("NgValueAccessor"),$pe={provide:Ri,useExisting:We(()=>Hh),multi:!0},Hpe=new R("CompositionEventMode");let Hh=(()=>{class n extends sz{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jpe(){const n=bi()?bi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(E(zi),E(ut),E(Hpe,8))},n.\u0275dir=H({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ke("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ge([$pe]),Ne]}),n})();function us(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function cz(n){return null!=n&&"number"==typeof n.length}const Mn=new R("NgValidators"),ds=new R("NgAsyncValidators"),Gpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bo{static min(e){return function lz(n){return e=>{if(us(e.value)||us(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function uz(n){return e=>{if(us(e.value)||us(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function dz(n){return us(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function hz(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function fz(n){return us(n.value)||Gpe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function pz(n){return e=>us(e.value)||!cz(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function mz(n){return e=>cz(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function gz(n){if(!n)return A_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(us(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Ez(e)}static composeAsync(e){return Iz(e)}}function A_(n){return null}function _z(n){return null!=n}function yz(n){return Tu(n)?at(n):n}function vz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function bz(n,e){return e.map(t=>t(n))}function wz(n){return n.map(e=>function qpe(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ez(n){if(!n)return null;const e=n.filter(_z);return 0==e.length?null:function(t){return vz(bz(t,e))}}function RS(n){return null!=n?Ez(wz(n)):null}function Iz(n){if(!n)return null;const e=n.filter(_z);return 0==e.length?null:function(t){return function oz(...n){const e=yM(n),{args:t,keys:r}=KP(n),i=new Oe(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Kn(t[u]).subscribe(st(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?QP(r,a):a),o.complete())}))}});return e?i.pipe(k0(e)):i}(bz(t,e).map(yz)).pipe(Q(vz))}}function NS(n){return null!=n?Iz(wz(n)):null}function xz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Cz(n){return n._rawValidators}function Tz(n){return n._rawAsyncValidators}function OS(n){return n?Array.isArray(n)?n:[n]:[]}function M_(n,e){return Array.isArray(n)?n.includes(e):n===e}function Dz(n,e){const t=OS(e);return OS(n).forEach(i=>{M_(t,i)||t.push(i)}),t}function Sz(n,e){return OS(e).filter(t=>!M_(n,t))}class Az{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Gn extends Az{get formDirective(){return null}get path(){return null}}class wo extends Az{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let PS=(()=>{class n extends Mz{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(wo,2))},n.\u0275dir=H({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&In("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ne]}),n})(),FS=(()=>{class n extends Mz{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Gn,10))},n.\u0275dir=H({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&In("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ne]}),n})();const zh="VALID",R_="INVALID",Ul="PENDING",Gh="DISABLED";function BS(n){return(N_(n)?n.validators:n)||null}function $S(n,e){return(N_(e)?e.asyncValidators:n)||null}function N_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Rz(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function Nz(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new x(1002,"")})}class O_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zh}get invalid(){return this.status===R_}get pending(){return this.status==Ul}get disabled(){return this.status===Gh}get enabled(){return this.status!==Gh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Dz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Dz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Sz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Sz(e,this._rawAsyncValidators))}hasValidator(e){return M_(this._rawValidators,e)}hasAsyncValidator(e){return M_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ul,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zh||this.status===Ul)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gh:zh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ul,this._hasOwnPendingAsyncValidator=!0;const t=yz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Gh:this.errors?R_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ul)?Ul:this._anyControlsHaveStatus(R_)?R_:zh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){N_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Jpe(n){return Array.isArray(n)?RS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function eme(n){return Array.isArray(n)?NS(n):n||null}(this._rawAsyncValidators)}}class qh extends O_{constructor(e,t,r){super(BS(t),$S(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Nz(this,0,e),Object.keys(e).forEach(r=>{Rz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Oz extends qh{}const Wh=new R("CallSetDisabledState",{providedIn:"root",factory:()=>jS}),jS="always";function Kh(n,e,t=jS){HS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function nme(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Pz(n,e)})}(n,e),function ime(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rme(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Pz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tme(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function F_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),V_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function L_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function HS(n,e){const t=Cz(n);null!==e.validator?n.setValidators(xz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Tz(n);null!==e.asyncValidator?n.setAsyncValidators(xz(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();L_(e._rawValidators,i),L_(e._rawAsyncValidators,i)}function V_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Cz(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=Tz(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return L_(e._rawValidators,r),L_(e._rawAsyncValidators,r),t}function Pz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fz(n,e){HS(n,e)}function Lz(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const lme={provide:Gn,useExisting:We(()=>U_)},Qh=(()=>Promise.resolve())();let U_=(()=>{class n extends Gn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new qh({},RS(t),NS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Kh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Qh.then(()=>{const r=this._findContainer(t.path),i=new qh({});Fz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Qh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Lz(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(E(Mn,10),E(ds,10),E(Wh,8))},n.\u0275dir=H({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&ke("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([lme]),Ne]}),n})();function Vz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Uz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ii=class extends O_{constructor(e=null,t,r){super(BS(t),$S(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),N_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Uz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Uz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let WS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=H({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({}),n})();const KS=new R("NgModelWithFormControlWarning"),yme={provide:Gn,useExisting:We(()=>Bl)};let Bl=(()=>{class n extends Gn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(V_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Kh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){F_(t.control||null,t,!1),function cme(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Lz(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(F_(r||null,t),(n=>n instanceof ii)(i)&&(Kh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Fz(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ome(n,e){return V_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){HS(this.form,this),this._oldForm&&V_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(E(Mn,10),E(ds,10),E(Wh,8))},n.\u0275dir=H({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ke("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([yme]),Ne,dr]}),n})();const wme={provide:wo,useExisting:We(()=>B_)};let B_=(()=>{class n extends wo{constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new qe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Hh?t=o:function ame(n){return Object.getPrototypeOf(n.constructor)===ka}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function GS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function P_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(E(Gn,13),E(Mn,10),E(ds,10),E(Ri,10),E(KS,8))},n.\u0275dir=H({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ge([wme]),Ne,dr]}),n})(),Fme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Gz]}),n})(),eA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:KS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Wh,useValue:t.callSetDisabledState??jS}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Fme]}),n})();class c3 extends O_{constructor(e,t,r){super(BS(t),$S(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Nz(this,0,e),e.forEach((r,i)=>{Rz(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function l3(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let u3=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return l3(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new qh(i,o)}record(t,r=null){const i=this._reduceControls(t);return new Oz(i,r)}control(t,r,i){let o={};return this.useNonNullable?(l3(r)?o=r:(o.validators=r,o.asyncValidators=i),new ii(t,{...o,nonNullable:!0})):new ii(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new c3(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ii||t instanceof O_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:eA}),n})();class d3{}class Lme{}const Eo="*";function Vme(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ume(n,e=null){return{type:4,styles:e,timings:n}}function h3(n,e=null){return{type:2,steps:n,options:e}}function $_(n){return{type:6,styles:n,offset:null}}function Bme(n,e,t){return{type:0,name:n,styles:e,options:t}}function $me(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function f3(n){Promise.resolve().then(n)}class Yh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){f3(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class p3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?f3(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let m3=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jme=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=ls(t);return new Oe(i=>{const s=this._observeElement(r).subscribe(i);return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Mt,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(C(m3))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hme=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new qe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ma(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Pfe(n,e=0){return function Ffe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(VH(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(E(jme),E(ut),E(ve))},n.\u0275dir=H({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),zme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[m3]}),n})();const Gme=["matFormFieldNotchedOutline",""],qme=["*"],Wme=["textField"],Kme=["iconPrefixContainer"],Qme=["textPrefixContainer"];function Yme(n,e){1&n&&me(0,"span",19)}function Xme(n,e){if(1&n){const t=Wr();k(0,"label",17),ke("cdkObserveContent",function(){return tn(t),nn(Ee(2)._refreshOutlineNotchWidth())}),It(1,1),pe(2,Yme,1,0,"span",18),N()}if(2&n){const t=Ee(2);j("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),Zn("for",t._control.id)("aria-owns",t._control.id),U(2),j("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Zme(n,e){1&n&&pe(0,Xme,3,6,"label",16),2&n&&j("ngIf",Ee()._hasFloatingLabel())}function Jme(n,e){1&n&&me(0,"div",20)}function ege(n,e){}function tge(n,e){1&n&&pe(0,ege,0,0,"ng-template",22),2&n&&(Ee(2),j("ngTemplateOutlet",bp(1)))}function nge(n,e){if(1&n&&(k(0,"div",21),pe(1,tge,1,1,"ng-template",9),N()),2&n){const t=Ee();j("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),U(1),j("ngIf",!t._forceDisplayInfixLabel())}}function rge(n,e){1&n&&(k(0,"div",23,24),It(2,2),N())}function ige(n,e){1&n&&(k(0,"div",25,26),It(2,3),N())}function oge(n,e){}function sge(n,e){1&n&&pe(0,oge,0,0,"ng-template",22),2&n&&(Ee(),j("ngTemplateOutlet",bp(1)))}function age(n,e){1&n&&(k(0,"div",27),It(1,4),N())}function cge(n,e){1&n&&(k(0,"div",28),It(1,5),N())}function lge(n,e){1&n&&me(0,"div",29)}function uge(n,e){1&n&&(k(0,"div",30),It(1,6),N()),2&n&&j("@transitionMessages",Ee()._subscriptAnimationState)}function dge(n,e){if(1&n&&(k(0,"mat-hint",34),ee(1),N()),2&n){const t=Ee(2);j("id",t._hintLabelId),U(1),Po(t.hintLabel)}}function hge(n,e){if(1&n&&(k(0,"div",31),pe(1,dge,2,2,"mat-hint",32),It(2,7),me(3,"div",33),It(4,8),N()),2&n){const t=Ee();j("@transitionMessages",t._subscriptAnimationState),U(1),j("ngIf",t.hintLabel)}}const fge=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pge=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let j_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=H({type:n,selectors:[["mat-label"]]}),n})(),mge=0;const g3=new R("MatError");let _3=(()=>{class n{constructor(t,r){this.id="mat-mdc-error-"+mge++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(cu("aria-live"),E(ut))},n.\u0275dir=H({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,r){2&t&&Au("id",r.id)},inputs:{id:"id"},features:[Ge([{provide:g3,useExisting:n}])]}),n})(),gge=0,y3=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+gge++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=H({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,r){2&t&&(Au("id",r.id),Zn("align",null),In("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const _ge=new R("MatPrefix"),yge=new R("MatSuffix");let v3=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function vge(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(E(ut))},n.\u0275dir=H({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,r){2&t&&In("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const b3="mdc-line-ripple--active",H_="mdc-line-ripple--deactivating";let w3=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,s=o.contains(H_);"opacity"===i.propertyName&&s&&o.remove(b3,H_)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(H_),t.add(b3)}deactivate(){this._elementRef.nativeElement.classList.add(H_)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(E(ut),E(ve))},n.\u0275dir=H({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),E3=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(E(ut),E(ve))},n.\u0275cmp=wt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,r){2&t&&In("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Gme,ngContentSelectors:qme,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,r){1&t&&(Rs(),me(0,"div",0),k(1,"div",1),It(2),N(),me(3,"div",2)),2&t&&(U(1),vb("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const bge={transitionMessages:Vme("transitionMessages",[Bme("enter",$_({opacity:1,transform:"translateY(0%)"})),$me("void => enter",[$_({opacity:0,transform:"translateY(-5px)"}),Ume("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let I3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=H({type:n}),n})();const x3=new R("MatFormField"),wge=new R("MAT_FORM_FIELD_DEFAULT_OPTIONS");let C3=0,S3=(()=>{class n{constructor(t,r,i,o,s,a,c,l){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._document=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+C3++,this._hintLabelId="mat-mdc-hint-"+C3++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Mt,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=Boolean(a?.hideRequiredMarker),a.color&&(this.color=a.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ma(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Bh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Df(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Bh(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Bh(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,s=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(E(ut),E(ju),E(ve),E(ope),E(vo),E(wge,8),E($u,8),E($e))},n.\u0275cmp=wt({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(Qi(i,j_,5),Qi(i,j_,7),Qi(i,I3,5),Qi(i,_ge,5),Qi(i,yge,5),Qi(i,g3,5),Qi(i,y3,5)),2&t){let o;xn(o=Cn())&&(r._labelChildNonStatic=o.first),xn(o=Cn())&&(r._labelChildStatic=o.first),xn(o=Cn())&&(r._formFieldControl=o.first),xn(o=Cn())&&(r._prefixChildren=o),xn(o=Cn())&&(r._suffixChildren=o),xn(o=Cn())&&(r._errorChildren=o),xn(o=Cn())&&(r._hintChildren=o)}},viewQuery:function(t,r){if(1&t&&(Fo(Wme,5),Fo(Kme,5),Fo(Qme,5),Fo(v3,5),Fo(E3,5),Fo(w3,5)),2&t){let i;xn(i=Cn())&&(r._textField=i.first),xn(i=Cn())&&(r._iconPrefixContainer=i.first),xn(i=Cn())&&(r._textPrefixContainer=i.first),xn(i=Cn())&&(r._floatingLabel=i.first),xn(i=Cn())&&(r._notchedOutline=i.first),xn(i=Cn())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,r){2&t&&In("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ge([{provide:x3,useExisting:n}])],ngContentSelectors:pge,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,r){1&t&&(Rs(fge),pe(0,Zme,1,1,"ng-template",null,0,aO),k(2,"div",1,2),ke("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),pe(4,Jme,1,0,"div",3),k(5,"div",4),pe(6,nge,2,3,"div",5),pe(7,rge,3,0,"div",6),pe(8,ige,3,0,"div",7),k(9,"div",8),pe(10,sge,1,1,"ng-template",9),It(11),N(),pe(12,age,2,0,"div",10),pe(13,cge,2,0,"div",11),N(),pe(14,lge,1,0,"div",12),N(),k(15,"div",13),pe(16,uge,2,1,"div",14),pe(17,hge,5,2,"div",15),N()),2&t&&(U(2),In("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),U(2),j("ngIf",!r._hasOutline()&&!r._control.disabled),U(2),j("ngIf",r._hasOutline()),U(1),j("ngIf",r._hasIconPrefix),U(1),j("ngIf",r._hasTextPrefix),U(2),j("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),U(2),j("ngIf",r._hasTextSuffix),U(1),j("ngIf",r._hasIconSuffix),U(1),j("ngIf",!r._hasOutline()),U(1),In("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),j("ngSwitch",r._getDisplayedMessages()),U(1),j("ngSwitchCase","error"),U(1),j("ngSwitchCase","hint"))},dependencies:[Jr,bP,qp,yP,Hme,y3,v3,E3,w3],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[bge.transitionMessages]},changeDetection:0}),n})(),A3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Lr,Vn,zme,Lr]}),n})();const xge=new R("MAT_INPUT_VALUE_ACCESSOR"),Cge=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Tge=0;const Dge=dpe(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new Mt}});let M3=(()=>{class n extends Dge{constructor(t,r,i,o,s,a,c,l,u,d){super(a,o,s,i),this._elementRef=t,this._platform=r,this._autofillMonitor=l,this._formField=d,this._uid="mat-input-"+Tge++,this.focused=!1,this.stateChanges=new Mt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>PH().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=c||h,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(t){this._disabled=Ma(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(bo.required)??!1}set required(t){this._required=Ma(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&PH().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ma(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Cge.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(E(ut),E(vo),E(wo,10),E(U_,8),E(Bl,8),E(fpe),E(xge,10),E(Vpe),E(ve),E(x3,8))},n.\u0275dir=H({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,r){1&t&&ke("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(Au("id",r.id)("disabled",r.disabled)("required",r.required),Zn("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),In("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ge([{provide:I3,useExisting:n}]),Ne,dr]}),n})(),nA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Lr,A3,A3,Upe,Lr]}),n})();const Sge=["mat-button",""],Age=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Mge=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],kge=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Rge=lpe(cpe(upe(class{constructor(n){this._elementRef=n}})));let Nge=(()=>{class n extends Rge{constructor(t,r,i,o){super(t),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=de(Jfe),this._isFab=!1;const s=t.nativeElement.classList;for(const a of kge)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){Yv()},n.\u0275dir=H({type:n,viewQuery:function(t,r){if(1&t&&Fo(rz,5),2&t){let i;xn(i=Cn())&&(r.ripple=i.first)}},features:[Ne]}),n})(),z_=(()=>{class n extends Nge{constructor(t,r,i,o){super(t,r,i,o)}}return n.\u0275fac=function(t){return new(t||n)(E(ut),E(vo),E(ve),E($u,8))},n.\u0275cmp=wt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(Zn("disabled",r.disabled||null),In("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ne],attrs:Sge,ngContentSelectors:Mge,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(Rs(Age),me(0,"span",0),It(1),k(2,"span",1),It(3,1),N(),It(4,2),me(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(In("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),U(6),j("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[rz],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),G_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Lr,vpe,Lr]}),n})();function Fge(n,e){1&n&&(k(0,"p"),ee(1,"Gotta catch them all"),N())}const Lge=function(n){return["header",n]};class Na{constructor(){this.type="normal"}}Na.\u0275fac=function(e){return new(e||Na)},Na.\u0275cmp=wt({type:Na,selectors:[["poke-app-header"]],inputs:{type:"type"},standalone:!0,features:[Jn],decls:5,vars:4,consts:[[3,"ngClass"],["src","../../../assets/icons/pokemon_logo.png","alt","POKEMON",1,"logo"],[4,"ngIf"]],template:function(e,t){1&e&&(k(0,"div",0),me(1,"img",1),k(2,"h1"),ee(3,"BORDEAUX"),N(),pe(4,Fge,2,0,"p",2),N()),2&e&&(j("ngClass",Dc(2,Lge,t.type)),U(4),j("ngIf","extended"===t.type))},dependencies:[Vn,m0,Jr],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;flex-flow:column}.header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0;color:#fff}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:medium}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:small;font-weight:lighter}.logo[_ngcontent-%COMP%]{width:200px;object-fit:cover}.small[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100px}.small[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:x-small}"]});class $l{}$l.\u0275fac=function(e){return new(e||$l)},$l.\u0275cmp=wt({type:$l,selectors:[["poke-app-home-page"]],standalone:!0,features:[Jn],decls:7,vars:0,consts:[[1,"login-page"],["type","extended"],[1,"button-section"],["mat-raised-button","","routerLink","/login",1,"button--login"],["mat-raised-button","","routerLink","/register",1,"button--signup"]],template:function(e,t){1&e&&(k(0,"div",0),me(1,"poke-app-header",1),k(2,"div",2)(3,"button",3),ee(4,"Connexion"),N(),k(5,"button",4),ee(6,"Cr\xe9er un compte"),N()()())},dependencies:[Vn,kS,nA,G_,z_,Na,cw,ud],styles:[".login-page[_ngcontent-%COMP%]{text-align:center}.title-div[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-rows:auto auto;color:#fff;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:-10px}.title--bordeaux[_ngcontent-%COMP%]{font-size:1.25em}.title--catchphrase[_ngcontent-%COMP%]{font-weight:400;font-size:1em}.button-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:auto;margin-top:50%}.button--login[_ngcontent-%COMP%], .button--signup[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #5F021F;--mdc-protected-button-label-text-color: white;border-style:solid;border-color:#000;border-width:1px;border-radius:25px;width:150px;margin:10px;padding:10px;box-shadow:0 2px 5px #000}"]});class q_{}class rA{}class Io{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Io?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Io;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Io?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Vge{encodeKey(e){return k3(e)}encodeValue(e){return k3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Bge=/%(\d[a-f0-9])/gi,$ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function k3(n){return encodeURIComponent(n).replace(Bge,(e,t)=>$ge[t]??e)}function W_(n){return`${n}`}class hs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vge,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Uge(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(W_):[W_(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new hs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(W_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(W_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class jge{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function R3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function N3(n){return typeof Blob<"u"&&n instanceof Blob}function O3(n){return typeof FormData<"u"&&n instanceof FormData}class Xh{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Hge(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Io),this.context||(this.context=new jge),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new hs,this.urlWithParams=t}serializeBody(){return null===this.body?null:R3(this.body)||N3(this.body)||O3(this.body)||function zge(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||O3(this.body)?null:N3(this.body)?this.body.type||null:R3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new Xh(t,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var Ft=(()=>((Ft=Ft||{})[Ft.Sent=0]="Sent",Ft[Ft.UploadProgress=1]="UploadProgress",Ft[Ft.ResponseHeader=2]="ResponseHeader",Ft[Ft.DownloadProgress=3]="DownloadProgress",Ft[Ft.Response=4]="Response",Ft[Ft.User=5]="User",Ft))();class iA{constructor(e,t=200,r="OK"){this.headers=e.headers||new Io,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class oA extends iA{constructor(e={}){super(e),this.type=Ft.ResponseHeader}clone(e={}){return new oA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class K_ extends iA{constructor(e={}){super(e),this.type=Ft.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new K_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class P3 extends iA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function sA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Zh=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Xh)o=t;else{let c,l;c=i.headers instanceof Io?i.headers:new Io(i.headers),i.params&&(l=i.params instanceof hs?i.params:new hs({fromObject:i.params})),o=new Xh(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=q(o).pipe($o(c=>this.handler.handle(c)));if(t instanceof Xh||"events"===i.observe)return s;const a=s.pipe(Tn(c=>c instanceof K_));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Q(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Q(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Q(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Q(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new hs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,sA(i,r))}post(t,r,i={}){return this.request("POST",t,sA(i,r))}put(t,r,i={}){return this.request("PUT",t,sA(i,r))}}return n.\u0275fac=function(t){return new(t||n)(C(q_))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function F3(n,e){return e(n)}function Gge(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Wge=new R("HTTP_INTERCEPTORS"),Jh=new R("HTTP_INTERCEPTOR_FNS");function Kge(){let n=null;return(e,t)=>(null===n&&(n=(de(Wge,{optional:!0})??[]).reduceRight(Gge,F3)),n(e,t))}let L3=(()=>{class n extends q_{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Jh)));this.chain=r.reduceRight((i,o)=>function qge(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),F3)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(C(rA),C(pi))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Zge=/^\)\]\}',?\n/;let U3=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Oe(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new Io(i.getAllResponseHeaders()),m=function Jge(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new oA({headers:p,status:i.status,statusText:f,url:m}),s},c=()=>{let{headers:f,status:p,statusText:m,url:_}=a(),y=null;204!==p&&(y=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=y?200:0);let I=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof y){const v=y;y=y.replace(Zge,"");try{y=""!==y?JSON.parse(y):null}catch(T){y=v,I&&(I=!1,y={error:T,text:y})}}I?(r.next(new K_({body:y,headers:f,status:p,statusText:m,url:_||void 0})),r.complete()):r.error(new P3({error:y,headers:f,status:p,statusText:m,url:_||void 0}))},l=f=>{const{url:p}=a(),m=new P3({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:Ft.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Ft.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",c),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:Ft.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",c),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(C(xP))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const aA=new R("XSRF_ENABLED"),B3="XSRF-TOKEN",$3=new R("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>B3}),j3="X-XSRF-TOKEN",H3=new R("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>j3});class z3{}let e_e=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=fP(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(C($e),C(Lo),C($3))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function t_e(n,e){const t=n.url.toLowerCase();if(!de(aA)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=de(z3).getToken(),i=de(H3);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var At=(()=>((At=At||{})[At.Interceptors=0]="Interceptors",At[At.LegacyInterceptors=1]="LegacyInterceptors",At[At.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",At[At.NoXsrfProtection=3]="NoXsrfProtection",At[At.JsonpSupport=4]="JsonpSupport",At[At.RequestsMadeViaParent=5]="RequestsMadeViaParent",At))();function jl(n,e){return{\u0275kind:n,\u0275providers:e}}function G3(...n){const e=[Zh,U3,L3,{provide:q_,useExisting:L3},{provide:rA,useExisting:U3},{provide:Jh,useValue:t_e,multi:!0},{provide:aA,useValue:!0},{provide:z3,useClass:e_e}];for(const t of n)e.push(...t.\u0275providers);return _k(e)}const q3=new R("LEGACY_INTERCEPTOR_FN");function r_e({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:$3,useValue:n}),void 0!==e&&t.push({provide:H3,useValue:e}),jl(At.CustomXsrfConfiguration,t)}let i_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[G3(jl(At.LegacyInterceptors,[{provide:q3,useFactory:Kge},{provide:Jh,useExisting:q3,multi:!0}]),r_e({cookieName:B3,headerName:j3}))]}),n})();class Oa{constructor(e,t,r){this.authService=e,this.firestore=t,this.httpService=r}getProfile(){return this.authService.user$.pipe(Un(e=>{if(e){const t=e?.uid;return this.getProfileData(t)}return q(null)}))}getProfileData(e){const t=Ph(this.firestore,`users/${e}`);return bfe(t)}getRandomNumberId(){return Math.floor(898*Math.random())}getRandomPokemon(){const e=this.getRandomNumberId();return this.httpService.get(`https://pokebuildapi.fr/api/v1/pokemon/${e}`,{headers:{Accept:"application/json"}}).pipe(Q(t=>({id:t.id,pokedexId:t.pokedexId,name:t.name,image:t.image})))}updatePokeballsAndCooldowns(e){CS(Ph(this.firestore,"users",e.id),{cooldown:e.cooldown,inventory:e.inventory})}updateHuntStart({energy:e,id:t,cooldown:r,encountered:i}){CS(Ph(this.firestore,"users",t),{energy:e,cooldown:r,encountered:i})}updateCapture({id:e,inventory:t,captured:r}){CS(Ph(this.firestore,"users",e),{inventory:t,captured:r})}}function o_e(n,e){if(1&n&&me(0,"img",11),2&n){const t=Ee(3);Du("src",null==t.currentPkmn?null:t.currentPkmn.image,fi)}}function s_e(n,e){1&n&&me(0,"img",12),2&n&&Ec("src","../../../assets/pokeballs/",Ee(3).selectedBall,".png",fi)}function a_e(n,e){1&n&&me(0,"img",13),2&n&&Ec("src","../../../assets/pokeballs/",Ee(3).selectedBall,".png",fi)}function c_e(n,e){if(1&n&&(k(0,"div"),pe(1,o_e,1,1,"img",8),pe(2,s_e,1,1,"img",9),pe(3,a_e,1,1,"img",10),N()),2&n){const t=Ee(2);U(1),j("ngIf",!t.capturing),U(1),j("ngIf",t.capturing&&!t.captured),U(1),j("ngIf",t.captured)}}function l_e(n,e){if(1&n&&(k(0,"p",14),ee(1),N()),2&n){const t=Ee(2);U(1),Wi(" ",t.pokemonLog," ")}}function u_e(n,e){if(1&n&&(k(0,"span"),ee(1),N()),2&n){const t=Ee(3);U(1),Wi(", next in ",t.cooldownTexts.energy,"")}}function d_e(n,e){if(1&n){const t=Wr();k(0,"div",15)(1,"button",16),ke("click",function(){return tn(t),nn(Ee(2).startHunt())}),ee(2,"Hunt"),N(),k(3,"div",17),me(4,"img",18),k(5,"span"),ee(6),pe(7,u_e,2,1,"span",4),N()()()}if(2&n){const t=Ee().$implicit;U(1),j("disabled",0===t.energy),U(5),Wi("",t.energy," / 10 "),U(1),j("ngIf",10!==t.energy)}}Oa.\u0275fac=function(e){return new(e||Oa)(C(Fr),C(Oh),C(Zh))},Oa.\u0275prov=P({token:Oa,factory:Oa.\u0275fac,providedIn:"root"});const Q_=function(n){return{selected:n}};function h_e(n,e){if(1&n){const t=Wr();k(0,"div",19)(1,"h2"),ee(2,"Select ball to launch :"),N(),k(3,"div",20)(4,"div",21),ke("click",function(){return tn(t),nn(Ee(2).selectBall("pokeball"))}),me(5,"img",22),k(6,"span"),ee(7),N()(),k(8,"div",23),ke("click",function(){return tn(t),nn(Ee(2).selectBall("superball"))}),me(9,"img",24),k(10,"span"),ee(11),N()(),k(12,"div",25),ke("click",function(){return tn(t),nn(Ee(2).selectBall("ultraball"))}),me(13,"img",26),k(14,"span"),ee(15),N()(),k(16,"div",27),ke("click",function(){return tn(t),nn(Ee(2).selectBall("masterball"))}),me(17,"img",28),k(18,"span"),ee(19),N()()(),k(20,"p"),ee(21," Catchrate: "),k(22,"b"),ee(23),N()(),k(24,"p"),ee(25),N(),me(26,"div"),k(27,"div",29)(28,"button",16),ke("click",function(){return tn(t),nn(Ee(2).capture())}),ee(29,"Capture"),N(),k(30,"button",16),ke("click",function(){return tn(t),nn(Ee(2).stopHunt())}),ee(31,"Run"),N()()()}if(2&n){const t=Ee().$implicit,r=Ee();U(4),j("ngClass",Dc(12,Q_,"pokeball"===r.selectedBall)),U(3),Po(t.inventory.pokeball),U(1),j("ngClass",Dc(14,Q_,"superball"===r.selectedBall)),U(3),Po(t.inventory.superball),U(1),j("ngClass",Dc(16,Q_,"ultraball"===r.selectedBall)),U(3),Po(t.inventory.ultraball),U(1),j("ngClass",Dc(18,Q_,"masterball"===r.selectedBall)),U(3),Po(t.inventory.masterball),U(4),Wi("",r.ballsStats[r.selectedBall].catchrate,"%"),U(2),Wi("Next ball: ",r.cooldownTexts[r.selectedBall],""),U(3),j("disabled",r.capturing||0===t.inventory[r.selectedBall]),U(2),j("disabled",r.capturing)}}function f_e(n,e){if(1&n&&(k(0,"div",1)(1,"h1"),ee(2,"Hunt"),N(),k(3,"div",2),me(4,"img",3),pe(5,c_e,4,3,"div",4),N(),pe(6,l_e,2,1,"p",5),pe(7,d_e,8,3,"div",6),pe(8,h_e,32,20,"div",7),N()),2&n){const t=Ee();U(4),Du("src",t.background_url,fi),U(1),j("ngIf",t.huntStarted),U(1),j("ngIf",t.huntStarted),U(1),j("ngIf",!t.huntStarted),U(1),j("ngIf",t.huntStarted)}}class ef{constructor(e){this.huntService=e,this.huntStarted=!1,this.ballsStats=Fh,this.cooldownTexts={pokeball:"",superball:"",ultraball:"",masterball:"",energy:""},this.selectedBall="pokeball",this.pokemonLog="",this.capturing=!1,this.captured=!1,this.background_url="../../../assets/background/base.png",this.profile$=this.huntService.getProfile(),this.updateCooldown()}selectRandomBackground(){const e=["base","beach","forest","hill","path","town"],t=e[Math.floor(Math.random()*e.length)];this.background_url=`../../../assets/background/${t}.png`}selectBall(e){this.selectedBall=e}startHunt(){this.profile$.pipe(jt(1)).subscribe(e=>{!e||e.energy>=1&&this.huntService.getRandomPokemon().subscribe(r=>{this.huntStarted=!0,this.currentPkmn=r,this.pokemonLog=`A wild ${this.currentPkmn.name} appeared !`,!e.encountered.includes(this.currentPkmn.pokedexId)&&e.encountered.push(this.currentPkmn.pokedexId),10===e.energy&&(e.cooldown.energy=cs(300)),e.energy-=1,this.huntService.updateHuntStart(e)})})}stopHunt(){this.huntStarted=!this.huntStarted,this.currentPkmn=void 0,this.capturing=!1,this.captured=!1,this.selectRandomBackground()}capture(){this.capturing=!0;const e=Math.random()<=this.ballsStats[this.selectedBall].catchrate/100,t=Math.random()<=.25;this.profile$.pipe(jt(1)).subscribe(r=>{!r||(r.inventory[this.selectedBall]-=1,e&&r.captured.push(this.currentPkmn?.pokedexId),this.huntService.updateCapture(r))}),setTimeout(()=>{e?(this.pokemonLog=`${this.currentPkmn?.name} has been captured !`,this.captured=!0,setTimeout(()=>this.stopHunt(),2e3)):(this.pokemonLog=`${this.currentPkmn?.name} broke free !`,t?setTimeout(()=>{this.pokemonLog=`${this.currentPkmn?.name} escaped !`,setTimeout(()=>this.stopHunt(),2e3)},2e3):this.capturing=!1)},3e3*Math.random()+1e3)}updateCooldown(){setInterval(()=>{this.profile$.subscribe(e=>{if(e){["pokeball","superball","ultraball","masterball"].forEach(r=>{let i=RH(e.cooldown[r]);if(i<0){for(;i<0;)i+=60*this.ballsStats[r].cooldown,e.inventory[r]+=1;e.cooldown[r]=cs(i),this.huntService.updatePokeballsAndCooldowns(e)}this.cooldownTexts[r]=NH(i)});let t=RH(e.cooldown.energy);if(t<0){for(;t<0;)t+=300,e.energy<10&&(e.energy+=1);e.cooldown.energy=cs(t),this.huntService.updateHuntStart(e)}this.cooldownTexts.energy=NH(t)}})},1e3)}}ef.\u0275fac=function(e){return new(e||ef)(E(Oa))},ef.\u0275cmp=wt({type:ef,selectors:[["poke-app-hunt"]],standalone:!0,features:[Jn],decls:2,vars:3,consts:[["class","hunt-page",4,"ngIf"],[1,"hunt-page"],[1,"pokemon-scene"],["id","pokemon-background","alt","",1,"pokemon-div",3,"src"],[4,"ngIf"],["class","pokemon-log",4,"ngIf"],["class","start-hunt-panel",4,"ngIf"],["class","hunt-panel",4,"ngIf"],["class","pokemon","alt","",3,"src",4,"ngIf"],["class","pokeball-animation","alt","pokeball",3,"src",4,"ngIf"],["class","pokemon-captured","alt","pokeball",3,"src",4,"ngIf"],["alt","",1,"pokemon",3,"src"],["alt","pokeball",1,"pokeball-animation",3,"src"],["alt","pokeball",1,"pokemon-captured",3,"src"],[1,"pokemon-log"],[1,"start-hunt-panel"],["mat-raised-button","",1,"btn",3,"disabled","click"],[1,"energy"],["src","../../../assets/lightning.png","alt",""],[1,"hunt-panel"],[1,"balls"],["id","pokeball",3,"ngClass","click"],["src","../../../assets/pokeballs/pokeball.png","alt","pokeball"],["id","superball",3,"ngClass","click"],["src","../../../assets/pokeballs/superball.png","alt","superball"],["id","ultraball",3,"ngClass","click"],["src","../../../assets/pokeballs/ultraball.png","alt","ultraball"],["id","masterball",3,"ngClass","click"],["src","../../../assets/pokeballs/masterball.png","alt","masterball"],[1,"btn-panel"]],template:function(e,t){1&e&&(pe(0,f_e,9,5,"div",0),Sc(1,"async")),2&e&&j("ngIf",Ac(1,1,t.profile$))},dependencies:[Vn,m0,Jr,qu,G_,z_],styles:[".hunt-page[_ngcontent-%COMP%]{display:flex;flex-flow:column;color:#fff;justify-content:flex-start;align-items:center}.pokemon-scene[_ngcontent-%COMP%]{display:flex;object-fit:contain;height:300px}.pokemon-div[_ngcontent-%COMP%]{height:300px;object-fit:contain;margin-bottom:20px}.pokemon[_ngcontent-%COMP%]{position:absolute;z-index:1000;height:175px;left:50%;transform:translate(-50%);margin-top:75px}.pokeball-animation[_ngcontent-%COMP%]{position:absolute;z-index:1000;height:50px;left:calc(50% - 25px);margin-top:190px;animation-duration:3s;animation-fill-mode:both;transform-origin:bottom center;animation-name:_ngcontent-%COMP%_swing}.pokemon-captured[_ngcontent-%COMP%]{position:absolute;z-index:1000;height:50px;left:calc(50% - 25px);margin-top:190px;filter:brightness(50%)}.pokemon-log[_ngcontent-%COMP%]{margin-top:40px;font-size:26px}.start-hunt-panel[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:flex-start;align-items:center}.btn[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #5F021F;--mdc-protected-button-label-text-color: white;border:solid black 1px;color:#fff;border-radius:25px;width:150px;margin:10px;padding:10px;box-shadow:0 2px 5px #000}.energy[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-flow:row}.energy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;margin:5px}.balls[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between;align-items:center}.balls[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.balls[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 20px;padding:5px;width:50px;height:50px;cursor:pointer}.balls[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;background-color:#5f021f;padding:5px;min-width:20px;text-align:center;border-radius:30px;float:right;transform:translate(15px,-20px)}.selected[_ngcontent-%COMP%]{background-color:#fff;border-radius:40px}.btn-panel[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:center}@keyframes _ngcontent-%COMP%_swing{20%{transform:rotate(15deg)}40%{transform:rotate(-10deg)}60%{transform:rotate(5deg)}80%{transform:rotate(-5deg)}to{transform:rotate(0)}}"]});class Hl{constructor(e,t){this.httpService=e,this.huntService=t}getPokemonsList(e,t,r,i){return this.huntService.getProfile().subscribe(o=>{this.encountered=o?.encountered,this.captured=o?.captured}),this.httpService.get(e,{headers:{Accept:"application/json"}}).pipe(Q(o=>({pokemons:o.map(s=>({id:s.id,name:s.name,image_url:s.image,types:s.apiTypes.map(a=>a.image)})).filter(s=>s.name.normalize("NFD").replace(" ","").replace(/[\u0300-\u036f]/g,"").toLowerCase().includes(t.normalize("NFD").replace(" ","").replace(/[\u0300-\u036f]/g,"").toLowerCase())).filter(s=>this.captured?.includes(parseInt(s.id))||!r).filter(s=>this.encountered?.includes(parseInt(s.id))||!i)})))}getTypeList(){return this.httpService.get("https://pokebuildapi.fr/api/v1/types",{headers:{Accept:"application/json"}}).pipe(Q(e=>({types:e.map(t=>({id:t.id,name:t.name,image:t.image,englishName:t.englishName}))})))}}Hl.\u0275fac=function(e){return new(e||Hl)(C(Zh),C(Oa))},Hl.\u0275prov=P({token:Hl,factory:Hl.\u0275fac,providedIn:"root"});let v_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({imports:[Lr,Lr]}),n})();function b_e(n,e){if(1&n&&(k(0,"div",1)(1,"div",2),me(2,"img",3),k(3,"div",4)(4,"h1")(5,"b"),ee(6),N()(),me(7,"img",5)(8,"img",5),N()()()),2&n){const t=Ee();U(2),j("src",t.pokemon.image_url,fi),U(4),Po(t.pokemon.name),U(1),j("src",t.pokemon.types[0],fi),U(1),j("src",t.pokemon.types[1],fi)}}class nf{constructor(){this.pokemon=null,this.isFavorite=new qe}setFavorite(){this.isFavorite.emit(this.pokemon)}}function w_e(n,e){if(1&n){const t=Wr();k(0,"poke-app-pokemon-detail",1),ke("isFavorite",function(i){return tn(t),nn(Ee().setFavoritePokemon(i))}),N()}2&n&&j("pokemon",e.$implicit)}nf.\u0275fac=function(e){return new(e||nf)},nf.\u0275cmp=wt({type:nf,selectors:[["poke-app-pokemon-detail"]],inputs:{pokemon:"pokemon"},outputs:{isFavorite:"isFavorite"},standalone:!0,features:[Jn],decls:1,vars:1,consts:[["class","pokemon-details","style","margin-top: 50px; margin-right: 10%",4,"ngIf"],[1,"pokemon-details",2,"margin-top","50px","margin-right","10%"],[1,"card"],[1,"poke_image",3,"src"],[1,"container"],[2,"width","25%",3,"src"]],template:function(e,t){1&e&&pe(0,b_e,9,4,"div",0),2&e&&j("ngIf",t.pokemon)},dependencies:[Vn,Jr,v_e],styles:[".pokemon-detail[_ngcontent-%COMP%]{padding:2rem;display:flex;align-content:stretch;justify-content:space-between}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:gray}.card[_ngcontent-%COMP%]{display:flex}.poke_image[_ngcontent-%COMP%]{width:40%;height:40%}.container[_ngcontent-%COMP%]{width:100%}"]});class rf{constructor(){this.pokemons=[],this.favorite=new qe}setFavoritePokemon(e){this.favorite.emit(e)}}function E_e(n,e){if(1&n){const t=Wr();k(0,"div")(1,"button",16),ke("click",function(){const o=tn(t).$implicit;return nn(Ee(2).toggleButton(o.name))}),ee(2),me(3,"img",17),N()()}if(2&n){const t=e.$implicit;U(1),Ec("id","type",t.name,""),U(1),Wi(" ",t.name," "),U(1),Du("src",t.image,fi)}}function I_e(n,e){if(1&n){const t=Wr();k(0,"div",8)(1,"h2"),ee(2,"Choisissez les types ( 2 maximum )"),N(),k(3,"div",9),pe(4,E_e,4,3,"div",10),N(),k(5,"div",11)(6,"div",12),ee(7,"Cacher les Pokemon non captur\xe9 "),k(8,"label",13)(9,"input",6),ke("click",function(){return tn(t),nn(Ee().toggleNotOwned())}),N(),me(10,"span",14),N()(),k(11,"div",15),ee(12,"Cachez les Pokemon non rencontr\xe9 "),k(13,"label",13)(14,"input",6),ke("click",function(){return tn(t),nn(Ee().toggleUnknown())}),N(),me(15,"span",14),N()()()()}if(2&n){const t=Ee();U(4),j("ngForOf",t.types)}}rf.\u0275fac=function(e){return new(e||rf)},rf.\u0275cmp=wt({type:rf,selectors:[["poke-app-pokemons-list"]],inputs:{pokemons:"pokemons",criteria:"criteria"},outputs:{favorite:"favorite"},standalone:!0,features:[Jn],decls:1,vars:1,consts:[["style","width:50%",3,"pokemon","isFavorite",4,"ngFor","ngForOf"],[2,"width","50%",3,"pokemon","isFavorite"]],template:function(e,t){1&e&&pe(0,w_e,1,1,"poke-app-pokemon-detail",0),2&e&&j("ngForOf",t.pokemons)},dependencies:[Vn,g0,nf]});class sf{constructor(){this.types=null,this.search=new qe,this.type_selected=0,this.selected_types=[],this.isShown=!1,this.hideNotOwned=!1,this.hideUnknown=!1}refreshSearch(e){this.search.emit({search:e,selectedTypes:this.selected_types,hideNotOwned:this.hideNotOwned,hideUnknown:this.hideUnknown})}toggleButton(e){const t=document.getElementById(`type${e}`);if("type-unselected"==t.className)this.type_selected<2&&(t.className="type-selected",this.type_selected+=1,this.selected_types.push(e));else{t.className="type-unselected",this.type_selected-=1;const r=this.selected_types.indexOf(e,0);r>-1&&this.selected_types.splice(r,1)}console.log(this.selected_types)}toggleShow(){this.type_selected=0,this.selected_types=[],this.isShown=!this.isShown,this.hideNotOwned=!1,this.hideUnknown=!1}toggleNotOwned(){this.hideNotOwned=!this.hideNotOwned}toggleUnknown(){this.hideUnknown=!this.hideUnknown}}function x_e(n,e){if(1&n){const t=Wr();k(0,"div")(1,"div",1)(2,"poke-app-pokedex-search",2),ke("search",function(i){return tn(t),nn(Ee().newSearch(i))}),N()()()}if(2&n){const t=e.$implicit;U(2),j("types",t.types)}}function C_e(n,e){1&n&&me(0,"div")}function T_e(n,e){if(1&n){const t=Wr();k(0,"div")(1,"div",3)(2,"poke-app-pokemons-list",4),ke("favorite",function(i){return tn(t),nn(Ee().setFavoritePokemon(i))}),N()(),pe(3,C_e,1,0,"div",0),N()}if(2&n){const t=e.$implicit,r=Ee();U(2),j("pokemons",t.pokemons)("criteria",r.searchCriteria),U(1),j("ngIf",r.favoritePokemon)}}sf.\u0275fac=function(e){return new(e||sf)},sf.\u0275cmp=wt({type:sf,selectors:[["poke-app-pokedex-search"]],inputs:{types:"types"},outputs:{search:"search"},standalone:!0,features:[Jn],decls:9,vars:1,consts:[[1,"wrap"],[1,"search"],["type","text","id","searchQuerry","placeholder","Rechercher un Pokemon",1,"searchTerm"],["searchQuerry",""],["type","submit",1,"searchButton",3,"click"],[1,"fa","fa-search"],["type","checkbox",3,"click"],["class","filter_list",4,"ngIf"],[1,"filter_list"],[1,"type_container"],[4,"ngFor","ngForOf"],[1,"encounteredfilter"],[1,"hide_known","switch_filter"],[1,"switch"],[1,"slider","round"],[1,"hide_unknown","switch_filter"],[1,"type-unselected",3,"id","click"],[1,"type_image",3,"src"]],template:function(e,t){if(1&e){const r=Wr();k(0,"div",0)(1,"div",1),me(2,"input",2,3),k(4,"button",4),ke("click",function(){tn(r);const o=bp(3);return nn(t.refreshSearch(o.value))}),me(5,"i",5),N(),k(6,"button",6),ke("click",function(){return t.toggleShow()}),ee(7,"Filtres"),N()()(),pe(8,I_e,16,1,"div",7)}2&e&&(U(8),j("ngIf",t.isShown))},dependencies:[Vn,g0,Jr],styles:['body[_ngcontent-%COMP%]{background:#f2f2f2;font-family:Open Sans,sans-serif}.search[_ngcontent-%COMP%]{width:100%;position:relative;display:flex}.searchTerm[_ngcontent-%COMP%]{width:100%;border:3px solid #00b4cc;border-right:none;padding:5px;height:20px;border-radius:5px 0 0 5px;outline:none;color:#9dbfaf}.searchTerm[_ngcontent-%COMP%]:focus{color:#00b4cc}.searchButton[_ngcontent-%COMP%]{width:40px;height:36px;border:1px solid #00b4cc;background:#00b4cc;text-align:center;color:#fff;border-radius:0 5px 5px 0;cursor:pointer;font-size:20px}.wrap[_ngcontent-%COMP%]{width:40%;margin:auto}.filter_list[_ngcontent-%COMP%]{width:70%;background-color:#9b6e7c;flex-direction:column;justify-content:center;margin:auto}.type-selected[_ngcontent-%COMP%]{background-color:gray}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.switch[_ngcontent-%COMP%]{margin:auto}.type_container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;overflow:scroll;height:20rem}.type_image[_ngcontent-%COMP%]{width:50px}.type-selected[_ngcontent-%COMP%], .type-unselected[_ngcontent-%COMP%]{width:20rem}.encounteredfilter[_ngcontent-%COMP%]{display:flex;flex-direction:row}.switch_filter[_ngcontent-%COMP%]{width:50%}']});class af{constructor(e){this.pokemonsServices=e,this.favoritePokemon="",this.searchCriteria={search:"",selectedTypes:[],hideNotOwned:!1,hideUnknown:!1},this.model$=e.getPokemonsList(this.buildUrlByFilters([]),this.searchCriteria.search,this.searchCriteria.hideNotOwned,this.searchCriteria.hideUnknown),this.types_model$=e.getTypeList()}setFavoritePokemon(e){this.favoritePokemon=e.name}buildUrlByFilters(e){let t;return 0==e.length?"https://pokebuildapi.fr/api/v1/pokemon":(t=e.length>1?`s/${e[0]}/${e[1]}`:`/${e[0]}`,`https://pokebuildapi.fr/api/v1/pokemon/type${t}`)}newSearch(e){this.searchCriteria=e,this.model$=this.pokemonsServices.getPokemonsList(this.buildUrlByFilters(this.searchCriteria.selectedTypes),this.searchCriteria.search,this.searchCriteria.hideNotOwned,this.searchCriteria.hideUnknown)}}function D_e(n,e){if(1&n){const t=Wr();k(0,"button",1),ke("click",function(){return tn(t),nn(Ee().logout())}),ee(1,"LOGOUT"),N()}}af.\u0275fac=function(e){return new(e||af)(E(Hl))},af.\u0275cmp=wt({type:af,selectors:[["poke-app-pokedex-page"]],standalone:!0,features:[Jn],decls:4,vars:6,consts:[[4,"ngIf"],[1,"search"],[3,"types","search"],["id","flex-container"],[1,"pokemons-list",3,"pokemons","criteria","favorite"]],template:function(e,t){1&e&&(pe(0,x_e,3,1,"div",0),Sc(1,"async"),pe(2,T_e,4,3,"div",0),Sc(3,"async")),2&e&&(j("ngIf",Ac(1,2,t.types_model$)),U(2),j("ngIf",Ac(3,4,t.model$)))},dependencies:[Vn,Jr,qu,rf,sf],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;background-color:#1e90ff}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#f1f1f1;width:100px;margin:10px;text-align:center;line-height:75px;font-size:30px}.pokemons-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:80%;text-align:center;margin:auto}"]});class cf{constructor(e){this.auth=e,this.isLoggedIn$=this.auth.isLoggedIn$}logout(){this.auth.signOut()}}function S_e(n,e){1&n&&(k(0,"mat-error"),ee(1,"Field must be an email"),N())}function A_e(n,e){1&n&&(k(0,"mat-error"),ee(1,"Email is required"),N())}cf.\u0275fac=function(e){return new(e||cf)(E(Fr))},cf.\u0275cmp=wt({type:cf,selectors:[["poke-app-profile"]],standalone:!0,features:[Jn],decls:4,vars:3,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(k(0,"p"),ee(1,"PROFILE PAGE"),N(),pe(2,D_e,2,0,"button",0),Sc(3,"async")),2&e&&(U(2),j("ngIf",Ac(3,1,t.isLoggedIn$)))},dependencies:[Vn,Jr,qu]});class lf{constructor(e,t){this.formBuilder=e,this.auth=t,this.registerForm=this.formBuilder.group({username:new ii("",bo.required),email:new ii("",[bo.required,bo.email]),password:new ii("",bo.required),confirmPassword:new ii("",bo.required)},{validator:this.checkIfMatchingPasswords("password","confirmPassword")})}checkIfMatchingPasswords(e,t){return r=>{const o=r.controls[t];return o.setErrors(r.controls[e].value!==o.value?{notEquivalent:!0}:null)}}get email(){return this.registerForm.get("email")}doRegister(){const{username:e,email:t,password:r}=this.registerForm.value;this.auth.register(e||"",t||"",r||"")}}function M_e(n,e){1&n&&(k(0,"mat-error"),ee(1,"Login must be an email"),N())}function k_e(n,e){1&n&&(k(0,"mat-error"),ee(1,"Login is required"),N())}lf.\u0275fac=function(e){return new(e||lf)(E(u3),E(Fr))},lf.\u0275cmp=wt({type:lf,selectors:[["poke-app-signin-page"]],standalone:!0,features:[Jn],decls:39,vars:4,consts:[[1,"register-page"],[1,"register-form"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","username"],["matInput","","formControlName","email"],[4,"ngIf"],["matInput","","type","password","formControlName","password"],["matInput","","type","password","formControlName","confirmPassword"],[1,"buttonDiv"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,t){1&e&&(k(0,"div",0),me(1,"poke-app-header"),k(2,"h2"),ee(3,"Sign-in"),N(),k(4,"div",1)(5,"mat-card")(6,"mat-card-content")(7,"form",2),ke("ngSubmit",function(){return t.doRegister()}),k(8,"div")(9,"mat-form-field")(10,"mat-label"),ee(11,"Username"),N(),me(12,"input",3),k(13,"mat-error"),ee(14,"Email is required"),N()()(),k(15,"div")(16,"mat-form-field")(17,"mat-label"),ee(18,"Email"),N(),me(19,"input",4),pe(20,S_e,2,0,"mat-error",5),pe(21,A_e,2,0,"mat-error",5),N()(),k(22,"div")(23,"mat-form-field")(24,"mat-label"),ee(25,"Password"),N(),me(26,"input",6),k(27,"mat-error"),ee(28,"Password is required"),N()()(),k(29,"div")(30,"mat-form-field")(31,"mat-label"),ee(32,"Confirm password"),N(),me(33,"input",7),k(34,"mat-error"),ee(35,"Passwords don't match"),N()()(),k(36,"div",8)(37,"button",9),ee(38,"Sign-in"),N()()()()()()()),2&e&&(U(7),j("formGroup",t.registerForm),U(13),j("ngIf",null==t.email||null==t.email.errors?null:t.email.errors.email),U(1),j("ngIf",null==t.email||null==t.email.errors?null:t.email.errors.required),U(16),j("disabled",!t.registerForm.valid))},dependencies:[Vn,Jr,kS,AS,MS,nA,M3,S3,j_,_3,G_,z_,eA,WS,Hh,PS,FS,Bl,B_,Na],styles:["mat-card[_ngcontent-%COMP%]{background-color:#5f021f33}.register-page[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;flex-flow:column;align-items:center}"]});class uf{constructor(e,t){this.formBuilder=e,this.auth=t,this.loginForm=this.formBuilder.group({login:new ii("",[bo.required,bo.email]),password:new ii("",bo.required)})}get login(){return this.loginForm.get("login")}doLogin(){const{login:e,password:t}=this.loginForm.value;this.auth.signIn(e||"",t||"")}}uf.\u0275fac=function(e){return new(e||uf)(E(u3),E(Fr))},uf.\u0275cmp=wt({type:uf,selectors:[["poke-app-login-page"]],standalone:!0,features:[Jn],decls:25,vars:4,consts:[[1,"login-page"],[1,"login-form"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","login"],[4,"ngIf"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(e,t){1&e&&(k(0,"div",0),me(1,"poke-app-header"),k(2,"h2"),ee(3,"Login"),N(),k(4,"div",1)(5,"mat-card")(6,"mat-card-content")(7,"form",2),ke("ngSubmit",function(){return t.doLogin()}),k(8,"div")(9,"mat-form-field")(10,"mat-label"),ee(11,"Login"),N(),me(12,"input",3),pe(13,M_e,2,0,"mat-error",4),pe(14,k_e,2,0,"mat-error",4),N()(),k(15,"div")(16,"mat-form-field")(17,"mat-label"),ee(18,"Password"),N(),me(19,"input",5),k(20,"mat-error"),ee(21,"Password is required"),N()()(),k(22,"div")(23,"button",6),ee(24,"Login"),N()()()()()()()),2&e&&(U(7),j("formGroup",t.loginForm),U(6),j("ngIf",null==t.login||null==t.login.errors?null:t.login.errors.email),U(1),j("ngIf",null==t.login||null==t.login.errors?null:t.login.errors.required),U(9),j("disabled",!t.loginForm.valid))},dependencies:[Vn,Jr,kS,AS,MS,nA,M3,S3,j_,_3,G_,z_,eA,WS,Hh,PS,FS,Bl,B_,Na],styles:["mat-card[_ngcontent-%COMP%]{background-color:#5f021f33}.login-page[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;flex-flow:column;align-items:center}"]});class fs{constructor(e){this.authService=e}canActivate(){return this.authService.isLoggedIn$.pipe(Q(e=>!e))}}fs.\u0275fac=function(e){return new(e||fs)(C(Fr))},fs.\u0275prov=P({token:fs,factory:fs.\u0275fac,providedIn:"root"});class xo{constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.authService.isLoggedIn$.pipe(_t(e=>{e||this.router.navigateByUrl("")}))}}xo.\u0275fac=function(e){return new(e||xo)(C(Fr),C(Bn))},xo.\u0275prov=P({token:xo,factory:xo.\u0275fac,providedIn:"root"});const R_e=[{path:"",component:$l,canActivate:[fs]},{path:"home",component:$l,canActivate:[xo]},{path:"pokedex",component:af,canActivate:[xo]},{path:"play",component:ef,canActivate:[xo]},{path:"profile",component:cf,canActivate:[xo]},{path:"register",component:lf,canActivate:[fs]},{path:"login",component:uf,canActivate:[fs]},{path:"**",redirectTo:""}];function X3(n){return new x(3e3,!1)}function fye(){return typeof window<"u"&&typeof window.document<"u"}function lA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ps(n){switch(n.length){case 0:return new Yh;case 1:return n[0];default:return new p3(n)}}function Z3(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let c=-1,l=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==c,f=h&&l||new Map;u.forEach((p,m)=>{let _=m,y=p;if("offset"!==m)switch(_=e.normalizePropertyName(_,s),y){case"!":y=i.get(m);break;case Eo:y=o.get(m);break;default:y=e.normalizeStyleValue(m,_,y,s)}f.set(_,y)}),h||a.push(f),l=f,c=d}),s.length)throw function tye(n){return new x(3502,!1)}();return a}function uA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dA(t,"destroy",n)))}}function dA(n,e,t){const o=hA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function hA(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ir(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function J3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fA=(n,e)=>!1,eG=(n,e,t)=>[],tG=null;function pA(n){const e=n.parentNode||n.host;return e===tG?null:e}(lA()||typeof Element<"u")&&(fye()?(tG=(()=>document.documentElement)(),fA=(n,e)=>{for(;e;){if(e===n)return!0;e=pA(e)}return!1}):fA=(n,e)=>n.contains(e),eG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Fa=null,nG=!1;const rG=fA,iG=eG;let oG=(()=>{class n{validateStyleProperty(t){return function mye(n){Fa||(Fa=function gye(){return typeof document<"u"?document.body:null}()||{},nG=!!Fa.style&&"WebkitAppearance"in Fa.style);let e=!0;return Fa.style&&!function pye(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Fa.style,!e&&nG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fa.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return rG(t,r)}getParentElement(t){return pA(t)}query(t,r,i){return iG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Yh(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),mA=(()=>{class n{}return n.NOOP=new oG,n})();const gA="ng-enter",Z_="ng-leave",J_="ng-trigger",ey=".ng-trigger",aG="ng-animating",_A=".ng-animating";function Co(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yA(parseFloat(e[1]),e[2])}function yA(n,e){return"s"===e?1e3*n:n}function ty(n,e,t){return n.hasOwnProperty("duration")?n:function vye(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(X3()),{duration:0,delay:0,easing:""};i=yA(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=yA(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function N_e(){return new x(3100,!1)}()),a=!0),o<0&&(e.push(function O_e(){return new x(3101,!1)}()),a=!0),a&&e.splice(c,0,X3())}return{duration:i,delay:o,easing:s}}(n,e,t)}function df(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function cG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ms(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function uG(n,e,t){return t?e+":"+t+";":""}function dG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=uG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=uG(0,Iye(t),n.style[t]));n.setAttribute("style",e)}function Ni(n,e,t){n.style&&(e.forEach((r,i)=>{const o=bA(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),lA()&&dG(n))}function La(n,e){n.style&&(e.forEach((t,r)=>{const i=bA(r);n.style[i]=""}),lA()&&dG(n))}function hf(n){return Array.isArray(n)?1==n.length?n[0]:h3(n):n}const vA=new RegExp("{{\\s*(.+?)\\s*}}","g");function hG(n){let e=[];if("string"==typeof n){let t;for(;t=vA.exec(n);)e.push(t[1]);vA.lastIndex=0}return e}function ff(n,e,t){const r=n.toString(),i=r.replace(vA,(o,s)=>{let a=e[s];return null==a&&(t.push(function F_e(n){return new x(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function ny(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Eye=/-+([a-z0-9])/g;function bA(n){return n.replace(Eye,(...e)=>e[1].toUpperCase())}function Iye(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function L_e(n){return new x(3004,!1)}()}}function fG(n,e){return window.getComputedStyle(n)[e]}function Aye(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Mye(n,e,t){if(":"==n[0]){const c=function kye(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function X_e(n){return new x(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Y_e(n){return new x(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(pG(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(pG(s,i))}(r,t,e)):t.push(n),t}const sy=new Set(["true","1"]),ay=new Set(["false","0"]);function pG(n,e){const t=sy.has(n)||ay.has(n),r=sy.has(e)||ay.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?sy.has(n):ay.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?sy.has(e):ay.has(e)),s&&a}}const Rye=new RegExp("s*:selfs*,?","g");function wA(n,e,t,r){return new Nye(n).build(e,t,r)}class Nye{constructor(e){this._driver=e}build(e,t,r){const i=new Fye(t);return this._resetContextStyleTimingState(i),xr(this,hf(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function U_e(){return new x(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(function B_e(){return new x(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{hG(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(ny(o.values()),t.errors.push(function $_e(n,e){return new x(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=xr(this,hf(e.animation),t);return{type:1,matchers:Aye(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Va(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>xr(this,r,t)),options:Va(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=xr(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Va(e.options)}}visitAnimate(e,t){const r=function Vye(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return EA(ty(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=EA(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=ty(t,e);return EA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:$_({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=$_(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Eo?r.push(a):t.errors.push(new x(3002,!1)):r.push(cG(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function H_e(n,e,t,r,i){return new x(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&function wye(n,e,t){const r=e.params||{},i=hG(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function P_e(n){return new x(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function z_e(){return new x(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(y=>{const I=this._makeStyleAst(y,t);let v=null!=I.offset?I.offset:function Lye(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),T=0;return null!=v&&(o++,T=I.offset=v),c=c||T<0||T>1,a=a||T<l,l=T,s.push(T),I});c&&t.errors.push(function G_e(){return new x(3012,!1)}()),a&&t.errors.push(function q_e(){return new x(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function W_e(){return new x(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,_=m.duration;return u.forEach((y,I)=>{const v=h>0?I==f?1:h*I:s[I],T=v*_;t.currentTime=p+m.delay+T,m.duration=T,this._validateStyleAst(y,t),y.offset=v,r.styles.push(y)}),r}visitReference(e,t){return{type:8,animation:xr(this,hf(e.animation),t),options:Va(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Va(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Va(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Oye(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Rye,"")),n=n.replace(/@\*/g,ey).replace(/@\w+/g,t=>ey+"-"+t.slice(1)).replace(/:animating/g,_A),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Ir(t.collectedStyles,t.currentQuerySelector,new Map);const a=xr(this,hf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Va(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function K_e(){return new x(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ty(e.timings,t.errors,!0);return{type:12,animation:xr(this,hf(e.animation),t),timings:r,options:null}}}class Fye{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Va(n){return n?(n=df(n)).params&&(n.params=function Pye(n){return n?df(n):null}(n.params)):n={},n}function EA(n,e,t){return{duration:n,delay:e,easing:t}}function IA(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class cy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $ye=new RegExp(":enter","g"),Hye=new RegExp(":leave","g");function xA(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return(new zye).buildKeyframes(n,e,t,r,i,o,s,a,c,l)}class zye{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new cy;const d=new CA(e,t,l,i,o,u,[]);d.options=c;const h=c.delay?Co(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),xr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const _=f[m];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[IA(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:Co(ff(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Co(r.duration):null,a=null!=r.delay?Co(r.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),xr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ly);const s=Co(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>xr(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Co(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),xr(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ty(t.params?ff(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Co(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ly);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),xr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;xr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const ly={};class CA{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ly,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new uy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Co(r.duration)),null!=r.delay&&(i.delay=Co(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=ff(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new CA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ly,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Gye(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace($ye,"."+this._enterClassName)).replace(Hye,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function Q_e(n){return new x(3014,!1)}()),a}}class uy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new uy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Eo),this._currentKeyframe.set(t,Eo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function qye(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Eo)}else ms(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=ff(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Eo),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=ms(a,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?e.add(d):u===Eo&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const o=e.size?ny(e.values()):[],s=t.size?ny(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return IA(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class Gye extends uy{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,c=ms(e[0]);c.set("offset",0),o.push(c);const l=ms(e[0]);l.set("offset",_G(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=ms(e[d]);const f=h.get("offset");h.set("offset",_G((t+f*r)/s)),o.push(h)}r=s,t=0,i="",e=o}return IA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function _G(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class TA{}const Wye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kye extends TA{normalizePropertyName(e,t){return bA(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(Wye.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function V_e(n,e){return new x(3005,!1)}())}return s+o}}function yG(n,e,t,r,i,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const DA={};class vG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Qye(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||DA,p=this.buildStyles(r,a&&a.params||DA,d),m=c&&c.params||DA,_=this.buildStyles(i,m,d),y=new Set,I=new Map,v=new Map,T="void"===i,$={params:Yye(m,h),delay:this.ast.options?.delay},V=u?[]:xA(e,t,this.ast.animation,o,s,p,_,$,l,d);let _e=0;if(V.forEach(_n=>{_e=Math.max(_n.duration+_n.delay,_e)}),d.length)return yG(t,this._triggerName,r,i,T,p,_,[],[],I,v,_e,d);V.forEach(_n=>{const ai=_n.element,vq=Ir(I,ai,new Set);_n.preStyleProps.forEach(Ba=>vq.add(Ba));const bf=Ir(v,ai,new Set);_n.postStyleProps.forEach(Ba=>bf.add(Ba)),ai!==t&&y.add(ai)});const ft=ny(y.values());return yG(t,this._triggerName,r,i,T,p,_,V,ft,I,v,_e)}}function Yye(n,e){const t=df(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Xye{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=df(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=ff(s,i,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}}class Jye{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Xye(i.style,i.options&&i.options.params||{},r))}),bG(this.states,"true","1"),bG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new vG(e,i,this.states))}),this.fallbackTransition=function eve(n,e,t){return new vG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function bG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const tve=new cy;class nve{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=wA(this._driver,t,r,[]);if(r.length)throw function nye(n){return new x(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=Z3(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=xA(this._driver,t,o,gA,Z_,new Map,new Map,r,tve,i),s.forEach(u=>{const d=Ir(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function rye(){return new x(3300,!1)}()),s=[]),i.length)throw function iye(n){return new x(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Eo))})});const l=ps(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function oye(n){return new x(3301,!1)}();return t}listen(e,t,r,i){const o=hA(t,"","","");return uA(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const wG="ng-animate-queued",SA="ng-animate-disabled",ave=[],EG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cve={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vr="__ng_removed";class AA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function hve(n){return n??null}(r?e.value:e),r){const o=df(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const pf="void",MA=new AA(pf);class lve{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ur(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function sye(n,e){return new x(3302,!1)}();if(null==r||0==r.length)throw function aye(n){return new x(3303,!1)}();if(!function fve(n){return"start"==n||"done"==n}(r))throw function cye(n,e){return new x(3400,!1)}();const o=Ir(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=Ir(this._engine.statesByElement,e,new Map);return a.has(t)||(Ur(e,J_),Ur(e,J_+"-"+t),a.set(t,MA)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function lye(n){return new x(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new kA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ur(e,J_),Ur(e,J_+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new AA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=MA),l.value!==pf&&c.value===l.value){if(!function gve(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const m=[],_=o.matchStyles(c.value,c.params,m),y=o.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{La(e,_),Ni(e,y)})}return}const h=Ir(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:p}),p||(Ur(e,wG),s.onStart(()=>{zl(e,wG)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const _=this._engine.playersByElement.get(e);if(_){let y=_.indexOf(s);y>=0&&_.splice(y,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ey,!0);r.forEach(i=>{if(i[Vr])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,pf,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&ps(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||MA,u=new AA(pf),d=new kA(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Vr];(!o||o===EG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ur(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=hA(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,uA(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class uve{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new lve(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(dy(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!dy(t))return;const o=t[Vr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ur(e,SA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zl(e,SA))}removeNode(e,t,r,i){if(dy(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Vr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return dy(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ey,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_A,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ps(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Vr];if(t&&t.setForRemoval){if(e[Vr]=EG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(SA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ur(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ps(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function uye(n){return new x(3402,!1)}()}_flushAnimations(e,t){const r=new cy,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(W=>{u.add(W);const J=this.driver.query(W,".ng-animate-queued",!0);for(let oe=0;oe<J.length;oe++)u.add(J[oe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=CG(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((W,J)=>{const oe=gA+m++;p.set(J,oe),W.forEach(Re=>Ur(Re,oe))});const _=[],y=new Set,I=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const J=this.collectedLeaveElements[W],oe=J[Vr];oe&&oe.setForRemoval&&(_.push(J),y.add(J),oe.hasAnimation?this.driver.query(J,".ng-star-inserted",!0).forEach(Re=>y.add(Re)):I.add(J))}const v=new Map,T=CG(h,Array.from(y));T.forEach((W,J)=>{const oe=Z_+m++;v.set(J,oe),W.forEach(Re=>Ur(Re,oe))}),e.push(()=>{f.forEach((W,J)=>{const oe=p.get(J);W.forEach(Re=>zl(Re,oe))}),T.forEach((W,J)=>{const oe=v.get(J);W.forEach(Re=>zl(Re,oe))}),_.forEach(W=>{this.processLeaveNode(W)})});const $=[],V=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(oe=>{const Re=oe.player,Jt=oe.element;if($.push(Re),this.collectedEnterElements.length){const kn=Jt[Vr];if(kn&&kn.setForMove){if(kn.previousTriggersValues&&kn.previousTriggersValues.has(oe.triggerName)){const $a=kn.previousTriggersValues.get(oe.triggerName),Br=this.statesByElement.get(oe.element);if(Br&&Br.has(oe.triggerName)){const wy=Br.get(oe.triggerName);wy.value=$a,Br.set(oe.triggerName,wy)}}return void Re.destroy()}}const Fi=!d||!this.driver.containsElement(d,Jt),Cr=v.get(Jt),_s=p.get(Jt),pt=this._buildInstruction(oe,r,_s,Cr,Fi);if(pt.errors&&pt.errors.length)return void V.push(pt);if(Fi)return Re.onStart(()=>La(Jt,pt.fromStyles)),Re.onDestroy(()=>Ni(Jt,pt.toStyles)),void i.push(Re);if(oe.isFallbackTransition)return Re.onStart(()=>La(Jt,pt.fromStyles)),Re.onDestroy(()=>Ni(Jt,pt.toStyles)),void i.push(Re);const Eq=[];pt.timelines.forEach(kn=>{kn.stretchStartingKeyframe=!0,this.disabledNodes.has(kn.element)||Eq.push(kn)}),pt.timelines=Eq,r.append(Jt,pt.timelines),s.push({instruction:pt,player:Re,element:Jt}),pt.queriedElements.forEach(kn=>Ir(a,kn,[]).push(Re)),pt.preStyleProps.forEach((kn,$a)=>{if(kn.size){let Br=c.get($a);Br||c.set($a,Br=new Set),kn.forEach((wy,QA)=>Br.add(QA))}}),pt.postStyleProps.forEach((kn,$a)=>{let Br=l.get($a);Br||l.set($a,Br=new Set),kn.forEach((wy,QA)=>Br.add(QA))})});if(V.length){const W=[];V.forEach(J=>{W.push(function dye(n,e){return new x(3505,!1)}())}),$.forEach(J=>J.destroy()),this.reportError(W)}const _e=new Map,ft=new Map;s.forEach(W=>{const J=W.element;r.has(J)&&(ft.set(J,J),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,_e))}),i.forEach(W=>{const J=W.element;this._getPreviousPlayers(J,!1,W.namespaceId,W.triggerName,null).forEach(Re=>{Ir(_e,J,[]).push(Re),Re.destroy()})});const _n=_.filter(W=>DG(W,c,l)),ai=new Map;xG(ai,this.driver,I,l,Eo).forEach(W=>{DG(W,c,l)&&_n.push(W)});const bf=new Map;f.forEach((W,J)=>{xG(bf,this.driver,new Set(W),c,"!")}),_n.forEach(W=>{const J=ai.get(W),oe=bf.get(W);ai.set(W,new Map([...Array.from(J?.entries()??[]),...Array.from(oe?.entries()??[])]))});const Ba=[],bq=[],wq={};s.forEach(W=>{const{element:J,player:oe,instruction:Re}=W;if(r.has(J)){if(u.has(J))return oe.onDestroy(()=>Ni(J,Re.toStyles)),oe.disabled=!0,oe.overrideTotalTime(Re.totalTime),void i.push(oe);let Jt=wq;if(ft.size>1){let Cr=J;const _s=[];for(;Cr=Cr.parentNode;){const pt=ft.get(Cr);if(pt){Jt=pt;break}_s.push(Cr)}_s.forEach(pt=>ft.set(pt,Jt))}const Fi=this._buildAnimation(oe.namespaceId,Re,_e,o,bf,ai);if(oe.setRealPlayer(Fi),Jt===wq)Ba.push(oe);else{const Cr=this.playersByElement.get(Jt);Cr&&Cr.length&&(oe.parentPlayer=ps(Cr)),i.push(oe)}}else La(J,Re.fromStyles),oe.onDestroy(()=>Ni(J,Re.toStyles)),bq.push(oe),u.has(J)&&i.push(oe)}),bq.forEach(W=>{const J=o.get(W.element);if(J&&J.length){const oe=ps(J);W.setRealPlayer(oe)}}),i.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<_.length;W++){const J=_[W],oe=J[Vr];if(zl(J,Z_),oe&&oe.hasAnimation)continue;let Re=[];if(a.size){let Fi=a.get(J);Fi&&Fi.length&&Re.push(...Fi);let Cr=this.driver.query(J,_A,!0);for(let _s=0;_s<Cr.length;_s++){let pt=a.get(Cr[_s]);pt&&pt.length&&Re.push(...pt)}}const Jt=Re.filter(Fi=>!Fi.destroyed);Jt.length?pve(this,J,Jt):this.processLeaveNode(J)}return _.length=0,Ba.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const J=this.players.indexOf(W);this.players.splice(J,1)}),W.play()}),Ba}elementContainsData(e,t){let r=!1;const i=t[Vr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==pf;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=Ir(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}La(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const _=m[Vr];if(_&&_.removedBeforeQueried)return new Yh(p.duration,p.delay);const y=m!==c,I=function mve(n){const e=[];return TG(n,e),e}((r.get(m)||ave).map(_e=>_e.getRealPlayer())).filter(_e=>!!_e.element&&_e.element===m),v=o.get(m),T=s.get(m),$=Z3(0,this._normalizer,0,p.keyframes,v,T),V=this._buildPlayer(p,$,I);if(p.subTimeline&&i&&d.add(m),y){const _e=new kA(e,a,m);_e.setRealPlayer(V),l.push(_e)}return V});l.forEach(p=>{Ir(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function dve(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Ur(p,aG));const f=ps(h);return f.onDestroy(()=>{u.forEach(p=>zl(p,aG)),Ni(c,t.toStyles)}),d.forEach(p=>{Ir(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Yh(e.duration,e.delay)}}class kA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Yh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>uA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ir(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function dy(n){return n&&1===n.nodeType}function IG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function xG(n,e,t,r,i){const o=[];t.forEach(c=>o.push(IG(c)));const s=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,i);u.set(d,h),(!h||0==h.length)&&(l[Vr]=cve,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>IG(c,o[a++])),s}function CG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Ur(n,e){n.classList?.add(e)}function zl(n,e){n.classList?.remove(e)}function pve(n,e,t){ps(t).onDone(()=>n.processLeaveNode(e))}function TG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof p3?TG(r.players,e):e.push(r)}}function DG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class hy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new uve(e,t,r),this._timelineEngine=new nve(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],u=wA(this._driver,o,c,[]);if(c.length)throw function eye(n,e){return new x(3404,!1)}();a=function Zye(n,e,t){return new Jye(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=J3(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=J3(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let yve=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ni(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ni(this._element,this._initialStyles),this._endStyles&&(Ni(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(La(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(La(this._element,this._endStyles),this._endStyles=null),Ni(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function RA(n){let e=null;return n.forEach((t,r)=>{(function vve(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class SG{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:fG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class bve{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return rG(e,t)}getParentElement(e){return pA(e)}query(e,t,r){return iG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof SG);(function xye(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>l.set(m,p))});let d=function bye(n){return n.length?n[0]instanceof Map?n:n.map(e=>cG(e)):[]}(t).map(f=>ms(f));d=function Cye(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,fG(n,a)))}}return e}(e,d,l);const h=function _ve(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=RA(e[0]),e.length>1&&(r=RA(e[e.length-1]))):e instanceof Map&&(t=RA(e)),t||r?new yve(n,t,r):null}(e,d);return new SG(e,d,c,h)}}let wve=(()=>{class n extends d3{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:jr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?h3(t):t;return AG(this._renderer,null,r,"register",[i]),new Eve(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C(bu),C($e))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class Eve extends Lme{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ive(this._id,e,t||{},this._renderer)}}class Ive{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return AG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function AG(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const MG="@.disabled";let xve=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new kG("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(s,a,t,u.name,u)};return r.data.animation.forEach(c),new Cve(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C(bu),C(hy),C(ve))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class kG{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==MG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Cve extends kG{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==MG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Tve(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Dve(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Sve=(()=>{class n extends hy{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C($e),C(mA),C(TA),C(Rc))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const RG=[{provide:d3,useClass:wve},{provide:TA,useFactory:function Ave(){return new Kye}},{provide:hy,useClass:Sve},{provide:bu,useFactory:function Mve(n,e,t){return new xve(n,e,t)},deps:[Xp,hy,ve]}],NA=[{provide:mA,useFactory:()=>new bve},{provide:$u,useValue:"BrowserAnimations"},...RG],NG=[{provide:mA,useClass:oG},{provide:$u,useValue:"NoopAnimations"},...RG];let kve=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?NG:NA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:NA,imports:[OX]}),n})();const Rve=["addListener","removeListener"],Nve=["addEventListener","removeEventListener"],Ove=["on","off"];function py(n,e,t,r){if(Ce(t)&&(r=t,t=void 0),r)return py(n,e,t).pipe(k0(r));const[i,o]=function Lve(n){return Ce(n.addEventListener)&&Ce(n.removeEventListener)}(n)?Nve.map(s=>a=>n[s](e,a,t)):function Pve(n){return Ce(n.addListener)&&Ce(n.removeListener)}(n)?Rve.map(OG(n,e)):function Fve(n){return Ce(n.on)&&Ce(n.off)}(n)?Ove.map(OG(n,e)):[];if(!i&&Sy(n))return Lt(s=>py(s,e,t))(Kn(n));if(!i)throw new TypeError("Invalid event target");return new Oe(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function OG(n,e){return t=>r=>n[t](e,r)}const Uve={connector:()=>new Mt};function PG(n,e=Uve){const{connector:t}=e;return ot((r,i)=>{const o=t();Kn(n(function Vve(n){return new Oe(e=>n.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function FG(n,e){return e?t=>Oc(e.pipe(jt(1),function jve(){return ot((n,e)=>{n.subscribe(st(e,Kl))})}()),t.pipe(FG(n))):Lt((t,r)=>n(t,r).pipe(jt(1),tF(t)))}const mf="Service workers are disabled or not supported by this browser";class my{constructor(e){if(this.serviceWorker=e,e){const r=py(e,"controllerchange").pipe(Q(()=>e.controller)),o=Oc(Jp(()=>q(e.controller)),r);this.worker=o.pipe(Tn(u=>!!u)),this.registration=this.worker.pipe(Un(()=>e.getRegistration()));const l=py(e,"message").pipe(Q(u=>u.data)).pipe(Tn(u=>u&&u.type)).pipe(function $ve(n){return n?e=>PG(n)(e):e=>function Bve(n,e){const t=Ce(n)?n:()=>n;return Ce(e)?PG(e,{connector:t}):r=>new O0(r,t)}(new Mt)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function qve(n){return Jp(()=>Ls(new Error(n)))}(mf)}postMessage(e,t){return this.worker.pipe(jt(1),_t(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Tn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(jt(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Tn(t=>t.nonce===e),jt(1),Q(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Wve=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Mt,!t.isEnabled)return this.messages=Ci,this.notificationClicks=Ci,void(this.subscription=Ci);this.messages=this.sw.eventsOfType("PUSH").pipe(Q(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Q(i=>i.data)),this.pushManager=this.sw.registration.pipe(Q(i=>i.pushManager));const r=this.pushManager.pipe(Un(i=>i.getSubscription()));this.subscription=Df(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(mf));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Un(s=>s.subscribe(r)),jt(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(jt(1),Un(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(mf))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(C(my))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Kve=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Ci,this.available=Ci,this.activated=Ci,void(this.unrecoverable=Ci);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Tn(r=>"VERSION_READY"===r.type),Q(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(mf));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(mf));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(C(my))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class OA{}const LG=new R("NGSW_REGISTER_SCRIPT");function Qve(n,e,t,r){return()=>{if(!b0(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=q(null);break;case"registerWithDelay":i=VG(+a[0]||0);break;case"registerWhenStable":i=a[0]?Df(UG(n),VG(+a[0])):UG(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ve).runOutsideAngular(()=>i.pipe(jt(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function VG(n){return q(null).pipe(function Gve(n,e=Fm){const t=function zve(n=0,e,t=Rie){let r=-1;return null!=e&&(_M(e)?t=e:r=e),new Oe(i=>{let o=function Hve(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e);return FG(()=>t)}(n))}function UG(n){return n.get(Rc).isStable.pipe(Tn(t=>t))}function Yve(n,e){return new my(b0(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Xve=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:LG,useValue:t},{provide:OA,useValue:r},{provide:my,useFactory:Yve,deps:[OA,Lo]},{provide:Uu,useFactory:Qve,deps:[sn,LG,OA,Lo],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[Wve,Kve]}),n})();const Zve_firebase={projectId:"pokeapp-f1c97",appId:"1:1037505311189:web:6a18d82bcd5689c9da0d5c",storageBucket:"pokeapp-f1c97.appspot.com",locationId:"europe-west3",apiKey:"AIzaSyA4NlcRt_9Ge3Ew4JdJNoY1J6Tywa-n3pI",authDomain:"pokeapp-f1c97.firebaseapp.com",messagingSenderId:"1037505311189"},BG="firebasestorage.googleapis.com";class ht extends _r{constructor(e,t,r=0){super(PA(e),`Firebase Storage: ${t} (${PA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return PA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function PA(n){return"storage/"+n}function LA(n){return new ht("invalid-argument",n)}function GG(){return new ht("app-deleted","The Firebase app was deleted.")}class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qn.makeFromUrl(e,t)}catch{return new qn(e,"")}if(""===r.path)return r;throw function cbe(n){return new ht("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(T){T.path_=decodeURIComponent(T.path)}const d=t.replace(/[.]/g,"\\."),v=[{regex:a,indices:{bucket:1,path:3},postModify:function o(T){"/"===T.path.charAt(T.path.length-1)&&(T.path_=T.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===BG?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<v.length;T++){const $=v[T],V=$.regex.exec(e);if(V){let ft=V[$.indices.path];ft||(ft=""),r=new qn(V[$.indices.bucket],ft),$.postModify(r);break}}if(null==r)throw function abe(n){return new ht("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class pbe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function UA(n,e,t,r){if(r<e)throw LA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw LA(`Invalid value for '${n}'. Expected ${t} or less.`)}var gs=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(gs||(gs={})),gs))();class bbe{constructor(e,t,r,i,o,s,a,c,l,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function _be(n){return void 0!==n}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=function FA(){return new ht("unknown","An unknown error occurred, please check the error payload for server response.")}();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?GG():function HG(){return new ht("canceled","User canceled the upload/download.")}():function jG(){return new ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new _y(!1,null,!0)):this.backoffId_=function mbe(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(..._){l||(l=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,n(f,c())},_)}function h(){o&&clearTimeout(o)}function f(_,...y){if(l)return void h();if(_)return h(),void u.call(null,_,...y);if(c()||s)return h(),void u.call(null,_,...y);let v;r<64&&(r*=2),1===a?(a=2,v=0):v=1e3*(r+Math.random()),d(v)}let p=!1;function m(_){p||(p=!0,h(),!l&&(null!==i?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},t),m}((r,i)=>{if(i)return void r(!1,new _y(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===gs.NO_ERROR,c=o.getStatus();if((!a||function KG(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}(c,this.additionalRetryCodes_))&&this.retry){const u=o.getErrorCode()===gs.ABORT;return void r(!1,new _y(!1,null,u))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new _y(l,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function gbe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _y{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class Ua{constructor(e,t){this._service=e,this._location=t instanceof qn?t:qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ua(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function JG(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Obe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new qn(this._location.bucket,e);return new Ua(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function fbe(n){return new ht("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function pq(n,e){const t=e?.storageBucket;return null==t?null:qn.makeFromBucketSpec(t,n)}class qA{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=BG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?qn.makeFromBucketSpec(i,this._host):pq(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?qn.makeFromBucketSpec(this._url,e):pq(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ua(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new pbe(GG());{const s=function Cbe(n,e,t,r,i,o,s=!0){const a=function WG(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function Ibe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(l,e),function wbe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(l,t),function Ebe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function xbe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(l,r),new bbe(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return g(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const mq="@firebase/storage",_q="storage";function v0e(n=Am(),e){const r=qs(n=Nt(n),_q).getImmediate({identifier:e}),i=fL("storage");return i&&function b0e(n,e,t,r={}){!function y0e(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:mL(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function w0e(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new qA(t,r,i,e,Ws)}!function E0e(){Dn(new cn(_q,w0e,"PUBLIC").setMultipleInstances(!0)),Je(mq,"0.10.0",""),Je(mq,"0.10.0","esm2017")}();class WA{constructor(e){return e}}const yq="storage",KA=new R("angularfire2.storage-instances");function C0e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new WA(r)}}const T0e={provide:class I0e{constructor(){return Vm(yq)}},deps:[[new lt,KA]]},D0e={provide:WA,useFactory:function x0e(n,e){const t=Lm(yq,n,e);return t&&new WA(t)},deps:[[new lt,KA],ea]};let S0e=(()=>{class n{constructor(){Je("angularfire",vd.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[D0e,T0e]}),n})();const M0e=ni(v0e,!0);(function AX(n,e){return W9({rootComponent:n,...BP(e)})})(Lh,{providers:[function cee(n,...e){return _k([{provide:jc,multi:!0,useValue:n},[],{provide:Uc,useFactory:nL,deps:[Bn]},{provide:jb,multi:!0,useFactory:rL},e.map(t=>t.\u0275providers)])}(R_e,oL()),G3(),yk(kve,i_e,Xve.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),function Hie(n,...e){return{ngModule:jie,providers:[{provide:uI,useFactory:$ie(n),multi:!0,deps:[ve,sn,Um,...e]}]}}(()=>zie(Zve_firebase)),function Tce(n,...e){return{ngModule:Cce,providers:[{provide:CC,useFactory:Ece(n),multi:!0,deps:[ve,sn,Um,Bm,[new lt,Wm],...e]}]}}(()=>Sce()),function vfe(n,...e){return{ngModule:yfe,providers:[{provide:xS,useFactory:mfe(n),multi:!0,deps:[ve,sn,Um,Bm,[new lt,xC],[new lt,Wm],...e]}]}}(()=>wfe()),function A0e(n,...e){return{ngModule:S0e,providers:[{provide:KA,useFactory:C0e(n),multi:!0,deps:[ve,sn,Um,Bm,[new lt,xC],[new lt,Wm],...e]}]}}(()=>M0e()))]}).catch(n=>console.error(n))}},Ce=>{Ce(Ce.s=533)}]);